{"version":3,"kind":"Article","sha256":"26cf4d127b77dbd421de00abc2f5c4a415ea389523e11e5aacf18ac87ed9c1e6","slug":"xioreadcsvfile","location":"/xioreadcsvfile.md","dependencies":[],"frontmatter":{"title":"IO Read CSV File","content_includes_title":false,"authors":[{"nameParsed":{"literal":"James Goudy","given":"James","family":"Goudy"},"name":"James Goudy","id":"contributors-a_books\\csci_javalang_book\\myst-generated-uid-0"}],"github":"https://github.com/executablebooks/jupyter-book","numbering":{"title":{"offset":1}},"exports":[{"format":"md","filename":"xioreadcsvfile.md","url":"/CSCIJAVALang/build/xioreadcsvfile-155f4a0a536c6530e2e269bce7539653.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Key Ideas","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Wk2XuKEcwq"}],"identifier":"key-ideas","label":"Key Ideas","html_id":"key-ideas","implicit":true,"key":"UFrESZgEfR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Read a comma-separated file","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rio0a4H7ss"}],"key":"q0rUan7nT1"}],"key":"kAwq1qwCPf"},{"type":"heading","depth":2,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Lecture Code","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"zzqJ5dTSlX"}],"identifier":"lecture-code","label":"Lecture Code","html_id":"lecture-code","implicit":true,"key":"w7ZQVuTTex"},{"type":"code","lang":"java","value":"/*\n * Programmer: James Goudy\n * Project: IO_CSV_Demo Rev 2 20220630\n * Updated: 9/2023\n */\npackage com.company.my.j1_io_csv_demo_rev2;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\n\n/**\n *\n * @author jgoudy\n */\n\nclass readCSV_BufferedReader {\n\n    BufferedReader br;\n    FileReader fr;\n\n    int numCols;\n    int numRows;\n\n\n    String filePath;\n\n    public readCSV_BufferedReader(String filePath) {\n\n        this.filePath = filePath;\n\n        // creating a buffered reader in its own function\n        // this will allow the resetting of the buffered reader\n        createBufferedReader(filePath);\n\n    }\n\n    private void createBufferedReader(String thefilePath) {\n        \n        // BufferedReader requires a try and catch\n        try {\n            br = new BufferedReader(new FileReader(thefilePath));\n        } catch (IOException ex) {\n            System.out.println(ex.getMessage());\n        }\n\n    }\n\n  \n\n    \n    private void getArrayDimensions() {\n\t\n        // this function is used only for calculating the \n        // dimension of an array\n        \n        String inputLine = \"\";\n\n        try {\n\n            // skip the header row and use inputLine to\n            // get the column count\n            inputLine = br.readLine();\n            String[] inputArrary = inputLine.split(\",\");\n            numCols = inputArrary.length;\n\n            // count rows\n            while ((inputLine = br.readLine()) != null) {\n                numRows++;\n            }\n\n            // optional prints to verify Rows and cols\n            // System.out.println(\"Rows = \" + numRows);\n            // System.out.println(\"Cols = \" + numCols);\n\n        } catch (IOException ex) {\n            System.out.println(ex.getMessage());\n        }\n\n    } \n\n    public String[][] readDataIntoArray() {\n        \n        // this function will return a 2 dimensional array\n        // not this can be modified to read in data and save \n        // it to a linked list.  In that case, all the dataArray\n        // code can be eliminated. One we still need to do the \n        // input array code.\n        \n        \n        getArrayDimensions();\n        \n        // instantiate the new array\n        String[][] dataArray = new String[numRows][numCols];\n        String inputLine;\n        \n        int rowCount = 0;\n\n        // reset buffered reader\n        createBufferedReader(this.filePath);\n\n        try {\n\n            // skip the header row        \n            br.readLine();\n\n            // br.readline reads the input file line\n            // and stores it in inputline within the while statement\n            \n            while ((inputLine = br.readLine()) != null) {\n\n                // split the inputline into a string array\n                String[] inputArrary = inputLine.split(\",\");\n                \n                // add the data from the inputArray to the dataArray\n                for(int i = 0; i < inputArrary.length; i++)\n                {\n                    dataArray[rowCount][i] = inputArrary[i];\n                }\n                System.out.println(\"\");\n\n                rowCount++;\n            }\n\n        } catch (IOException ex) {\n            System.out.println(ex.getMessage());\n        }\n\n        return dataArray;\n    }\n\n    // setters and getters\n    public int getNumCols() {\n        return numCols;\n    }\n\n    public int getNumRows() {\n        return numRows;\n    }\n\n    public String getFilePath() {\n        return filePath;\n    }\n\n    public void setFilePath(String filePath) {\n        this.filePath = filePath;\n    }\n    \n\n}  // end of class\n\npublic class J1_IO_CSV_Demo_Rev2 {\n    \n    static String[][] theArray;\n    \n    public void printArray(int rows, int cols)\n    {\n       for (int r = 0; r < cols; r++) {\n            for(int c = 0; c < cols; c++)\n            {\n                System.out.print(theArray[r][c] + \" \");\n            }\n            System.out.println(\"\");\n        }\n        \n    }\n\n    public static void main(String[] args) {\n      \n        // file location\n        String dataFile = \"c:\\\\z\\\\citydata.csv\";\n        \n        // instantiate a new object\n        readCSV_BufferedReader br = new readCSV_BufferedReader(dataFile);\n        \n        \n        theArray = new String[br.getNumRows()][br.getNumCols()];\n        \n        try {\n           // This will over write the current array\n           // with the returned array with the new dimensions\n           theArray = br.readDataIntoArray(); \n            \n        } catch (Exception e) {\n            \n            System.out.println(e.getMessage());\n        }\n        \n        // print the array\n        printArray(br.getNumRows(),br.br.getNumCols());\n\n        // exit\n        System.out.println(\"\\nbye\");\n    }\n}\n\n\n/*\n citydata.csv\n Key,Town,State,Population\n 1,New York,New York,18713220\n 2,Los Angeles,California,12750807\n 3,Chicago,Illinois,8604203\n 4,Miami,Florida,6445545\n 5,Dallas,Texas,5743938\n 6,Philadelphia,Pennsylvania,5649300\n 7,Houston,Texas,5464251\n 8,Atlanta,Georgia,5449398\n 9,Washington,District of Columbia,5379184\n 10,Boston,Massachusetts,4688346\n 11,Phoenix,Arizona,4219697\n 12,Seattle,Washington,3789215\n 13,San Francisco,California,3592294\n 14,Detroit,Michigan,3506126\n 15,San Diego,California,3220118\n 16,Minneapolis,Minnesota,2977172\n 17,Tampa,Florida,2908063\n 18,Denver,Colorado,2876625\n 19,Brooklyn,New York,2559903\n 20,Queens,New York,2230722\n 21,Riverside,California,2107852\n 22,Baltimore,Maryland,2106068\n 23,Las Vegas,Nevada,2104198\n 24,Portland,Oregon,2074775\n 25,San Antonio,Texas,2049293\n 26,St. Louis,Missouri,2024074\n 27,Sacramento,California,1898019\n 28,Orlando,Florida,1822394\n 29,San Jose,California,1798103\n 30,Cleveland,Ohio,1710093\n 31,Pittsburgh,Pennsylvania,1703266\n 32,Austin,Texas,1687311\n 33,Cincinnati,Ohio,1662691\n 34,Kansas City,Missouri,1636715\n 35,Manhattan,New York,1628706\n 36,Indianapolis,Indiana,1588961\n 37,Columbus,Ohio,1562009\n 38,Charlotte,North Carolina,1512923\n 39,Virginia Beach,Virginia,1478868\n 40,Bronx,New York,1418207\n 41,Milwaukee,Wisconsin,1365787\n 42,Providence,Rhode Island,1203230\n 43,Jacksonville,Florida,1181496\n 44,Salt Lake City,Utah,1098526\n 45,Nashville,Tennessee,1081903\n 46,Richmond,Virginia,1075798\n 47,Memphis,Tennessee,1066967\n 48,Raleigh,North Carolina,1038738\n 49,New Orleans,Louisiana,1020886\n 50,Louisville,Kentucky,1005654\n *\n */\n","position":{"start":{"line":15,"column":1},"end":{"line":270,"column":1}},"key":"otfRde8Qwm"},{"type":"thematicBreak","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"key":"A6Qz4eVQTn"},{"type":"paragraph","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"children":[{"type":"text","value":"End of Topic","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"key":"ToUDtSxC6S"}],"key":"CkLtBqDxhI"}],"key":"Z4gVHj7N3f"}],"key":"UxOeFZNIcN"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"File, Folder - Creation and Deletion","url":"/xiofilefoldercreationdeletion","group":"Java Language"},"next":{"title":"Arrays","url":"/xarrays","group":"Java Language"}}},"domain":"http://localhost:3001"}