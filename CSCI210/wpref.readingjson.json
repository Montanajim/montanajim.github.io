{"version":2,"kind":"Article","sha256":"f47253e34769149b48dd2079f993752e76db04f170118268abdd77fe6f9bed9c","slug":"wpref.readingjson","location":"/wpref/Readingjson.md","dependencies":[],"frontmatter":{"title":"Reading json","content_includes_title":false,"authors":[{"nameParsed":{"literal":"James Goudy","given":"James","family":"Goudy"},"name":"James Goudy","id":"contributors-a_books\\csci210_webprog\\wpbook\\myst-generated-uid-0"}],"copyright":"2024 By James Goudy","exports":[{"format":"md","filename":"Readingjson.md","url":"/CSCI210//build/Readingjson-250a49c881cd233a17739acf229d2ecd.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"This code displays a table of Harry Potter spells on a webpage. Here’s a breakdown:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"EPWiZ97eZL"}],"key":"ckn93nrRkK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"HTML Structure:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vBwvZBbzbJ"}],"key":"G3iES3Bbwb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Defines a basic webpage with a title (“Spells”) and a content area.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EIEpzVnk2A"}],"key":"taNAHF1XXM"}],"key":"Gl7iavaAZn"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Styles the content area and a table to improve presentation.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"FNtWHncykM"}],"key":"mdxeCC2Jc7"}],"key":"N2woCHV3sh"}],"key":"iEGUXlX5vH"}],"key":"CmabcHXLuv"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"PHP Script:","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"bve7mXB4Gk"}],"key":"y4nqZJWPjX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Retrieves JSON data (currently from a specific URL) containing spell information.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"jJhNY6FzmP"}],"key":"daYYbSBMXL"}],"key":"vhCKkbjnud"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Decodes the JSON data into an array for easier access.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"kx8GkHj8ly"}],"key":"TUD1xXV2OD"}],"key":"hk6YXnMDbb"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Builds an HTML table with headers for “Spell Name,” “Incantation,” “Spell Type,” and “Effect.”","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"p93iHOG4K4"}],"key":"q944WCLWBc"}],"key":"JNZeP5JxH0"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Loops through each spell in the array and displays its details in a table row.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"cfo4SbtUAh"}],"key":"BijTH3G61O"}],"key":"AI3QX9UqJY"}],"key":"wr4LvpmypS"}],"key":"WBvyqWfDtq"}],"key":"HDEMHbI8J4"},{"type":"code","lang":"php","value":"<!DOCTYPE html>\n<html>\n<head>\n  <title>Spells</title>\n  <style>\n    /* Style the table for better presentation */\n    table {\n      border-collapse: collapse; /* Remove borders between cells */\n    }\n    th {\n      background-color: ivory; /* Set header background color */\n      text-align: left; /* Align text left in headers */\n    }\n    tr:nth-child(even) {\n      background-color: lightgrey; /* Alternate row background color */\n    }\n    .content {\n      background-color: cornsilk; /* Set content area background color */\n      margin: auto; /* Center the content horizontally */\n      width: 65%; /* Set content area width to 50% */\n    }\n  </style>\n</head>\n<body>\n<div class=\"content\">\n  <h1>Harry Potter Spells</h1>\n\n  <?php\n\n  // // Retrieve JSON data from a URL (replace with your actual URL)\n  // $json = file_get_contents('url_here');\n  // // Decode the JSON data into an object\n  // $obj = json_decode($json);\n\n  // Fetch JSON data from a specific URL (replace if needed)\n  $url = 'https://flutter.locusnoesis.com/spellsinfo.php/';\n  $json = file_get_contents($url);\n\n  // Decode the JSON data into an array\n  // Set second argument to true for associative array\n  $spellsArr = json_decode($json, true); \n \n\n  // Start building the HTML table\n  echo('<table border=\"1\">\n          <tr>\n            <th>Spell Name</th>  <th>Incantation</th>\n            <th>Spell Type</th>\n            <th>Effect</th>\n          </tr>');\n\n  // Loop through each spell in the array\n  for ($r = 0; $r < count($spellsArr); $r++) {\n    echo('<tr>');\n\n    // Access the current spell object\n    $currentSpell = $spellsArr[$r];  \n\n    // Loop through each property (key-value pair) of the current spell\n    foreach ($currentSpell as $key => $value) {\n      echo('<td>');\n      echo($value);\n      echo('</td>');\n    }\n\n    echo('</tr>');\n  }\n\n  echo('</table>');\n\n  ?>\n</div>\n</body>\n</html>","position":{"start":{"line":18,"column":1},"end":{"line":93,"column":1}},"key":"iDEjY8gGjr"},{"type":"paragraph","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"strong","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Analysis:","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"pnsWfJlcWp"}],"key":"Tt4ghF47Ir"}],"key":"yYex6UgRGS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":97,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The code displays a table of Harry Potter spells.","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"MdB3MyFvcv"}],"key":"yw7IR8g6wJ"}],"key":"TIsa5nMgwW"},{"type":"listItem","spread":true,"position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"It retrieves data (currently from a specific URL) in JSON format and parses it into an array.","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"U5rZYcB7eM"}],"key":"LMFUabzhVX"}],"key":"csBBgTxi6o"},{"type":"listItem","spread":true,"position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The code loops through the spells and displays each spell’s properties (name, incantation, type, effect) in a table row.","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"n9ttktwgyt"}],"key":"d8GSbvgBqb"}],"key":"LJD19eNAeV"},{"type":"listItem","spread":true,"position":{"start":{"line":100,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The styling section defines the table’s appearance and the content area’s layout.","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"PrVIxPT9hh"}],"key":"qzIyy2RsoY"}],"key":"w9maLYoghU"}],"key":"Q6Dismid5L"},{"type":"paragraph","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"strong","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"Improvements:","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"rHwS8PxTt8"}],"key":"eRh1pChQAV"}],"key":"agjkpttBHL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":104,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The commented-out section shows how to replace the placeholder URL with your actual data source.","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"K4RaT1Qdyp"}],"key":"IiTbUbxlyX"}],"key":"bsCDyIgImM"},{"type":"listItem","spread":true,"position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"kPK3udq6wP"},{"type":"inlineCode","value":"json_decode","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"FdsJr0ql6X"},{"type":"text","value":" function’s second argument is set to ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"exPQKfWtHQ"},{"type":"inlineCode","value":"true","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"nQhCfR9gaW"},{"type":"text","value":" to ensure an associative array is returned, making it easier to access properties by their names.","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"Q1w49jzLP3"}],"key":"HiHugnffyY"}],"key":"Wr7dnJ6yht"},{"type":"listItem","spread":true,"position":{"start":{"line":106,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The code assumes the JSON data structure is consistent. Error handling could be added to handle unexpected data formats.","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"r2N5ZD0pHJ"}],"key":"Y77rcAZFBj"}],"key":"UARu5dGKvO"}],"key":"frE6FPAKu3"}],"key":"ozs24RnYDm"}],"key":"QiYteZFMXX"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Saving Pictures In Database","url":"/wpref/savingpicturesindatabase","group":"Web Programming"},"next":{"title":"Date Function","url":"/wpref/datefunctionphp","group":"Web Programming"}}},"domain":"http://localhost:3000"}