{"version":2,"kind":"Article","sha256":"46864d117eb771634e94328af7497774e8397d60a202f2b031896a326583197c","slug":"zpdoconnections","location":"/zPDOConnections.md","dependencies":[],"frontmatter":{"title":"PDO Connections","content_includes_title":false,"authors":[{"nameParsed":{"literal":"James Goudy","given":"James","family":"Goudy"},"name":"James Goudy","id":"contributors-a_books\\csci210_webprog\\wpbookdocmov\\myst-generated-uid-0"}],"copyright":"2024 By James Goudy","exports":[{"format":"md","filename":"zPDOConnections.md","url":"/zPDOConnections-963bc5adb1e9b38d069fe20d59f45c75.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"EsrkMzLrlg"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"A9hnFJJxz0"},{"type":"blockquote","position":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The PHP Data Objects (PDO) extension defines a lightweight, consistent interface for accessing databases in PHP. Each database driver that implements the PDO interface can expose database-specific features as regular extension functions. Note that you cannot perform any database functions using the PDO extension by itself; you must use a database-specific PDO driver to access a database server.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qu8976S6FB"}],"key":"BVm6mo76nA"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"PDO provides a data-access abstraction layer, which means that, regardless of which database you’re using, you use the same functions to issue queries and fetch data.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"bJiy7ufoAK"}],"key":"wbJpfH78M6"},{"type":"text","value":" PDO does not provide a database abstraction; it doesn’t rewrite SQL or emulate missing features. You should use a full-blown abstraction layer if you need that facility.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"KbxlWThlLP"}],"key":"kCG7AHYHV1"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"PDO ships with PHP.  ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"B2O76ur8Db"},{"type":"link","url":"https://www.php.net/manual/en/intro.pdo.php","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"php introduction 10/2023","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"J0CTxLrcuk"}],"urlSource":"https://www.php.net/manual/en/intro.pdo.php","key":"vW1YNaM1wv"}],"key":"YwbJjBfxHK"}],"key":"wUNc9LH3c8"},{"type":"heading","depth":2,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Database Connections","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"eHxRkecIn6"}],"identifier":"database-connections","label":"Database Connections","html_id":"database-connections","implicit":true,"key":"fCYAxB0kwI"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Connection strings do the following:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"dD3YYjU2iR"}],"key":"XJDqcWepsP"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"identify what type of database they are connecting to","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"oy8sUjIRuN"}],"key":"FTwu748QtQ"}],"key":"DAZ0M8e494"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"where the database/host is located on the web","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"v3mlVEPnTA"}],"key":"Y9JilnTRyv"}],"key":"lnW30T7x7y"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"the database name","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"PSez7e9H8j"}],"key":"s4wkJAq68O"}],"key":"ZIAbkRyozN"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"username with the appropriate privileges","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"mE6KYtVPWw"}],"key":"TaVaaAxSE9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"NOTE: when going to production, ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"ItNHbtSSck"},{"type":"strong","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"No username facing the public internet should have admin rights!","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"pLkeBZyLuH"}],"key":"f5iTM88w8Z"}],"key":"OJWCw5fdTm"}],"key":"ZHcgI4T1L4"}],"key":"QtSWy2kcNV"}],"key":"InEkgehpGj"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"password for the username","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"sIr3gKk74Z"}],"key":"l4agp9e7pC"}],"key":"YvsistIHbd"}],"key":"ks3Y8hklds"},{"type":"blockquote","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"strong","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"NONE OF THE EXAMPLES INCLUDE SANITIZING THE DATA.  IN PRODUCTION, ALWAYS SANITIZE AND VALIDATE THE DATA BEFORE INSERTING IT INTO A DATABASE!","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"xx7FEWqMXl"}],"key":"KdC1rzWh2p"}],"key":"f4v1btSOFj"}],"key":"wBFZF1X5aa"},{"type":"code","lang":"php","value":"try {\n\n // MSSQL Server, Sybase, and Oracle\n\n $pdo = new PDO(\"sqlsrv:host=$host;dbname=$dbname, $user, $password\");\n $pdo = new PDO(\"sybase:host=$host;dbname=$dbname, $user, $password\");\n $pdo = new PDO(\"oci:host=$host;dbname=$dbname, $user, $password\");\n \n // MySQL with PDO_MYSQL\n $pdo = new PDO(\"mysql:host=$host;dbname=$dbname\", $user, $password);\n\n // SQLite Database\n $pdo = new PDO(\"sqlite:my/database/path/database.db\");\n    \n // ODBC\n $pdo = new PDO(\"odbc:host=$host;dbname=$dbname\", $user, $password);\n}\n\ncatch(PDOException $e) {\n\n  echo $e->getMessage();\n\n}","position":{"start":{"line":34,"column":1},"end":{"line":58,"column":1}},"key":"mFO63xvkn5"},{"type":"heading","depth":2,"position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"PDO Drivers","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"JQTMU3eSon"}],"identifier":"pdo-drivers","label":"PDO Drivers","html_id":"pdo-drivers","implicit":true,"key":"pBakVQP3WM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":66,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":66,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"| Driver name  | Supported databases                                          |\n| :----------- | :----------------------------------------------------------- |\n| PDO_CUBRID   | Cubrid                                                       |\n| PDO_DBLIB    | FreeTDS / Microsoft SQL Server / Sybase                      |\n| PDO_FIREBIRD | Firebird                                                     |\n| PDO_IBM      | IBM DB2                                                      |\n| PDO_INFORMIX | IBM Informix Dynamic Server                                  |\n| PDO_MYSQL    | MySQL 3.x/4.x/5.x/8.x                                        |\n| PDO_OCI      | Oracle Call Interface                                        |\n| PDO_ODBC     | ODBC v3 (IBM DB2, unixODBC and win32 ODBC)                   |\n| PDO_PGSQL    | PostgreSQL                                                   |\n| PDO_SQLITE   | SQLite 3 and SQLite 2                                        |\n| PDO_SQLSRV   | Microsoft SQL Server / SQL Azure                             |\n|              | From ","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"Rr2GKwkodt"},{"type":"link","url":"https://www.php.net/manual/en/pdo.drivers.php","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"text","value":"php.org","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"fBREMKTVvh"}],"urlSource":"https://www.php.net/manual/en/pdo.drivers.php","key":"hZf7y5BiFA"},{"type":"text","value":" |","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"hqaqfFA9jr"}],"key":"iVhdDj46ML"}],"checked":false,"key":"RALyh88ytx"}],"key":"blKuGdi9N1"},{"type":"heading","depth":2,"position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"text","value":"Close Connection","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"PCDxXikNss"}],"identifier":"close-connection","label":"Close Connection","html_id":"close-connection","implicit":true,"key":"iMtZlX7Zb8"},{"type":"code","lang":"php","value":"// close the connection\n\n$pdo = null;","position":{"start":{"line":87,"column":1},"end":{"line":91,"column":1}},"key":"D1Fa0b7SSR"},{"type":"heading","depth":2,"position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Error Modes","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"BfEHrN9XSi"}],"identifier":"error-modes","label":"Error Modes","html_id":"error-modes","implicit":true,"key":"KNX7H966Eb"},{"type":"paragraph","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"PDO::ERRMODE_SILENT","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"kxZKGLs4bo"}],"key":"AJiyrh4vBa"},{"type":"paragraph","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"This is the default error mode. It does not show any error exceptions","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"iONA2PJ8ym"}],"key":"lMGOIzIbTW"},{"type":"paragraph","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"PDO::ERRMODE_WARNING","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"PBXqH3l1Ri"}],"key":"xyyXz3PPnB"},{"type":"paragraph","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"This mode will issue a standard PHP warning, and allow the program to continue execution. It’s useful for debugging.","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"SC7NKhlgtA"}],"key":"l9LN4IOdhH"},{"type":"paragraph","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"PDO::ERRMODE_EXCEPTION","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"EiDo0X89fA"}],"key":"Je0kBgJ8j0"},{"type":"paragraph","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"This is the mode you should want in most situations. It fires an exception, allowing you to handle errors gracefully and hide data that might help someone exploit your system. Here’s an example of taking advantage of exceptions:","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"NJDEt1UU67"}],"key":"PG1UKePbJp"},{"type":"code","lang":"php","value":"$pdo->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_SILENT );\n\n$pdo->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING );\n\n$pdo->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );","position":{"start":{"line":115,"column":1},"end":{"line":121,"column":1}},"key":"BpYxRJq4dR"},{"type":"heading","depth":2,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Insert / Update","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"ZzmHXmPKIR"}],"identifier":"insert-update","label":"Insert / Update","html_id":"insert-update","implicit":true,"key":"wvqkNU7FFJ"},{"type":"paragraph","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"Prepare -> Sanitize -> Bind ","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"eUmOr48ok0"},{"type":"emphasis","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"->","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"UydVkXTOAT"}],"key":"JwqITuVNm7"},{"type":"text","value":" Execute","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"bC0QpAYuOv"}],"key":"ByjrdrRExk"},{"type":"heading","depth":2,"position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"text","value":"Prepared Statements","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"cckFdvB3Dn"}],"identifier":"prepared-statements","label":"Prepared Statements","html_id":"prepared-statements","implicit":true,"key":"JNUuAzrc3M"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"A prepared statement is a precompiled SQL statement that can be executed multiple times by sending just the data to the server. It has the added advantage of automatically making the ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"pMdL9lmn2B"},{"type":"strong","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"data used in the placeholders safe from SQL injection attacks","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"AjvydIJBtj"}],"key":"GvI4X0XTzf"},{"type":"text","value":".","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"nMMtzMszE3"}],"key":"Q1spGJ8FMV"},{"type":"code","lang":"php","value":"$pdo= $pdo->prepare(\"INSERT INTO tbl_names(first_name,last_name) VALUES(:first_name,:last_name )\");\n\n$pdo->execute();","position":{"start":{"line":139,"column":1},"end":{"line":143,"column":1}},"key":"oxu0tAbruj"},{"type":"heading","depth":3,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Placeholders","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"N3QGu1uVzF"}],"identifier":"placeholders","label":"Placeholders","html_id":"placeholders","implicit":true,"key":"zCge8Ir5s3"},{"type":"code","lang":"php","value":"// no placeholders - ripe for SQL Injection!\n\n$STH = $pdo->prepare(\"INSERT INTO folks (name, addr, city) values ($name, $addr, $city)\");\n\n \n\n// unnamed placeholders\n\n$STH = $pdo->prepare(\"INSERT INTO folks (name, addr, city) values (?, ?, ?);\n\n \n\n// named placeholders\n\n$STH = $pdo->prepare(\"INSERT INTO folks (name, addr, city) value (:name, :addr, :city)\");","position":{"start":{"line":149,"column":1},"end":{"line":165,"column":1}},"key":"Itr4kbClF4"},{"type":"heading","depth":3,"position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"children":[{"type":"text","value":"Unnamed Place Holders","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"qJubZt9T18"}],"identifier":"unnamed-place-holders","label":"Unnamed Place Holders","html_id":"unnamed-place-holders","implicit":true,"key":"e3GjyFS3cV"},{"type":"code","lang":"php","value":"// unnamed placeholders\n\n$STH = $pdo->(\"INSERT INTO folks (name, addr, city) values (?, ?, ?);\n\n// assign variables to each place holder, indexed 1-3\n\n$STH->bindParam(1, $name);\n\n$STH->bindParam(2, $addr);\n\n$STH->bindParam(3, $city);\n\n \n\n// insert one row\n\n$name = \"Moe\"\n\n$addr = \"1 Wicked Way\";\n\n$city = \"Arlington Heights\";\n\n$STH->execute();\n\n \n\n// insert another row with different values\n\n$name = \"Curly\"\n\n$addr = \"Schmuck Drive\";\n\n$city = \"Schaumburg\";\n\n$STH->execute();","position":{"start":{"line":171,"column":1},"end":{"line":207,"column":1}},"key":"uQ8e3HsRJH"},{"type":"heading","depth":3,"position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"Use an array","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"nVd6PVCZzA"}],"identifier":"use-an-array","label":"Use an array","html_id":"use-an-array","implicit":true,"key":"N4FBAwAo5E"},{"type":"code","lang":"php","value":"// the data we want to insert\n\n$data = array('Cathy', '9 Dark and Twisty Road', 'Cardiff');\n\n$STH = $pdo->prepare(\"INSERT INTO folks (name, addr, city) values (?, ?, ?);\n\n$STH->execute($data);","position":{"start":{"line":213,"column":1},"end":{"line":221,"column":1}},"key":"miMXSV1z73"},{"type":"heading","depth":3,"position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"Named Place Holders","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"ufkCxyYPfo"}],"identifier":"named-place-holders","label":"Named Place Holders","html_id":"named-place-holders","implicit":true,"key":"eIssE33cfw"},{"type":"code","lang":"php","value":"// the first argument is the named placeholder name - notice named\n\n// placeholders always start with a colon.\n\n$pdo->bindParam(':name', $name);\n\n\n// the data we want to insert\n$data = array( 'name' => 'Cathy', 'addr' => '9 Dark and Twisty', 'city' => 'Cardiff' );\n\n\n// the shortcut!\n\n$pdo = $pdo->(\"INSERT INTO folks (name, addr, city) value (:name, :addr, :city)\");\n\n$STH->execute($data);","position":{"start":{"line":231,"column":1},"end":{"line":248,"column":1}},"key":"AxGljsPq55"},{"type":"heading","depth":2,"position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"Fetching Data","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"TbZVmrTARM"}],"identifier":"fetching-data","label":"Fetching Data","html_id":"fetching-data","implicit":true,"key":"bzthWsoVhj"},{"type":"paragraph","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"PDO::FETCH_ASSOC: returns an array indexed by column name","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"sLa4WpEcDx"}],"key":"wh8ArG7laZ"},{"type":"paragraph","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"children":[{"type":"text","value":"PDO::FETCH_BOTH (default): returns an array indexed by both column name and number","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"UqEuM2hblj"}],"key":"BLAIN1Ed8r"},{"type":"paragraph","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"text","value":"PDO::FETCH_BOUND: Assigns the values of your columns to the variables set with the ->bindColumn() method","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"IfGQouSGL2"}],"key":"uWeX8AsFct"},{"type":"paragraph","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"text","value":"PDO::FETCH_CLASS: Assigns the values of your columns to properties of the named class. It will create the properties if matching properties do not exist","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"HORcIQpp28"}],"key":"EyYU2bw4tO"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"PDO::FETCH_INTO: Updates an existing instance of the named class","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"Auf19LQ7wb"}],"key":"DsDNNm0Qvj"},{"type":"paragraph","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"PDO::FETCH_LAZY: Combines PDO::FETCH_BOTH/PDO::FETCH_OBJ, creating the object variable names as they are used","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"xGD3qRlM38"}],"key":"RhjKEF6i2D"},{"type":"paragraph","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"PDO::FETCH_NUM: returns an array indexed by column number","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"BKYzwFpl9t"}],"key":"B46alq0hIz"},{"type":"paragraph","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"text","value":"PDO::FETCH_OBJ: returns an anonymous object with property names that correspond to the column names","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"U6owN76xj7"}],"key":"CFHM9fRkzJ"},{"type":"heading","depth":3,"position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"text","value":"FETCH_ASSOC","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"EsxkegXsuy"}],"identifier":"fetch-assoc","label":"FETCH_ASSOC","html_id":"fetch-assoc","implicit":true,"key":"ft3IP2OiiD"},{"type":"paragraph","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"children":[{"type":"text","value":"This fetch type creates an associative array, indexed by column name","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"LKlEXrGA38"}],"key":"oQEEh31CwV"},{"type":"code","lang":"php","value":"// using the shortcut ->query() method here since there are no variable\n\n// values in the select statement.\n$STH = $pdo->query('SELECT name, addr, city from folks');\n\n// setting the fetch mode\n$STH->setFetchMode(PDO::FETCH_ASSOC);\n\nwhile($row = $STH->fetch()) {\n\n  echo $row['name'] . \"\\n\";\n\n  echo $row['addr'] . \"\\n\";\n\n  echo $row['city'] . \"\\n\";\n\n}","position":{"start":{"line":282,"column":1},"end":{"line":300,"column":1}},"key":"dqKRPEZcn0"},{"type":"heading","depth":3,"position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"text","value":"FETCH_OBJ","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"key":"jVxvg1TiQg"}],"identifier":"fetch-obj","label":"FETCH_OBJ","html_id":"fetch-obj","implicit":true,"key":"PkjBtu6UHI"},{"type":"paragraph","position":{"start":{"line":304,"column":1},"end":{"line":304,"column":1}},"children":[{"type":"text","value":"This fetch type creates an object of std class for each row of fetched data. Here’s an example:","position":{"start":{"line":304,"column":1},"end":{"line":304,"column":1}},"key":"KgSkHQHjP9"}],"key":"AWUltUlWsD"},{"type":"code","lang":"php","value":"// creating the statement\n$STH = $DBH->query('SELECT name, addr, city from folks');\n\n \n// setting the fetch mode\n$STH->setFetchMode(PDO::FETCH_OBJ);\n\n// showing the results\nwhile($row = $STH->fetch()) {\n\n  echo $row->name . \"\\n\";\n\n  echo $row->addr . \"\\n\";\n\n  echo $row->city . \"\\n\";\n\n}","position":{"start":{"line":306,"column":1},"end":{"line":324,"column":1}},"key":"de6V08ySb5"},{"type":"heading","depth":2,"position":{"start":{"line":330,"column":1},"end":{"line":330,"column":1}},"children":[{"type":"text","value":"Last Insert ID","position":{"start":{"line":330,"column":1},"end":{"line":330,"column":1}},"key":"AOquYjL9WC"}],"identifier":"last-insert-id","label":"Last Insert ID","html_id":"last-insert-id","implicit":true,"key":"hSZZXzjMpM"},{"type":"paragraph","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"children":[{"type":"text","value":"The ->lastInsertId() method is always called on the database handle, not the statement handle, and will return the auto-incremented id of the last inserted row by that connection.","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"LyyrJgVJvg"}],"key":"KyZ2uq7xLt"},{"type":"heading","depth":2,"position":{"start":{"line":336,"column":1},"end":{"line":336,"column":1}},"children":[{"type":"text","value":"Delete Files","position":{"start":{"line":336,"column":1},"end":{"line":336,"column":1}},"key":"bw1MIa2L1A"}],"identifier":"delete-files","label":"Delete Files","html_id":"delete-files","implicit":true,"key":"YPzZPCVXDP"},{"type":"code","lang":"php","value":"$pdo->exec('DELETE FROM folks WHERE 1');","position":{"start":{"line":338,"column":1},"end":{"line":340,"column":1}},"key":"z9uGtGvUgM"}],"key":"DZJmHE5dnW"}],"key":"qfoQTLraYr"},"references":{"cite":{"order":[],"data":{}}}}