{"version":"1","records":[{"hierarchy":{"lvl1":"CSCI 210 Web Programming"},"type":"lvl1","url":"/","position":0},{"hierarchy":{"lvl1":"CSCI 210 Web Programming"},"content":"This is the course notes for CSCI 210 Web Programming.\n\nWeb Programming\n\nPHP Introduction\n\nPHP Basics\n\nLoops and If\n\nPHP Arrays\n\nFunctions\n\nFirst Forms - POST and GET\n\nHTML Input Field Review\n\nSession Variables\n\nSession Variable Homework Assignment Hint\n\nPDO Connections\n\nPHP Closing Tags: Leave Them Out Or Out\n\nPDO - First Data Insert - Car Example\n\nPDO With No Named Placeholders\n\nString Sanitation - filter_var()\n\nDefending Against Cross Site Scripting\n\nXSS Examples\n\nContent Security Policy\n\nPasswords\n\nAdd Edit Delete\n\nSaving Pictures In Database\n\nReading json\n\nDate Function\n\nPHP + SQLite Shortcut Guide\n\nSearch Filter - SQLITE\n\nYou Tube Demo","type":"content","url":"/","position":1},{"hierarchy":{"lvl1":"Add Edit Delete"},"type":"lvl1","url":"/wpref/addeditdelete","position":0},{"hierarchy":{"lvl1":"Add Edit Delete"},"content":"Web Programming\n\nPHP Introduction\n\nPHP Basics\n\nLoops and If\n\nPHP Arrays\n\nFunctions\n\nFirst Forms - POST and GET\n\nHTML Input Field Review\n\nSession Variables\n\nSession Variable Homework Assignment Hint\n\nPDO Connections\n\nPHP Closing Tags: Leave Them Out Or Out\n\nPDO - First Data Insert - Car Example\n\nPDO With No Named Placeholders\n\nString Sanitation - filter_var()\n\nDefending Against Cross Site Scripting\n\nXSS Examples\n\nContent Security Policy\n\nPasswords\n\nAdd Edit Delete\n\nSaving Pictures In Database\n\nReading json\n\nDate Function\n\nPHP + SQLite Shortcut Guide\n\nSearch Filter - SQLITE\n\nYou Tube Demo\n\nDatabase SQL\n\ndbconnect.php\n\nindex.php\n\nInputdata_DisplayData.php\n\nDisplay_Edit.php\n\nEdit_data.php\n\nmenu.phpgraph TD\n\nA[index.php]-->B[Inputdata_DisplayData.php]\nA --> C[ Display_Edit.php]\nC --> D[Edit_Data.php]\nD --> C","type":"content","url":"/wpref/addeditdelete","position":1},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"Database SQL"},"type":"lvl2","url":"/wpref/addeditdelete#database-sql","position":2},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"Database SQL"},"content":"This SQL dump creates a small database named wp_dogdb, which is test database for storing information about dogs and U.S. states.\n\nHere‚Äôs what it does in essence:\n\nCreates the database wp_dogdb (if it doesn‚Äôt already exist).\n\nDefines two tables:\n\ntbl_doginfo ‚Äî stores details about dogs and their owners, including:\n\ndogname, dogbreed, ownerfirstname, ownerlastname, city, and st (state code).\n\nEach record has a unique dogid (auto-incremented primary key).\n\ntbl_state ‚Äî a simple reference table listing all U.S. state abbreviations.\n\nPopulates tbl_doginfo with four sample dogs (all owned by ‚ÄúJoe Cool‚Äù from ‚ÄúFluffy, AK‚Äù).\n\nPopulates tbl_state with the full list of 50 U.S. state abbreviations.-- phpMyAdmin SQL Dump\n-- version 4.7.0\n-- https://www.phpmyadmin.net/\n--\n-- Host: 127.0.0.1\n-- Generation Time: Nov 02, 2017 at 04:53 PM\n-- Server version: 10.1.22-MariaDB\n-- PHP Version: 7.1.4\n\nSET SQL_MODE = \"NO_AUTO_VALUE_ON_ZERO\";\nSET AUTOCOMMIT = 0;\nSTART TRANSACTION;\nSET time_zone = \"+00:00\";\n\n\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\n/*!40101 SET NAMES utf8mb4 */;\n\n--\n-- Database: `wp_dogdb`\n--\nCREATE DATABASE IF NOT EXISTS `wp_dogdb` DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci;\nUSE `wp_dogdb`;\n\n-- --------------------------------------------------------\n\n--\n-- Table structure for table `tbl_doginfo`\n--\n\nDROP TABLE IF EXISTS `tbl_doginfo`;\nCREATE TABLE IF NOT EXISTS `tbl_doginfo` (\n  `dogname` varchar(20) NOT NULL,\n  `dogbreed` varchar(20) NOT NULL,\n  `ownerfirstname` varchar(20) NOT NULL,\n  `ownerlastname` varchar(20) NOT NULL,\n  `city` varchar(20) NOT NULL,\n  `st` varchar(2) NOT NULL,\n  `dogid` int(7) NOT NULL AUTO_INCREMENT,\n  PRIMARY KEY (`dogid`)\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;\n\n--\n-- Dumping data for table `tbl_doginfo`\n--\n\nINSERT INTO `tbl_doginfo` (`dogname`, `dogbreed`, `ownerfirstname`, `ownerlastname`, `city`, `st`, `dogid`) VALUES\n('Barky', 'Spaniel', 'Joe', 'Cool', 'Fluffy', 'AK', 1),\n('Barky 3', 'Spaniel', 'Joe', 'Cool', 'Fluffy', 'AK', 2),\n('Barky 3', 'Spaniel', 'Joe', 'Cool', 'Fluffy', 'AK', 3),\n('Barky 4', 'Spaniel', 'Joe', 'Cool', 'Fluffy', 'AK', 4);\n\n-- --------------------------------------------------------\n\n--\n-- Table structure for table `tbl_state`\n--\n\nDROP TABLE IF EXISTS `tbl_state`;\nCREATE TABLE IF NOT EXISTS `tbl_state` (\n  `st` varchar(2) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\n\n--\n-- Dumping data for table `tbl_state`\n--\n\nINSERT INTO `tbl_state` (`st`) VALUES\n('AL'),('AK'),('AZ'),('AR'),('CA'),('CO'),('CT'),('DE'),('FL'),('GA'),\n('HI'),('ID'),('IL'),('IN'),('IA'),('KS'),('KY'),('LA'),('ME'),('MD'),\n('MA'),('MI'),('MN'),('MS'),('MO'),('MT'),('NE'),('NV'),('NH'),('NJ'),\n('NM'),('NY'),('NC'),('ND'),('OH'),('OK'),('OR'),('PA'),('RI'),('SC'),\n('SD'),('TN'),('TX'),('UT'),('VT'),('VA'),('WA'),('WV'),('WI'),('WY');\nCOMMIT;\n\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\n","type":"content","url":"/wpref/addeditdelete#database-sql","position":3},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"dbconnect.php"},"type":"lvl2","url":"/wpref/addeditdelete#dbconnect-php","position":4},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"dbconnect.php"},"content":"This PHP script attempts to connect to the wp_dogdb MySQL database using PDO.\n\nIf the connection is successful, it sets a status message saying ‚ÄúGood database connection.‚Äù\nIf the connection fails, it catches the exception and stores an error message containing the failure reason.\n\nFinally, it starts a PHP session‚Äîlikely to maintain user or application state across pages.<?php\n\ntry\n{\n    $pdo=new PDO(\"mysql:host=127.0.0.1;dbname=wp_dogdb\",'root','');\n    $pdo->setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_EXCEPTION);\n\n    $dbstatus = \"Good database connection\";\n}\n catch (PDOException $e)\n {\n     $dbstatus = \"Database connection failed <br>\".\n             $e->getMessage();    \n }\n session_start()\n\n?>\n","type":"content","url":"/wpref/addeditdelete#dbconnect-php","position":5},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"index.php"},"type":"lvl2","url":"/wpref/addeditdelete#index-php","position":6},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"index.php"},"content":"This PHP and HTML code creates a simple web form for entering dog information into a database. It begins by including the dbconnect.php file to establish a connection with the wp_dogdb database and displays the current connection status. The script then retrieves a list of U.S. state abbreviations from the tbl_state table, sorting them alphabetically, and stores the results for use in the form. The webpage presents an input form where users can enter details about a dog‚Äîsuch as its name, breed, and the owner‚Äôs first and last name, as well as the city and state. The state field is dynamically generated from the database query, ensuring the dropdown list reflects accurate state data. When the user submits the form, the entered information is sent via POST to Inputdata_DisplayData.php for further processing or display.<!DOCTYPE html>\n<html>\n<head>\n<title>Home Page</title>\n\n\n<?php\n\trequire 'dbconnect.php';\n\t\n\techo $dbstatus;\n\t\n    // used for building the select statement\n\t$sql_st = \"SELECT * \".\n\t\t\t\"FROM tbl_state \".\n\t\t\t\"ORDER BY \tst\";\n    \n\t//retreive the states and store them ind $dataset_st\n\t$dataset_st = $pdo->query($sql_st);\n\n?>\n\n</head>\n<body>\n\n\t<form method=\"POST\" action = \"Inputdata_DisplayData.php\">\n\t<table border=\"1\">\n\t\t<tr>\n\t\t\t<td colspan=\"2\">Dog Information</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Dog Name\n            </td>\n            <td>\n            <input type=\"text\" name=\"dogname\" value=\"Barky\">\n            </td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Dog Breed\n            </td>\n            <td>\n            <input type=\"text\" name=\"dogbreed\" value=\"Mutt\">\n            </td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Owner First Name\n            </td>\n            <td>\n            <input type=\"text\" name=\"ownerfirstname\" value=\"Bubba\">\n            </td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Owner Last Name\n            </td>\n            <td>\n            <input type=\"text\" name=\"ownerlastname\" value=\"Smith\">\n            </td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>City\n            </td>\n            <td>\n            <input type=\"text\" name=\"city\" value=\"Chicago\">\n            </td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>State\n            </td>\n            <td>\n            <select name=\"st\">\n                <?php\n                    while($row = $dataset_st->fetch())\n                    {\n                    echo('<option value=\"'.$row['st'].'\">'.$row['st'].'</option>');\n                    }\n                ?>\n            </select>\n            </td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n            </td>\n            <td><input type=\"submit\" value=\"Enter\">\n            </td>\n\t\t</tr>\n\t</table>\n\t</form>\n</body>\n</html>\n","type":"content","url":"/wpref/addeditdelete#index-php","position":7},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"Inputdata_DisplayData.php"},"type":"lvl2","url":"/wpref/addeditdelete#inputdata-displaydata-php","position":8},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"Inputdata_DisplayData.php"},"content":"This PHP script, Inputdata_DisplayData.php, processes the dog information form submission from the previous page. It begins by including the database connection file dbconnect.php, then prints the submitted form data for debugging purposes. The script defines a sanitize() function to clean user input by trimming whitespace, removing HTML/PHP tags, and encoding special characters‚Äîensuring the data is safe for database insertion.\n\nInside a try block, it prepares an SQL INSERT statement to add a new record into the tbl_doginfo1 table, binding the sanitized form values (dogname, dogbreed, ownerfirstname, ownerlastname, city, and st) to named placeholders. After executing the insert command, the script displays a formatted confirmation message showing the details entered by the user. If any database or general errors occur, they are caught and displayed in a clear error message.<?php\n//Inputdata_DisplayData.php\nrequire 'dbconnect.php';\n\nprint_r($_POST);\necho('<br><hr><br>');\n\nfunction sanitize($value){\n\n    // strip of any excess white spaces on the ends\n    $value = trim($value);\n\n    // get rid of any html or php tags\n    $value = strip_tags($value);\n\n    // convert special characters\n    $value = htmlspecialchars($value,ENT_QUOTES,'UTF-8');\n\n    // return the value\n    return $value;\n\n}\n\n// alternative\nfunction sanitize2($value){\n    return htmlspecialchars(strip_tags(trim($value)),ENT_QUOTES,'UTF-8');\n}\n\ntry{\n    // write insert sql statement\n    $sql_insert = \t\"INSERT INTO tbl_doginfo1(\"\n                .\"dogname,\"\n                .\"dogbreed,\"\n                .\"ownerfirstname,\"\n                .\"ownerlastname,\"\n                .\"city,\"\n                .\"st)\"\n                .\"VALUES(\"\n                .\":dogname,\"\n                .\":dogbreed,\"\n                .\":ownerfirstname,\"\n                .\":ownerlastname,\"\n                .\":city,\"\n                .\":st)\";\n\n    // prepare the sql statement\n    $sql_insert = $pdo->prepare($sql_insert);\n\n    // sanitize the information\n    $dogname = sanitize($_POST['dogname'] ?? '');\n    $dogbreed = sanitize($_POST['dogbreed'] ?? '');\n    $ownerfirstname = sanitize($_POST['ownerfirstname'] ?? '');\n    $ownerlastname = sanitize($_POST['ownerlastname'] ?? '');\n    $city = sanitize($_POST['city'] ?? '');\n    $st = sanitize($_POST['st'] ?? '');\n\n    //bind variable name to placeholders\n    $sql_insert->bindparam(\":dogname\",$dogname);\n    $sql_insert->bindparam(\":dogbreed\",$dogbreed);\n    $sql_insert->bindparam(\":ownerfirstname\",$ownerfirstname);\n    $sql_insert->bindparam(\":ownerlastname\",$ownerlastname);\n    $sql_insert->bindparam(\":city\",$city);\n    $sql_insert->bindparam(\":st\",$st);\n\n    //execute\n    $sql_insert->execute();\n\n    //--Alternative Binding Method using an array\n    /*\n    $sql_params=array(':dogname'=> $dogname,\n                    ':dogbreed' => $dogbreed,\n                    ':ownerfirstname' => $ownerfirstname ,\n                    ':ownerlastname' => $ownerlastname,\n                    ':city' => $city,\n                    ':st' => $st);\n\n    $sql_insert->execute($sql_params);\n     */    \n\n\n\n\n    echo(\"\n            <h2>Dog Infomation Confirmation</h2>\n            Dog Name: $dogname<br>\n            Dog Breed: $dogbreed<br>\n            Owner First Name: $ownerfirstname<br>\n            Owner Last Name: $ownerlastname<br>\n            City: $city<br>\n            State: $st<br>\n        \");\n}\ncatch(PDOException $err)\n{\n\techo('<h2>Error</h2>'.\n\t\t$err->getMessage()\n\t\t);\n\t\n}\ncatch(Exception $e)\n{\n\techo('<h2>Error</h2>'.\n\t\t$e->getMessage()\n\t\t);\n}\n\n?>\n","type":"content","url":"/wpref/addeditdelete#inputdata-displaydata-php","position":9},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"Display_Edit.php"},"type":"lvl2","url":"/wpref/addeditdelete#display-edit-php","position":10},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"Display_Edit.php"},"content":"This PHP script displays and manages a list of dogs from the tbl_doginfo database table, allowing users to edit or delete records directly from a web interface.\n\nIt begins by including the dbconnection.php file to establish a database connection. When a form is submitted, the script checks the action value in the POST data:\n\nIf the action is ‚ÄúDelete‚Äù, it sanitizes the dogid and executes a SQL DELETE command to remove the corresponding record.\n\nIf the action is ‚ÄúEdit‚Äù, it stores the selected dog‚Äôs ID in a session variable and redirects the user to edit_data.php to update that record.\n\nAfter handling any actions, the script retrieves all existing dog records‚Äîshowing each dog‚Äôs name, breed, owner‚Äôs name, city, and state‚Äîand dynamically generates an HTML table with Edit and Delete buttons for each entry.\n\nIn short: üêï This code powers a simple admin-style dashboard for managing dog records‚Äîcomplete with live database actions and a clean, table-based interface.<?php\nrequire ('./dbconnection.php');\n\nif (isset($_POST)) {\n    \n    if (!empty($_POST['action'])) {\n        if ($_POST['action'] === 'Delete') {\n            $dID = filter_var($_POST['dogid'], FILTER_SANITIZE_STRING);\n            $sql_delete = \"DELETE FROM tbl_doginfo WHERE dogid = \" . $dID;\n            $pdo->exec($sql_delete);\n        }\n\n      if ($_POST['action'] === 'Edit')\n      {\n          //NOTE: you cannot send any output to the current page (Display_Edit.php\n          //You must go directly to the new page.\n          $_SESSION['dogEditID'] = filter_var($_POST['dogid'], FILTER_SANITIZE_NUMBER_INT);  \n          header(\"Location:edit_data.php\");\n      }       \n   }\n}\n\n\n$sql_selectEdit = \"SELECT dogname, dogbreed, ownerfirstname, ownerlastname, city, st, dogid\"\n        . \" FROM tbl_doginfo \"\n        . \" ORDER BY dogname\";\n\n$result_edit = $pdo->query($sql_selectEdit);\n?>\n\n<html>\n    <head>\n        <title></title>\n    </head>\n    <body>\n<?php\ninclude 'menu.php';\n?>\n\n\n        <table border=\"1\">\n            <thead>\n                <tr>\n                    <th>Dog Name</th>\n                    <th>Dog Breed</th>\n                    <th>First Name</th>\n                    <th>Last Name</th>\n                    <th>Owner First Name</th>\n                    <th>Owner Last Name</th>\n                    <th>Edit</th>\n                </tr>\n            </thead>\n            <tbody>\n<?php\nwhile ($row = $result_edit->fetch()) {\n    echo('<tr>'\n    . '<td>' . $row['dogname'] . \"</td>\"\n    . \"<td>\" . $row['dogbreed'] . \"</td>\"\n    . \"<td>\" . $row['ownerfirstname'] . \"</td>\"\n    . \"<td>\" . $row['ownerlastname'] . \"</td>\"\n    . \"<td>\" . $row['city'] . \"</td>\"\n    . \"<td>\" . $row['st'] . \"</td>\"\n    . '<td><form method=\"POST\" action=\"Display_Edit.php\" \n    \t\tonsubmit=\"return confirm('.\"'\".'Are U Sure'.\"')\".'\">\n    \t\t<input type=\"hidden\" name=\"dogid\" value=\"'.$row['dogid'].'\"/>'\n    . '<input type=\"submit\" value=\"Edit\" name=\"action\" />&nbsp;&nbsp;'\n    . '<input type=\"submit\" value=\"Delete\" name=\"action\"/>'\n    . '</form></td></tr>');\n}\n?>\n            </tbody>\n        </table>\n    </body>\n</html>","type":"content","url":"/wpref/addeditdelete#display-edit-php","position":11},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"Edit_data.php"},"type":"lvl2","url":"/wpref/addeditdelete#edit-data-php","position":12},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"Edit_data.php"},"content":"This PHP script provides an edit interface for updating existing dog records in the tbl_doginfo database.\n\nIt begins by including the database connection file and defining two sanitize() functions that clean user input by trimming whitespace, stripping HTML/PHP tags, and encoding special characters‚Äîensuring the data is secure before being stored. If the user submits the form, the script prepares an SQL UPDATE statement with named placeholders and binds the sanitized input values (dog name, breed, owner info, city, and state) to those placeholders. It then executes the update and redirects the user back to the main display page.\n\nIf the form hasn‚Äôt been submitted yet, the script retrieves the selected dog‚Äôs record‚Äîbased on a session-stored dogEditID‚Äîand queries the list of U.S. states from tbl_state. It then displays a pre-filled form that allows the user to modify the existing information, with the current state automatically selected.\n\nIn essence: üêæ This page is the heart of the ‚Äúedit dog‚Äù workflow‚Äîsecurely fetching, displaying, and updating canine records with clean, user-friendly precision.<?php\nrequire ('./dbconnection.php');\n\n\nfunction sanitize($value){\n\n    // strip of any excess white spaces on the ends\n    $value = trim($value);\n\n    // get rid of any html or php tags\n    $value = strip_tags($value);\n\n    // convert special characters\n    $value = htmlspecialchars($value,ENT_QUOTES,'UTF-8');\n\n    // return the value\n    return $value;\n\n}\n\n// alternative\nfunction sanitize2($value){\n    return htmlspecialchars(strip_tags(trim($value)),ENT_QUOTES,'UTF-8');\n}\n\n\nif (!empty($_POST['dogname'])) {\n    \n    //write the sql statement with placehonders\n    $sql_edit = \"UPDATE  tbl_doginfo \"\n            . \"SET dogname = :dogname, \"\n            . \"dogbreed = :dogbreed, \"\n            . \"ownerfirstname = :ownerfirstname, \"\n            . \"ownerlastname = :ownerlastname, \"\n            . \"city = :city, \"\n            . \"st = :st  \"\n            . \"WHERE dogid = :dogid\";\n\n    //prepare the squel statement\n    $sql_edit = $pdo->prepare($sql_edit);\n\n\n    //Sanitize Information\n    $dogname = sanitize($_POST['dogname'] ?? '');\n    $dogbreed = sanitize($_POST['dogbreed'] ?? '');\n    $ownerfirstname = sanitize($_POST['ownerfirstname'] ?? '');\n    $ownerlastname = sanitize($_POST['ownerlastname'] ?? '');\n    $city = sanitize($_POST['city'] ?? '');\n    $st = sanitize($_POST['st'] ?? '');\n\n\n    //bind parameters\n    $sql_edit->bindparam(\":dogname\", $dogname);\n    $sql_edit->bindparam(\":dogbreed\", $dogbreed);\n    $sql_edit->bindparam(\":ownerfirstname\", $ownerfirstname);\n    $sql_edit->bindparam(\":ownerlastname\", $ownerlastname);\n    $sql_edit->bindparam(\":city\", $city);\n    $sql_edit->bindparam(\":st\", $st);\n    $sql_edit->bindparam(\":dogid\", $dogid);\n\n\t//input data\n    $sqlh_edit->execute();\n\n\t//open display data page\n    header(\"Location: Display_Edit.php\");\n}\n\n\n$sql_editData = \"Select * \"\n        . \" From tbl_doginfo\"\n        . \" Where dogid=\"\n        . $_SESSION['dogEditID'];\n\n$result_editData = $pdo->query($sql_editData);\n\n$row_edit = $result_editData->fetch();\n\n//----States\n//Query to select states\n$sql_st = \"SELECT st \" .\n        \"FROM tbl_state \" .\n        \"Order by st\";\n\n//execute the select query       \n$result_st = $pdo->query($sql_st);\n?>\n\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Edit Data</title>\n</head>\n<body>\n    <?php\n    include 'menu.php';\n    ?>\n\n    <h2>Edit Data</h2>\n    <form method=\"POST\" action=\"edit_data.php\"  \n          onsubmit=\"return confirm('Are you sure you want to continue')\">\n        <table border=\"1\">\n            <thead>\n                <tr>\n                    <th colspan=\"2\">Dog Information</th>\n                </tr>\n            </thead>\n            <tbody>\n\n                <tr>\n                    <td>Dog Name</td>\n                    <td><input type=\"text\" name=\"dogname\" \n                               value=\"<?php echo $row_edit['dogname'] ?>\" size=\"20\" />\t\t\t\t\t\t</td>\n                </tr>\n                <tr>\n                    <td>Dog Breed</td>\n                    <td><input type=\"text\" name=\"dogbreed\" \n                               value=\"<?php echo $row_edit['dogbreed'] ?>\" size=\"20\" />\t\t\t\t\t\t</td>\n                </tr>\n                <tr>\n                    <td>Owner First Name</td>\n                    <td><input type=\"text\" name=\"ownerfirstname\" \n                           value=\"<?php echo $row_edit['ownerfirstname'] ?>\" size=\"20\" />\t\t\t\t\t</td>\n                </tr>\n                <tr>\n                    <td>Owner Last Name</td>\n                    <td><input type=\"text\" name=\"ownerlastname\" \n                               value=\"<?php echo $row_edit['ownerlastname'] ?>\" \n        \t\t\t\t\t\t\t\tsize=\"20\" /></td>\n                </tr>\n                <tr>\n                    <td>City</td>\n                    <td><input type=\"text\" name=\"city\" \n                               value=\"<?php echo $row_edit['city'] ?>\" size=\"20\" /></td>\n                </tr>\n                <tr>\n                    <td>ST</td>\n                    <td><select name=\"st\" size=\"1\" width = 5>\n\n                            <?php\n                            while ($row = $result_st->fetch()) {\n                                if ($row['st'] === $row_edit['st']) {\n                                    echo('<option value=\"'.$row['st']\n                                         .'\" selected>'.$row['st'].'</option>');\n                                } else {\n                                    echo('<option value=\"'.$row['st'] \n                                         . '\">'.$row['st'].'</option>');\n                                }\n                            }\n                            ?>\n                        </select></td>\n                </tr>\n                <tr>\n                    <td>Record Id: <?php echo $row_edit['dogid'] ?>  \n                        <input type=\"hidden\" name=\"dogid\" value=\"<?php \n                        echo $row_edit['dogid'] ?> \"/></td>\n                    <td><input type=\"submit\" value=\"Enter\"/></td>\n                </tr>\n            </tbody>\n        </table>\n    </form>\n</body>\n</html>\n","type":"content","url":"/wpref/addeditdelete#edit-data-php","position":13},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"menu.php"},"type":"lvl2","url":"/wpref/addeditdelete#menu-php","position":14},{"hierarchy":{"lvl1":"Add Edit Delete","lvl2":"menu.php"},"content":"This short HTML snippet creates a simple navigation menu with two links: one leading to the home page (index.php) and another to the data display page (Display_Edit.php). The links are separated by a small space and followed by line breaks for visual spacing.\n\nIn essence:  It‚Äôs a minimalist navigation bar that helps users hop between the homepage and the dog data management page.<div>    \n    <a href=\"index.php\">Home</a>&nbsp;\n    <a href=\"Display_Edit.php\">Display Data</a><br><br>\n</div>\n\n\n10/2025","type":"content","url":"/wpref/addeditdelete#menu-php","position":15},{"hierarchy":{"lvl1":"Date Function"},"type":"lvl1","url":"/wpref/datefunctionphp","position":0},{"hierarchy":{"lvl1":"Date Function"},"content":"The PHP date() function is used to format a date and time according to a specified format.\n\n##Syntaxdate(format, timestamp)","type":"content","url":"/wpref/datefunctionphp","position":1},{"hierarchy":{"lvl1":"Date Function","lvl2":"Parameters"},"type":"lvl2","url":"/wpref/datefunctionphp#parameters","position":2},{"hierarchy":{"lvl1":"Date Function","lvl2":"Parameters"},"content":"format (required)\n\nThe format parameter is a string that specifies how the outputted date should be formatted.\n\nIt uses a series of format characters, where each character represents a different aspect of the date/time.\n\nCommon format characters include:\n\nY: 4-digit year (e.g., 2024)\n\ny: 2-digit year (e.g., 24)\n\nm: 2-digit month (01 to 12)\n\nn: Month without leading zeros (1 to 12)\n\nd: 2-digit day of the month (01 to 31)\n\nj: Day of the month without leading zeros (1 to 31)\n\nH: 2-digit hour in 24-hour format (00 to 23)\n\ni: 2-digit minutes (00 to 59)\n\ns: 2-digit seconds (00 to 59)\n\nl: Full day of the week (e.g., Monday)\n\nD: Abbreviated day of the week (e.g., Mon)\n\nF: Full month name (e.g., October)\n\nM: Abbreviated month name (e.g., Oct)\n\ntimestamp (optional)\n\nThe timestamp is an optional integer parameter that specifies a Unix timestamp, representing the number of seconds since January 1, 1970.\n\nIf omitted, the function uses the current date and time.\n\nExample: date(\"Y-m-d\", 1672531199) would output the date corresponding to the given timestamp.","type":"content","url":"/wpref/datefunctionphp#parameters","position":3},{"hierarchy":{"lvl1":"Date Function","lvl2":"Examples"},"type":"lvl2","url":"/wpref/datefunctionphp#examples","position":4},{"hierarchy":{"lvl1":"Date Function","lvl2":"Examples"},"content":"Get the current dateecho date(\"Y-m-d\"); // Outputs: 2024-10-30\n\nFormat a specific timestamp$timestamp = 1672531199;\necho date(\"Y-m-d H:i:s\", $timestamp); // Outputs: 2023-01-01 00:59:59\n\nThe date() function is commonly used for formatting dates in various formats, making it versatile for generating date strings for display, logging, or processing purposes.","type":"content","url":"/wpref/datefunctionphp#examples","position":5},{"hierarchy":{"lvl1":"First Forms - POST and GET"},"type":"lvl1","url":"/wpref/firstformspostandget","position":0},{"hierarchy":{"lvl1":"First Forms - POST and GET"},"content":"","type":"content","url":"/wpref/firstformspostandget","position":1},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl2":"Key Ideas"},"type":"lvl2","url":"/wpref/firstformspostandget#key-ideas","position":2},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl2":"Key Ideas"},"content":"POST and GET\n\nisset()\n\nempty()\n\nprint_r() and var_dump()\n\nUse isset() and empty() to write a submit and POST on one PHP page\n\nDefinition - GET\n\nGET is used to request data from a specified resource. Note that the query string (name/value pairs) is sent in the URL of a GET request:\n\ndemo_form.php?name1=value1&name2=value2\n\nhttps://‚Äãwww‚Äã.w3schools‚Äã.com‚Äã/tags‚Äã/ref‚Äã_httpmethods‚Äã.asp\n\nSome notes on GET requests:\n\nGET requests can be cached\n\nGET requests remain in the browser history\n\nGET requests can be bookmarked\n\nGET requests should never be used when dealing with sensitive data\n\nGET requests have length restrictions\n\nGET requests are only used to request data (not modify)\n\nhttps://‚Äãwww‚Äã.w3schools‚Äã.com‚Äã/tags‚Äã/ref‚Äã_httpmethods‚Äã.asp\n\nDefinition - POST\n\nPOST is used to send data to a server to create/update a resource.\n\nThe data sent to the server with POST is stored in the request body of the HTTP request:\n\n\nhttps://‚Äãwww‚Äã.w3schools‚Äã.com‚Äã/tags‚Äã/ref‚Äã_httpmethods‚Äã.asp\n\nSome notes on POST requests:\n\nPOST requests are never cached\n\nPOST requests do not remain in the browser history\n\nPOST requests cannot be bookmarked\n\nPOST requests have no restrictions on data length\n\nhttps://‚Äãwww‚Äã.w3schools‚Äã.com‚Äã/tags‚Äã/ref‚Äã_httpmethods‚Äã.asp","type":"content","url":"/wpref/firstformspostandget#key-ideas","position":3},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl2":"Code Examples"},"type":"lvl2","url":"/wpref/firstformspostandget#code-examples","position":4},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl2":"Code Examples"},"content":"flowchart TD\nA[Home page\\nindex.html] --> B[Form1\\nform1.html]\nA --> C[Form2\\nform2.html]\nA --> D[Form & Results\\nForm3.php]\nA --> E[Form & Results\\nForm4.php]\nB --> B1[Form Results\\nform1a.php]\nC --> C1[Form Results\\nform2a.php]","type":"content","url":"/wpref/firstformspostandget#code-examples","position":5},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Home Page - index.html","lvl2":"Code Examples"},"type":"lvl3","url":"/wpref/firstformspostandget#home-page-index-html","position":6},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Home Page - index.html","lvl2":"Code Examples"},"content":"<!-- index.html -->\n<html>\n<head>\n<title>Home Page</title>\n\n</head>\n<body>\n<h1>POST and GET Examples</h1>\n\n<a href=\"form1.html\">Form 1</a><br>\n<a href=\"form2.html\">Form 2</a><br>\n<a href=\"form3.php\">Form 3</a><br>\n<a href=\"form4.php\">Form 4</a><br>\n\n</body>\n</html>\n","type":"content","url":"/wpref/firstformspostandget#home-page-index-html","position":7},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"First Form - form1.html","lvl2":"Code Examples"},"type":"lvl3","url":"/wpref/firstformspostandget#first-form-form1-html","position":8},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"First Form - form1.html","lvl2":"Code Examples"},"content":"<!-- form1.html -‚Äì>\n<!DOCTYPE html>\n<html>\n<head>\n<title>Home Page</title>\n\n</head>\n<body>\n\n<h1>Form 1</h1>\n\n\t<form action=\"form1a.php\" method=\"POST\">\n\t<table border=\"1\">\n\t\t<tr>\n\t\t<td>Name</td>\n\t\t<td><input type=\"text\" name=\"stuName\" value=\"Bubba\"></td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t<td>Major</td>\n\t\t<td><input type=\"text\" name=\"stuMajor\" value=\"Whisky Making\"></td>\n\t\t</tr>\n\n\n\t\t<tr>\n\t\t<td></td>\n\t\t<td><input type=\"submit\" value=\"Click Me\"></td>\n\t\t</tr>\n\n\t</table>\n\t</form>\n</body>\n</html>\n","type":"content","url":"/wpref/firstformspostandget#first-form-form1-html","position":9},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Results from Form1 - form1a.php","lvl2":"Code Examples"},"type":"lvl3","url":"/wpref/firstformspostandget#results-from-form1-form1a-php","position":10},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Results from Form1 - form1a.php","lvl2":"Code Examples"},"content":"<!-- form1a.php -->\n<html>\n<head>\n<title>Form1a</title>\n</head>\n<body>\n\n<h1> Results from form1</h1>\n\n<?php\n    echo(\"var dump<br>\");\n    var_dump($_POST);\n\n    echo(\"<br><hr><br>\");\n\n    print_r($_POST);\n\n    echo(\"<br><hr><br>\");\n\n    echo(\"<br>Hello \".$_POST['stuName'].\"<br>\");\n    echo(\"Your major is \".$_POST['stuMajor'].\"<br>\");\n\n?>\n\n<br><br>\n<a href=\"index.html\">Home</a>\n</body>\n</html>\n","type":"content","url":"/wpref/firstformspostandget#results-from-form1-form1a-php","position":11},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Form2 (GET) - form1.html","lvl2":"Code Examples"},"type":"lvl3","url":"/wpref/firstformspostandget#form2-get-form1-html","position":12},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Form2 (GET) - form1.html","lvl2":"Code Examples"},"content":"<!-- form2.html -->\n<!DOCTYPE html>\n<html>\n<head>\n<title>Home Page</title>\n\n</head>\n<body>\n\n<h1>Form 2</h1>\n\n\t<form action=\"form2a.php\" method=\"GET\">\n\t<table border=\"1\">\n\t\t<tr>\n\t\t<td>Name</td>\n\t\t<td><input type=\"text\" name=\"stuName\" value=\"Brandy\">\n\t\t</td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t<td>Major</td>\n\t\t<td><input type=\"text\" name=\"stuMajor\" value=\"Wine Making\"></td>\n\t\t</tr>\n\n\n\t\t<tr>\n\t\t<td></td>\n\t\t<td><input type=\"submit\" value=\"Click Me\"></td>\n\t\t</tr>\n\n\t</table>\n\t</form>\n</body>\n</html>\n","type":"content","url":"/wpref/firstformspostandget#form2-get-form1-html","position":13},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Results - form2a.php","lvl2":"Code Examples"},"type":"lvl3","url":"/wpref/firstformspostandget#results-form2a-php","position":14},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Results - form2a.php","lvl2":"Code Examples"},"content":"<!-- form2a.php -->\n<html>\n<head>\n<title>Form2a</title>\n</head>\n<body>\n\n<h1> Results from form2a</h1>\n\n<?php\n    echo(\"var dump<br>\");\n    var_dump($_GET);\n\n    echo(\"<br><hr><br>\");\n\n    print_r($_GET);\n\n    echo(\"<br><hr><br>\");\n\n    echo(\"<br>Hello \".$_GET['stuName'].\"<br>\");\n    echo(\"Your major is \".$_GET['stuMajor'].\"<br>\");\n?>\n\n<br><br>\n<a href=\"index.html\">Home</a>\n</body>\n</html>\n","type":"content","url":"/wpref/firstformspostandget#results-form2a-php","position":15},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Form and Results - isset() and empty - form3.php","lvl2":"Code Examples"},"type":"lvl3","url":"/wpref/firstformspostandget#form-and-results-isset-and-empty-form3-php","position":16},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Form and Results - isset() and empty - form3.php","lvl2":"Code Examples"},"content":"<!-- form3.php -->\n<!DOCTYPE html>\n<html>\n<head>\n<title>Form 3</title>\n\n</head>\n<body>\n\n<h1>Form 3</h1>\n\n\t<form action=\"form3.php\" method=\"POST\">\n\t<table border=\"1\">\n\t\t<tr>\n            <td>Name</td>\n            <td><input type=\"text\" name=\"stuName\" value=\"Joe\"></td>\n\t\t</tr>\n\n\t\t<tr>\n            <td>Major</td>\n            <td><input type=\"text\" name=\"stuMajor\" value=\"Bagpipe Making\"></td>\n\t\t</tr>\n\n\n\t\t<tr>\n            <td></td>\n            <td><input type=\"submit\" value=\"Click Me\"></td>\n\t\t</tr>\n\n\t</table>\n\t</form>\n    \n    <?php\n        echo(\"var dump<br>\");\n        var_dump($_POST);\n\n        echo(\"<br><hr><br>\");\n\n        print_r($_POST);\n\n        echo(\"<br><hr><br>\");\n\n        echo(\"<h3>isset</h3>\");\n        if(isset($_POST['stuName']))\n        {\n            echo(\"<br>Hello \".$_POST['stuName'].\"<br>\");\n            echo(\"Your major is \".$_POST['stuMajor'].\"<br>\");\n        }\n\n        echo(\"<br><hr><br>\");\n\n        echo(\"<h3>Not Empty</h3>\");\n        if(!empty($_POST['stuName']))\n        {\n            echo(\"<br>Hello \".$_POST['stuName'].\"<br>\");\n            echo(\"Your major is \".$_POST['stuMajor'].\"<br>\");\n        }\n\n    ?>\n\n<a href=\"index.html\">Home</a>\n</body>\n</html>\n","type":"content","url":"/wpref/firstformspostandget#form-and-results-isset-and-empty-form3-php","position":17},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Form4 - form4.php","lvl2":"Code Examples"},"type":"lvl3","url":"/wpref/firstformspostandget#form4-form4-php","position":18},{"hierarchy":{"lvl1":"First Forms - POST and GET","lvl3":"Form4 - form4.php","lvl2":"Code Examples"},"content":"This is the standard format for doing PHP pages with one page.<!-- form4.php -->\n\n<!DOCTYPE html>\n<html>\n<head>\n<title>Form 4</title>\n</head>\n<body>\n\n<?php\n\nif(!isset($_POST['stuName']) || empty($_POST['stuName'])){\n    echo('\n    <form action=\"form4.php\" method=\"POST\">\n        <table border=\"1\">\n            <tr>\n                <td>Name</td>\n                <td><input type=\"text\" name=\"stuName\" value=\"Randy\"></td>\n            </tr>\n\n            <tr>\n                <td>Major</td>\n                <td><input type=\"text\" name=\"stuMajor\" value=\"Basket Weaving\"></td>\n            </tr>\n\n\n            <tr>\n                <td></td>\n                <td><input type=\"submit\" value=\"Click Me\"></td>\n            </tr>\n        </table>\n        </form>\n    ');\n}\nelse\n{\n    echo(\"<br>Hello \".$_POST['stuName'].\"<br>\");\n    echo(\"Your major is \".$_POST['stuMajor'].\"<br>\");\n}\n?>\n\n<a href=\"index.html\">Home</a>\n</body>\n</html>\n\n\n","type":"content","url":"/wpref/firstformspostandget#form4-form4-php","position":19},{"hierarchy":{"lvl1":"Functions"},"type":"lvl1","url":"/wpref/functions","position":0},{"hierarchy":{"lvl1":"Functions"},"content":"","type":"content","url":"/wpref/functions","position":1},{"hierarchy":{"lvl1":"Functions","lvl2":"Code Breakdown and Comments"},"type":"lvl2","url":"/wpref/functions#code-breakdown-and-comments","position":2},{"hierarchy":{"lvl1":"Functions","lvl2":"Code Breakdown and Comments"},"content":"Purpose: This PHP code demonstrates various programming concepts, including functions, loops, and conditional statements.\n\nFunctions:\n\nmyfunc1(): A simple function that prints ‚ÄúFunc1‚Äù to the page\n\nadd2($n1, $n2): Takes two numbers as input, adds them together, and returns the sum.\n\nloops(): A function that demonstrates different types of loops (while, do-while) and conditional statements.\n\nVariables:\n\n$n1, $n2: Used in the add2() function to store the input numbers.\n\n$sum: Stores the calculated sum in the add2() function.\n\n$run, $cntr, $stop, $status: Variables used in the loops() function for loop control, counting, and status tracking.\n\nLoops:\n\nwhile loop: Continues to execute as long as a given condition is true.\n\ndo-while loop: Executes at least once, then continues as long as a given condition is true.\n\nConditional Statements:\n\nif-else statements: Used to make decisions based on conditions.\n\nCode Breakdown:\n\nFunction Definitions:\n\nmyfunc1() is defined to print a message.\n\nadd2() takes two numbers, adds them, and returns the result.\n\nloops() demonstrates different loop types and conditional logic.\n\nMain Execution:\n\nCalls the myfunc1() function.\n\nCalculates the sum using add2() and prints the result.\n\nCalls the loops() function to demonstrate loop and conditional concepts.\n\nComments within loops():\n\nwhile loop: Demonstrates a basic while loop with a counter and a stopping condition.\n\nwhile loop with if: Shows how to use an if statement inside a loop to break out of the loop based on a condition.\n\ndo-while loop: Demonstrates a do-while loop that executes at least once.\n\nif-else statements: Shows how to use if-else statements to check conditions and set a status based on the result.<!doctype html>\n<html>\n    <head>\n        <title>functions</title>\n\n        <?php\n        \n        function myfunc1()\n        {\n            echo(\"<br><br>Func1<br><br>\");\n        }\n\n        function add2($n1,$n2)\n        {\n            $sum = $n1 + $n2;\n\n            return $sum;\n        }\n\n        function loops()\n        {\n            \n            $run = TRUE;\n\n            $cntr = 1;\n            $stop = 11;\n\n            // Example of a while loop\n            while($cntr < $stop)\n            {\n                echo($cntr.\". Item\".$cntr.\"<br>\");\n                $cntr +=1;\n            }\n            echo(\"<br><hr><br>\");\n\t\t\t// excample of while loop using\n            // a boolean and if statement\n            $cntr = 0;\n            while($run)\n            {\n                echo($cntr.\". Item 22 \".$cntr.\"<br>\");\n                $cntr +=1;\n\n                if($cntr == $stop)\n                {\n                    $run=FALSE;\n                }\n            }\n\n            echo(\"<br><hr><br>\");\n            // Example of do loop - always runs once\n            $cntr = 0;\n            do{\n                echo($cntr.\".  Item Do\".$cntr.\"<br>\");\n                $cntr +=1;  \n            }while($cntr < $stop);\n        \n\n        echo(\"<br><hr><br><h2>Status If</h2><br>\");\n\n        $cntr = 0;\n        $status = \"\";\n        $run = True;\n\n        while($run)\n        {\n\n\t\t\t// example of else if statement\n            if($cntr == $stop)\n            {\n                $run=FALSE;\n            }\n            else if(($cntr % 2) == 0)\n            {\n                $status = \"Even\";\n            }\n            else{\n                $status = \"Odd\";\n            }\n\n            echo($cntr.\". Item 22 \".$cntr.\" \".$status.\"<br>\");\n            $cntr +=1;\n        }\n        }\n        ?>\n        \n    </head>\n<body>\n    <?php\n        \n        myfunc1();\n\n        echo(\"<br><br><hr><br><br>\");\n    ?>\n    <h2>Sum Example - 60 + 40</h2>\n    <?php \n        $x = 40;\n        $xx = 60;\n        $total = add2($x,$xx);\n        echo(\"The sum = \".$total.\"<br>\");\n\n        echo(\"<br><br><hr><br><br>\");\n\n        loops();\n    ?>\n</body>\n</html>","type":"content","url":"/wpref/functions#code-breakdown-and-comments","position":3},{"hierarchy":{"lvl1":"HTML Input Field Review"},"type":"lvl1","url":"/wpref/htmlinputfieldreview","position":0},{"hierarchy":{"lvl1":"HTML Input Field Review"},"content":"<!DOCTYPE html>\n<html>\n    <head>\n        <title>Input Review</title>\n        <style>\n            .center {\n                    margin: auto;\n                    width: 50%;\n                    }\n        </style>\n    </head>\n    <body>\n        <div id=\"div1\" class=\"center\">        \n        <h1>Input Review</h1>\n        Sample Form\n        <form action=\"inputreview.php\" method=\"POST\">\n            <table border=\"1\">                \n                    <!--\n                    Text input box allows a user to enter text.\n                    type=\"text\"\n                    placeholder - this show \"sample\" text\n                    name - used to submit a form element to the server\n                    id - used to uniquely identify any element in the html page. \n                        The id attribute is used with JavaScript and CSS. \n                    required - used to check if a field is \"blank\"    \n                    pattern - checks to see if data fits a regex pattern\n                    title - is the help text for when a pattern fails\n                    maxlength - this is the total length the value is\n                                allow to have. A length of 2 only allows\n                                the value to be 2 characters long\n                    size - this is the display size of the input field\n                    -->\n                <tr> \n                    <td>Text Input</td>\n                    <td><input type=\"text\" \n                        name=\"text1\" id=\"text1\"\n                        placeholder=\"Enter full name\" \n                        >\n                        <label for=\"text1\">Full Name</label\n                        </td>\n                </tr>\n\n                    <!--\n                    Tel input box allows a user to enter phone number.\n                    type=\"tel\"\n                    placeholder - this show \"sample\" text\n                    name - used to submit a form element to the server\n                    id - used to uniquely identify any element in the html page. \n                         The id attribute is used with JavaScript and CSS. \n                    required - used to check if a field is \"blank\"    \n                    pattern - checks to see if data fits a regex pattern for a phone number\n                    title - is the help text for when a pattern fails\n                    -->\n                <tr>\n                <td>Tel Input</td>\n                    <td><input type=\"tel\" \n                        name=\"tel1\" id=\"tel1\"\n                        placeholder=\"555-555-5555\" \n                        pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\"\n                        title= \"Please enter a phone number as shown by the demo\"\n                        >\n                    </td>\n                </tr>\n\n                    <!--\n                    Text input box allows a user to enter text.\n                    type=\"text\"\n                    placeholder - this show \"sample\" text\n                    name - used to submit a form element to the server\n                    id - used to uniquely identify any element in the html page. \n                        The id attribute is used with JavaScript and CSS. \n                    required - used to check if a field is \"blank\"    \n                    pattern - checks to see if data fits a regex pattern\n                    title - is the help text for when a pattern fails\n                    maxlength - this is the total length the value is\n                                allow to have. A length of 2 only allows\n                                the value to be 2 characters long\n                    size - this is the display size of the input field\n                    -->\n\n                <tr>\n                    <td>Text Input / Size and Length</td>\n                    <td><input type=\"text\" \n                        name=\"text2\" id=\"text2\"\n                        maxlength=\"2\"\n                        size= \"5\"\n                        value=\"\"\n                        required></td>\n                </tr>\n\n                <!--\n                Drop Down Fields\n                name - used to submit a form element to the server\n                id - used to uniquely identify any element in the html page. \n                    The id attribute is used with JavaScript and CSS. \n                size - is the number of rows to on the dropdown form\n                the <option value> tag is used to set the drop down values\n                -->\n                <tr>\n                    <td>Title</td>\n                    <td>\n                        <select name=\"title\" id=\"title\" size=\"2\" >\n                            <option value=\"Mr.\" >Mr.</option>\n                            <option value=\"Mrs.\">Mrs.</option>\n                            <option value=\"Ms.\" selected>Ms.</option>\n                            <option value=\"Dr.\">Dr.</option>\n                        </select>\n                    </td>\n                </tr>\n\n                <!--\n                Radio Buttons\n                Radio buttons can have unique id's.  However, in order to group the buttons\n                so only one button is selected per group, the same group name is used\n                in the \"name\" attribute.  Below is an example of two groups - rtitle1 and\n                rtitle2\n                -->\n                <tr>\n                    <td>Radio</td>\n                    <td>\n                        <input type=\"radio\" value=\"Mr\" id=\"rd1\" name=\"rtitle1\">\n                        <label for=\"rd1\">Mr</label><br>\n                        \n                        <input type=\"radio\" value=\"Mrs\" id=\"rd2\" name=\"rtitle1\">\n                        <label for=\"rd2\">Mrs</label><br>\n\n                        <input type=\"radio\" value=\"Ms\" id=\"rd3\" name=\"rtitle2\">\n                        <label for=\"rd3\">Ms</label><br>\n                        \n                        <input type=\"radio\" value=\"Dr\" id=\"rd4\" name=\"rtitle2\">\n                        <label for=\"rd4\">Dr</label><br>\n\n                        </td>\n                </tr>\n\n                <!--\n                Checkbox will evaluate to the value of \"on\" when checked.\n                -->\n                <tr>\n                    <td>Billing Address</td>\n                    <td><input type=\"checkbox\" id=\"ba\" name=\"ba\"><label for=\"ba\">Same as billing</label></td>\n                </tr>\n\n                <!--\n                Email will check to see if there is an @ sign in the text\n                -->\n                <tr>\n                    <td>Email</td>\n                    <td><input type=\"email\" name=\"email\" id=\"email\"></td>\n                <tr>\n                    <td></td>\n                    <td><input type=\"submit\"</td>\n                </tr>\n\n                <tr>\n                    <td></td>\n                    <td></td>\n                </tr>\n            </table>\n        </form>\n</div>\n\n        <br><hr><br>\n\n        <?php\n            if(!empty($_POST['text1']))\n            {\n                print_r($_POST);\n\n                echo(\"<br><br>Text  box says: \" . $_POST['text1']);\n\n            }\n\n        ?>\n    </body>\n</html>","type":"content","url":"/wpref/htmlinputfieldreview","position":1},{"hierarchy":{"lvl1":"Loops and If"},"type":"lvl1","url":"/wpref/loopif","position":0},{"hierarchy":{"lvl1":"Loops and If"},"content":"","type":"content","url":"/wpref/loopif","position":1},{"hierarchy":{"lvl1":"Loops and If","lvl2":"Example code"},"type":"lvl2","url":"/wpref/loopif#example-code","position":2},{"hierarchy":{"lvl1":"Loops and If","lvl2":"Example code"},"content":"<?php\n\necho \"hello php\";\nprint \"Hello Amigos\";\nprint(\"http://localhost/wp/page1\");\nprint(\"\\n\");\n\n$output = 0;\n$counter = 0;\n\nprint(\"For Loop\\n\");\nfor ($counter = 0; $counter <= 20; $counter++) {\n    echo(\"for: \".$counter.\"\\n\");\n}\n$counter = 0;\nprint(\"\\nWhile Loop\\n\");\nwhile ($counter < 10) {\n    echo(\"while: \".$counter.\"\\n\");\n    $counter += 1;\n}\n\n$num = 12;\n\nif ($num < 10) {\n    echo \"This was less than ten\";\n} else if ($num < 15) {\n    echo \"This was less than 15\";\n} else {\n    echo \"This was greater than 15\";\n}\n\n?>\n\nPurpose: Demonstrate basic output, looping structures, and conditional statements.\n\nBreakdown:\n\nOutput Statements:\n\necho \"hello php\";: Prints the string ‚Äúhello php‚Äù to the output.\n\nprint \"Hello Amigos\";: Prints the string ‚ÄúHello Amigos‚Äù to the output.\n\nprint(\"http://localhost/wp/page1\");: Prints the URL ‚Äúlocalhost/wp/page1‚Äù to the output.\n\nprint(\"\\n\");: Prints a newline character to the output.\n\nVariable Initialization:\n\n$output = 0;: Initializes a variable named $output with the value 0.\n\n$counter = 0;: Initializes a variable named $counter with the value 0.\n\nFor Loop:\n\nfor ($counter = 0; $counter <= 20; $counter++) { ... }: Iterates from $counter equal to 0 up to 20 (inclusive), incrementing $counter by 1 in each iteration. Inside the loop, it prints the current value of $counter.\n\nWhile Loop:\n\nwhile ($counter < 10) { ... }: Continues to execute as long as $counter is less than 10. Inside the loop, it prints the current value of $counter and increments $counter by 1.\n\nConditional Statements:\n\nif ($num < 10) { ... } else if ($num < 15) { ... } else { ... }: Checks the value of $num and executes the appropriate code block based on the comparison.\n\nSummary: The code demonstrates the following PHP concepts:\n\nOutput using echo and print.\n\nVariable declaration and assignment.\n\nLooping structures: for and while.\n\nConditional statements: if, else if, and else.\n\nThe code effectively illustrates how to use these concepts to perform basic operations and control the flow of execution in a PHP script.","type":"content","url":"/wpref/loopif#example-code","position":3},{"hierarchy":{"lvl1":"PDO Connections"},"type":"lvl1","url":"/wpref/pdoconnections","position":0},{"hierarchy":{"lvl1":"PDO Connections"},"content":"","type":"content","url":"/wpref/pdoconnections","position":1},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Introduction"},"type":"lvl2","url":"/wpref/pdoconnections#introduction","position":2},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Introduction"},"content":"The PHP Data Objects (PDO) extension defines a lightweight, consistent interface for accessing databases in PHP. Each database driver that implements the PDO interface can expose database-specific features as regular extension functions. Note that you cannot perform any database functions using the PDO extension by itself; you must use a database-specific PDO driver to access a database server.\n\nPDO provides a data-access abstraction layer, which means that, regardless of which database you‚Äôre using, you use the same functions to issue queries and fetch data. PDO does not provide a database abstraction; it doesn‚Äôt rewrite SQL or emulate missing features. You should use a full-blown abstraction layer if you need that facility.\n\nPDO ships with PHP.  \n\nphp introduction 10/2023","type":"content","url":"/wpref/pdoconnections#introduction","position":3},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Database Connections"},"type":"lvl2","url":"/wpref/pdoconnections#database-connections","position":4},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Database Connections"},"content":"Connection strings do the following:\n\nidentify what type of database they are connecting to\n\nwhere the database/host is located on the web\n\nthe database name\n\nusername with the appropriate privileges\n\nNOTE: when going to production, No username facing the public internet should have admin rights!\n\npassword for the username\n\nNONE OF THE EXAMPLES INCLUDE SANITIZING THE DATA.  IN PRODUCTION, ALWAYS SANITIZE AND VALIDATE THE DATA BEFORE INSERTING IT INTO A DATABASE!try {\n\n // MSSQL Server, Sybase, and Oracle\n\n $pdo = new PDO(\"sqlsrv:host=$host;dbname=$dbname, $user, $password\");\n $pdo = new PDO(\"sybase:host=$host;dbname=$dbname, $user, $password\");\n $pdo = new PDO(\"oci:host=$host;dbname=$dbname, $user, $password\");\n \n // MySQL with PDO_MYSQL\n $pdo = new PDO(\"mysql:host=$host;dbname=$dbname\", $user, $password);\n\n // SQLite Database\n $pdo = new PDO(\"sqlite:my/database/path/database.db\");\n    \n // ODBC\n $pdo = new PDO(\"odbc:host=$host;dbname=$dbname\", $user, $password);\n}\n\ncatch(PDOException $e) {\n\n  echo $e->getMessage();\n\n}","type":"content","url":"/wpref/pdoconnections#database-connections","position":5},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"PDO Drivers"},"type":"lvl2","url":"/wpref/pdoconnections#pdo-drivers","position":6},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"PDO Drivers"},"content":"| Driver name  | Supported databases                                          |\n| :----------- | :----------------------------------------------------------- |\n| PDO_CUBRID   | Cubrid                                                       |\n| PDO_DBLIB    | FreeTDS / Microsoft SQL Server / Sybase                      |\n| PDO_FIREBIRD | Firebird                                                     |\n| PDO_IBM      | IBM DB2                                                      |\n| PDO_INFORMIX | IBM Informix Dynamic Server                                  |\n| PDO_MYSQL    | MySQL 3.x/4.x/5.x/8.x                                        |\n| PDO_OCI      | Oracle Call Interface                                        |\n| PDO_ODBC     | ODBC v3 (IBM DB2, unixODBC and win32 ODBC)                   |\n| PDO_PGSQL    | PostgreSQL                                                   |\n| PDO_SQLITE   | SQLite 3 and SQLite 2                                        |\n| PDO_SQLSRV   | Microsoft SQL Server / SQL Azure                             |\n|              | From \n\nphp.org |","type":"content","url":"/wpref/pdoconnections#pdo-drivers","position":7},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Close Connection"},"type":"lvl2","url":"/wpref/pdoconnections#close-connection","position":8},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Close Connection"},"content":"// close the connection\n\n$pdo = null;","type":"content","url":"/wpref/pdoconnections#close-connection","position":9},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Error Modes"},"type":"lvl2","url":"/wpref/pdoconnections#error-modes","position":10},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Error Modes"},"content":"PDO::ERRMODE_SILENT\n\nThis is the default error mode. It does not show any error exceptions\n\nPDO::ERRMODE_WARNING\n\nThis mode will issue a standard PHP warning, and allow the program to continue execution. It‚Äôs useful for debugging.\n\nPDO::ERRMODE_EXCEPTION\n\nThis is the mode you should want in most situations. It fires an exception, allowing you to handle errors gracefully and hide data that might help someone exploit your system. Here‚Äôs an example of taking advantage of exceptions:$pdo->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_SILENT );\n\n$pdo->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING );\n\n$pdo->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );","type":"content","url":"/wpref/pdoconnections#error-modes","position":11},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Insert / Update"},"type":"lvl2","url":"/wpref/pdoconnections#insert-update","position":12},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Insert / Update"},"content":"Prepare -> Sanitize -> Bind -> Execute","type":"content","url":"/wpref/pdoconnections#insert-update","position":13},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Prepared Statements"},"type":"lvl2","url":"/wpref/pdoconnections#prepared-statements","position":14},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Prepared Statements"},"content":"A prepared statement is a precompiled SQL statement that can be executed multiple times by sending just the data to the server. It has the added advantage of automatically making the data used in the placeholders safe from SQL injection attacks.$pdo= $pdo->prepare(\"INSERT INTO tbl_names(first_name,last_name) VALUES(:first_name,:last_name )\");\n\n$pdo->execute();","type":"content","url":"/wpref/pdoconnections#prepared-statements","position":15},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"Placeholders","lvl2":"Prepared Statements"},"type":"lvl3","url":"/wpref/pdoconnections#placeholders","position":16},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"Placeholders","lvl2":"Prepared Statements"},"content":"// no placeholders - ripe for SQL Injection!\n\n$STH = $pdo->prepare(\"INSERT INTO folks (name, addr, city) values ($name, $addr, $city)\");\n\n \n\n// unnamed placeholders\n\n$STH = $pdo->prepare(\"INSERT INTO folks (name, addr, city) values (?, ?, ?);\n\n \n\n// named placeholders\n\n$STH = $pdo->prepare(\"INSERT INTO folks (name, addr, city) value (:name, :addr, :city)\");","type":"content","url":"/wpref/pdoconnections#placeholders","position":17},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"Unnamed Place Holders","lvl2":"Prepared Statements"},"type":"lvl3","url":"/wpref/pdoconnections#unnamed-place-holders","position":18},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"Unnamed Place Holders","lvl2":"Prepared Statements"},"content":"// unnamed placeholders\n\n$STH = $pdo->(\"INSERT INTO folks (name, addr, city) values (?, ?, ?);\n\n// assign variables to each place holder, indexed 1-3\n\n$STH->bindParam(1, $name);\n\n$STH->bindParam(2, $addr);\n\n$STH->bindParam(3, $city);\n\n \n\n// insert one row\n\n$name = \"Moe\"\n\n$addr = \"1 Wicked Way\";\n\n$city = \"Arlington Heights\";\n\n$STH->execute();\n\n \n\n// insert another row with different values\n\n$name = \"Curly\"\n\n$addr = \"Schmuck Drive\";\n\n$city = \"Schaumburg\";\n\n$STH->execute();","type":"content","url":"/wpref/pdoconnections#unnamed-place-holders","position":19},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"Use an array","lvl2":"Prepared Statements"},"type":"lvl3","url":"/wpref/pdoconnections#use-an-array","position":20},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"Use an array","lvl2":"Prepared Statements"},"content":"// the data we want to insert\n\n$data = array('Cathy', '9 Dark and Twisty Road', 'Cardiff');\n\n$STH = $pdo->prepare(\"INSERT INTO folks (name, addr, city) values (?, ?, ?);\n\n$STH->execute($data);","type":"content","url":"/wpref/pdoconnections#use-an-array","position":21},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"Named Place Holders","lvl2":"Prepared Statements"},"type":"lvl3","url":"/wpref/pdoconnections#named-place-holders","position":22},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"Named Place Holders","lvl2":"Prepared Statements"},"content":"// the first argument is the named placeholder name - notice named\n\n// placeholders always start with a colon.\n\n$pdo->bindParam(':name', $name);\n\n\n// the data we want to insert\n$data = array( 'name' => 'Cathy', 'addr' => '9 Dark and Twisty', 'city' => 'Cardiff' );\n\n\n// the shortcut!\n\n$pdo = $pdo->(\"INSERT INTO folks (name, addr, city) value (:name, :addr, :city)\");\n\n$STH->execute($data);","type":"content","url":"/wpref/pdoconnections#named-place-holders","position":23},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Fetching Data"},"type":"lvl2","url":"/wpref/pdoconnections#fetching-data","position":24},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Fetching Data"},"content":"PDO::FETCH_ASSOC: returns an array indexed by column name\n\nPDO::FETCH_BOTH (default): returns an array indexed by both column name and number\n\nPDO::FETCH_BOUND: Assigns the values of your columns to the variables set with the ->bindColumn() method\n\nPDO::FETCH_CLASS: Assigns the values of your columns to properties of the named class. It will create the properties if matching properties do not exist\n\nPDO::FETCH_INTO: Updates an existing instance of the named class\n\nPDO::FETCH_LAZY: Combines PDO::FETCH_BOTH/PDO::FETCH_OBJ, creating the object variable names as they are used\n\nPDO::FETCH_NUM: returns an array indexed by column number\n\nPDO::FETCH_OBJ: returns an anonymous object with property names that correspond to the column names","type":"content","url":"/wpref/pdoconnections#fetching-data","position":25},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"FETCH_ASSOC","lvl2":"Fetching Data"},"type":"lvl3","url":"/wpref/pdoconnections#fetch-assoc","position":26},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"FETCH_ASSOC","lvl2":"Fetching Data"},"content":"This fetch type creates an associative array, indexed by column name// using the shortcut ->query() method here since there are no variable\n\n// values in the select statement.\n$STH = $pdo->query('SELECT name, addr, city from folks');\n\n// setting the fetch mode\n$STH->setFetchMode(PDO::FETCH_ASSOC);\n\nwhile($row = $STH->fetch()) {\n\n  echo $row['name'] . \"\\n\";\n\n  echo $row['addr'] . \"\\n\";\n\n  echo $row['city'] . \"\\n\";\n\n}","type":"content","url":"/wpref/pdoconnections#fetch-assoc","position":27},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"FETCH_OBJ","lvl2":"Fetching Data"},"type":"lvl3","url":"/wpref/pdoconnections#fetch-obj","position":28},{"hierarchy":{"lvl1":"PDO Connections","lvl3":"FETCH_OBJ","lvl2":"Fetching Data"},"content":"This fetch type creates an object of std class for each row of fetched data. Here‚Äôs an example:// creating the statement\n$STH = $DBH->query('SELECT name, addr, city from folks');\n\n \n// setting the fetch mode\n$STH->setFetchMode(PDO::FETCH_OBJ);\n\n// showing the results\nwhile($row = $STH->fetch()) {\n\n  echo $row->name . \"\\n\";\n\n  echo $row->addr . \"\\n\";\n\n  echo $row->city . \"\\n\";\n\n}","type":"content","url":"/wpref/pdoconnections#fetch-obj","position":29},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Last Insert ID"},"type":"lvl2","url":"/wpref/pdoconnections#last-insert-id","position":30},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Last Insert ID"},"content":"The ->lastInsertId() method is always called on the database handle, not the statement handle, and will return the auto-incremented id of the last inserted row by that connection.","type":"content","url":"/wpref/pdoconnections#last-insert-id","position":31},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Delete Files"},"type":"lvl2","url":"/wpref/pdoconnections#delete-files","position":32},{"hierarchy":{"lvl1":"PDO Connections","lvl2":"Delete Files"},"content":"$pdo->exec('DELETE FROM folks WHERE 1');","type":"content","url":"/wpref/pdoconnections#delete-files","position":33},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example"},"type":"lvl1","url":"/wpref/pdofirstdatadbinsertcarexample","position":0},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example"},"content":"","type":"content","url":"/wpref/pdofirstdatadbinsertcarexample","position":1},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl2":"Key Ideas"},"type":"lvl2","url":"/wpref/pdofirstdatadbinsertcarexample#key-ideas","position":2},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl2":"Key Ideas"},"content":"","type":"content","url":"/wpref/pdofirstdatadbinsertcarexample#key-ideas","position":3},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl3":"Five Steps Of Inserting Data","lvl2":"Key Ideas"},"type":"lvl3","url":"/wpref/pdofirstdatadbinsertcarexample#five-steps-of-inserting-data","position":4},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl3":"Five Steps Of Inserting Data","lvl2":"Key Ideas"},"content":"Create the the insert SQL statement with placeholders (‚Äú:‚Äù).\n\nPrepare the SQL statement.\n\nSave the $_POST data to variables while sanitizing it.\n\nBind the placeholders with the variables of step 3.\n\nExecute the SQL statement.","type":"content","url":"/wpref/pdofirstdatadbinsertcarexample#five-steps-of-inserting-data","position":5},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl2":"Connection String"},"type":"lvl2","url":"/wpref/pdofirstdatadbinsertcarexample#connection-string","position":6},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl2":"Connection String"},"content":"A database connection string is a string that contains the information needed to connect an application to a database. The string includes parameters such as -  Server instance, Database name, Authentication details, Username, Password .","type":"content","url":"/wpref/pdofirstdatadbinsertcarexample#connection-string","position":7},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl2":"dbconnect.php"},"type":"lvl2","url":"/wpref/pdofirstdatadbinsertcarexample#dbconnect-php","position":8},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl2":"dbconnect.php"},"content":"<!--  dbconnect.php --->\n<?php\n/*\n-- Database - SQL Script\nDROP DATABASE IF EXISTS wp_cars;\n\n-- CREATE DATABASE\nCREATE DATABASE IF NOT EXISTS wp_cars;\n\n-- Use Database\nUSE wp_cars;\n\nCREATE TABLE `wp_cars`.`tbl_car`(\n    `OwnerFN` VARCHAR(20),\n    `OwnerLN` VARCHAR(20),\n    `Make` VARCHAR(20),\n    `Model` VARCHAR(20),\n    `Color` VARCHAR(20),\n    `CarYear` CHAR(4),\n    `Car_Id` INT(6) NOT NULL AUTO_INCREMENT,\n    PRIMARY KEY(`Car_Id`)\n) ENGINE = InnoDB;\n\n\n*/\n\n//connect database\ntry\n{\n\t$pdo = new PDO('mysql:host=127.0.0.1;dbname=wp_cars','root','');\n\t$pdo->setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_EXCEPTION);\n\n\t//only educational purposes\n\t$dbstatus = \"Good database connection\";\n\n}\ncatch(PDOException $e)\n{\n\t$dbstatus = \"Database connection failed<br>\".\n\t\t\t\t$e->getMessage();\n\n\tdie();\n}\nSESSION_START();\n\n?>\n","type":"content","url":"/wpref/pdofirstdatadbinsertcarexample#dbconnect-php","position":9},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl2":"default.php"},"type":"lvl2","url":"/wpref/pdofirstdatadbinsertcarexample#default-php","position":10},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl2":"default.php"},"content":"<?php\n// page3.php\n\n// require - all or nothing - will not tolerate an error\n// include - will still try to run if there is an error\n\nrequire('dbconnect.php');\n\n// educational purposes / development purposes\necho($dbstatus.\"<br><hr><br>\");\n\n?>\n<!DOCTYPE html>\n<html>\n<head>\n\t<title>Page 1</title>\n\t<style>\n        .divpage1 {\n          width: 50%;\t\n          background-color:cornsilk;\n          margin-left: auto;\n          margin-right: auto;\n        } \n\t</style>\n</head>\n<body>\n<div class=\"divpage1\">     \n\n<?php\n\nfunction sanitize($value){\n\n    // strip of any excess white spaces on the ends\n    $value = trim($value);\n\n    // get rid of any html or php tags\n    $value = strip_tags($value);\n\n    // convert special characters\n    $value = htmlspecialchars($value,ENT_QUOTES,'UTF-8');\n\n    // return the value\n    return $value;\n\n}\n\n// alternative\nfunction sanitize2($value){\n    return htmlspecialchars(strip_tags(trim($value)),ENT_QUOTES,'UTF-8');\n}\n        \n        \nif(!isset($_POST['OwnerFN']))\n{\n    echo('\n\t\t<h1>Car Entry - form uses named place holders</h1>\n        <form method=\"POST\" action=\"default.php\">\n        <table border=\"1\">\n            <tr>\n                <td>First Name</td>\n                <td><input type=\"text\" width=\"20\" name=\"OwnerFN\"\n        required value=\"John\"></td>\n            </tr>\n\n            <tr>\n                <td>Last Name</td>\n                <td><input type=\"text\" width=\"20\" name=\"OwnerLN\"\n        value=\"Doe\"></td>\n            </tr>\n\n            <tr>\n                <td>Make</td>\n                <td><input type=\"text\" width=\"20\" name=\"Make\"\n        value=\"Ford\"></td>\n            </tr>\n\n            <tr>\n                <td>Model</td>\n                <td><input type=\"text\" width=\"20\" name=\"Model\"\n        value=\"F150\"></td>\n            </tr>\n\n            <tr>\n                <td>Year</td>\n                <td><input type=\"text\" width=\"20\" name=\"Year\"\n        value=\"1970\"></td>\n            </tr>\n\n            <tr>\n                <td>Color</td>\n                <td><input type=\"text\" width=\"20\" name=\"Color\"\n        value=\"Red\"></td>\n            </tr>\n\n            <tr>\n                <td></td>\n                <td><input type=\"submit\" value=\"Enter\"></td>\n            </tr>\n\n        </table>\n        </form>\n    ');\n\n    }\n    else\n    {\n\n        try\n        {\n        \n            \n            \n        //Step 1 - create sql statement\n\n        $sql_insert = \"INSERT INTO tbl_car\"\n                .\"(OwnerFN,OwnerLN,Make,Model,CarYear,Color) \"\n                .\"VALUES(:OwnerFN,:OwnerLN,:Make,:Model,:Year,:Color)\";\n\n        //Step 2 - prepare our sql statement\n        //This will box our information at the \":\" placeholders\n\n        $sqlp_insert = $pdo->prepare($sql_insert);\n\n\n        //Step 3 - Sanitize the information - this prevents SQL Injection\n\n        $OwnerFN = sanitize($_POST['OwnerFN'] ?? '');\n        $OwnerLN = sanitize($_POST['OwnerLN'] ?? ''G);\n        $Make = sanitize($_POST['Make'] ?? '');\n        $Model = sanitize($_POST['Model'] ?? '');\n        $Year = sanitize($_POST['Year'] ?? '');\n        $Color = sanitize($_POST['Color'] ?? '');\n\n        //Step 4 - bind our boxes in the sql statement with our variables\n        //bind parameters\n        $sqlp_insert->bindparam(\":OwnerFN\",$OwnerFN);\n        $sqlp_insert->bindparam(\":OwnerLN\",$OwnerLN);\n        $sqlp_insert->bindparam(\":Make\",$Make);\n        $sqlp_insert->bindparam(\":Model\",$Model);\n        $sqlp_insert->bindparam(\":Year\",$Year);\n        $sqlp_insert->bindparam(\":Color\",$Color);\n\n\n        //Step 5 - Execute the query\n        $sqlp_insert->execute();\n\n        echo(\"<br>### input was successful ###<br><br><hr><br>\");\n\n        //-------------------------------------------------\n\n\n        //Display our last car entered\n\n        $sql_selectLastCar = \t\"SELECT * \" .\n                        \"FROM tbl_car \" .\n                        \"WHERE Car_Id = (SELECT MAX(Car_Id) \".\n        \"FROM tbl_car )\";\n\n        //Run the Query\n        $dataSet = $pdo->query($sql_selectLastCar);\n\n        //loop through the columns in the row\n        foreach($dataSet as $row)\n        {\n        echo($row['OwnerFN'].\" \".$row['OwnerLN'].\"<br>\");\n        echo($row['Make'].\" \".$row['Model'].\" \".$row['CarYear'].\"<br>\");\n        echo($row['Color'].\" \".$row['Car_Id'].\"<br><hr><br>\");\n        }\n\n        //need to clear the $_POST because of the isset in if statement\n        unset($_POST['OwnerFN']);\n    }\n    catch(PDOException $e)\n    {\n        echo(\"**** Input Error ****<br>\".$e);\n    }\n\n    //add a button so we can add another car\n    echo('<a href=\"default.php\"><button type=\"button\">'.\n    'Add Another Car</button>');\n\n}\n?>\n<br><hr><br>\n    <br><a href=\"default.php\"><button type=\"button\">Home</button></a>&nbsp;&nbsp;\n    <a href=\"page2.php\"><button type=\"button\">Page 2</button></a>&nbsp;&nbsp;\n    <a href=\"page3.php\"><button type=\"button\">Page 3</button></a>&nbsp;&nbsp;\n<br><br><br>\n</div>\n</body>\n</html>","type":"content","url":"/wpref/pdofirstdatadbinsertcarexample#default-php","position":11},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl2":"Page2.php"},"type":"lvl2","url":"/wpref/pdofirstdatadbinsertcarexample#page2-php","position":12},{"hierarchy":{"lvl1":"PDO - First Data Insert - Car Example","lvl2":"Page2.php"},"content":"<?php\n\t// page2.php\n\trequire('dbconnect.php');\n?>\n<!DOCTYPE html>\n<html>\n<head>\n\t<title>Inventory</title>\n\t<style>\n        #div1 {\n          width: 75%;\t\n          background-color:cornsilk;\n          margin-left: auto;\n          margin-right: auto;\n        } \n\t</style>\n</head>\n<body>\n<div id=\"div1\">\n\t<H1>Car Inventory</H1>\n\n\t<table align=\"center\" border=\"1\">\n\t<tr>\n\t\t<td>First Name</td>\n\t\t<td>Last Name</td>\n\t\t<td>Make</td>\n\t\t<td>Model</td>\n\t\t<td>Year</td>\n\t\t<td>Color</td>\n\t\t<td>Car_Id</td>\n\t</tr>\n\t<?php\n\t\t$sql = \"SELECT * FROM tbl_car\";\n\t\t$ds = $pdo->query($sql);\n\n\t\tforeach($ds as $row)\n\t\t{\t\t\n\t\t\techo('<tr>');\n\t\t\techo('\n\t\t\t\t<td>'.$row['OwnerFN'].'</td>\n\t\t\t\t<td>'.$row['OwnerLN'].'</td>\n\t\t\t\t<td>'.$row['Make'].'</td>\n\t\t\t\t<td>'.$row['Model'].'</td>\n\t\t\t\t<td>'.$row['CarYear'].'</td>\n\t\t\t\t<td>'.$row['Color'].'</td>\n\t\t\t\t<td>'.$row['Car_Id'].'</td>\n\t\t\t\t');\n\t\t\techo('</tr>');\n}\n\t?>\n\t</table>\n\n\n<br><hr><br>\n    <br><a href=\"default.php\"><button type=\"button\">Home</button></a>&nbsp;&nbsp;\n    <a href=\"page2.php\"><button type=\"button\">Page 2</button></a>&nbsp;&nbsp;\n    <a href=\"page3.php\"><button type=\"button\">Page 3</button></a>&nbsp;&nbsp;\n<br><br><br>\n</div>\n</body>\n</html>\n<?php\n// page3.php\n\n// require - all or nothing - will not tolerate an error\n// include - will still try to run if there is an error\n\nrequire('dbconnect.php');\n\n// educational purposes / development purposes\necho($dbstatus.\"<br><hr><br>\");\n\n?>\n<!DOCTYPE html>\n<html>\n<head>\n\t<title>Page 3</title>\n\t<style>\n        .divpage3 {\n          width: 75%;\t\n          background-color:cornsilk;\n          margin-left: auto;\n          margin-right: auto;\n        } \n\t</style>\n</head>\n<body>\n<div class=\"divpage3\">      \n<?php\n  \nif(!isset($_POST['OwnerFN']))\n{\n    echo('\n    <h1>Car Entry - form uses ? for place holders</h1>\n    <form method=\"POST\" action=\"page3.php\">\n    <table border=\"1\" align=\"center\">\n        <tr>\n            <td>First Name</td>\n            <td><input type=\"text\" width=\"20\" name=\"OwnerFN\" required value=\"Roger\"></td>\n        </tr>\n        <tr>\n            <td>Last Name</td>\n            <td><input type=\"text\" width=\"20\" name=\"OwnerLN\" value=\"Smith\"></td>\n        </tr>\n        <tr>\n            <td>Make</td>\n            <td><input type=\"text\" width=\"20\" name=\"Make\" required value=\"AMC\"></td>\n        </tr>\n        <tr>\n            <td>Model</td>\n            <td><input type=\"text\" width=\"20\" name=\"Model\" required value=\"Gremlin\"></td>\n        </tr>\n        <tr>\n            <td>Year</td>\n            <td><input type=\"text\" width=\"20\" name=\"CarYear\" required value=\"1970\"></td>\n        </tr>\n        <tr>\n            <td>Color</td>\n            <td><input type=\"text\" width=\"20\" name=\"Color\" required value=\"Green\"></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td><input type=\"submit\" value=\"Enter\"></td>\n        </tr>\n    </table>\n    </form>\n    ');\n\n}\nelse\n{\n    echo('');\n\tprint_r($_POST);\n\techo(\"<br><hr><br>\");\n\ttry\n\t{\n\t//Step 1 - create sql statement\n\t$sql_Insert =  \t\"INSERT INTO tbl_car\".\n\t\t\t\t\"(OwnerFN,OwnerLN,Make,Model,CarYear,Color) \".\n\t\t\t\t\"VALUES(?,?,?,?,?,?)\";\n\n\t//Step2 - prepare our sql statement\n\t//This will box our information at the \":\" placeholders\n\n\t$sql_Insert =  $pdo->prepare($sql_Insert);\n\n\n\t//Step 3 - Sanitize the information\n\t// use filter_var\n\t$OwnerFN = filter_var($_POST['OwnerFN'],FILTER_SANITIZE_STRING);\n\t$OwnerLN = filter_var($_POST['OwnerLN'],FILTER_SANITIZE_STRING);\n\t$Make = filter_var($_POST['Make'],FILTER_SANITIZE_STRING);\n\t$Model = filter_var($_POST['Model'],FILTER_SANITIZE_STRING);\n\t$CarYear = filter_var($_POST['CarYear'],FILTER_SANITIZE_STRING);\n\t$Color = filter_var($_POST['Color'],FILTER_SANITIZE_STRING);\n\n\n\n\t//Step 4 - Bind our placeholders to our clean variables\n\n\t// \n\t// $sql_Insert->bindparam(1,$OwnerFN);\n\t// $sql_Insert->bindparam(2,$OwnerLN);\n\t// $sql_Insert->bindparam(3,$Make);\n\t// $sql_Insert->bindparam(4,$Model);\n\t// $sql_Insert->bindparam(5,$CarYear);\n\t// $sql_Insert->bindparam(6,$Color);\n\t\n\t$data = array($_POST['OwnerFN'],\n\t\t\t\t$_POST['OwnerLN'],\n\t\t\t\t$_POST['Make'],\n\t\t\t\t$_POST['Model'],\n\t\t\t\t$_POST['CarYear'],\n\t\t\t\t$_POST['Color'],);\n\t\n\t$data = array($OwnerFN,$OwnerLN,$Make,$Model,$CarYear,$Color);\n\t\n\n\t//Step 5 - Execute the SQL Statement\n\t$sql_Insert->execute($data);\n\t//$sql_Insert->execute();\n\techo(\"<br>### input was successful # # # <br><hr><br>\");\n\n\t// ---------------------------------------------\n\n\t$sql_SelectLastCar = \t\n        \t\t\t\"SELECT * \".\n\t\t\t\t\t\"FROM tbl_car \".\n\t\t\t\t\t\"WHERE Car_Id = \".\n\t\t\t\t\t\"(SELECT MAX(Car_Id) FROM tbl_car) \";\n\n\t// run the query\n\t$dataSet = $pdo->query($sql_SelectLastCar);\n\n\t// loop the columns\n\tforeach($dataSet as $row)\n\t{\n\techo($row['OwnerFN'].\" \".$row['OwnerLN'].\"<br>\");\n\techo($row['Make'].\" \".$row['Model'].\" \".$row['CarYear'].\"<br>\");\n\techo($row['Color'].\" \".$row['Car_Id'].\"<br>\");\n\t}\n\n\t//-----------------------------------------------\n\n\tunset($_POST);\n\n\t}\n\tcatch(PDOExcept $eio)\n\t{\n\t\techo(\"**** Input Error<br>\".$eio);\n\t}\n\t\n\t// add a button\n\techo('<a href=\"default.php\"><button type=\"button\">'.\n'Add Another Car</button></a>');\n\n\n}\n?>\n<br><hr><br>\n    <br><a href=\"default.php\"><button type=\"button\">Home</button></a>&nbsp;&nbsp;\n    <a href=\"page2.php\"><button type=\"button\">Page 2</button></a>&nbsp;&nbsp;\n    <a href=\"page3.php\"><button type=\"button\">Page 3</button></a>&nbsp;&nbsp;\n<br><br><br>\n</div>\n</body>\n</html>\n\n10/2025","type":"content","url":"/wpref/pdofirstdatadbinsertcarexample#page2-php","position":13},{"hierarchy":{"lvl1":"PDO With No Named Placeholders"},"type":"lvl1","url":"/wpref/pdonoplaceholdersexample","position":0},{"hierarchy":{"lvl1":"PDO With No Named Placeholders"},"content":"This example shows how to use SQL with no named placeholders.<!DOCTYPE html>\n<html>\n<head>\n<title>function example</title>\n\n\t<!-- css styling -->\n\t<style>\n\t\t#div1{\n\t\t\tbackground-color:cornsilk;\n\t\t\twidth:65%;\n\t\t\tmargin-left:auto;\n\t\t\tmargin-right:auto;\n\t\t}\n\t</style>\n\n</head>\n<body>\n    <?php\n\n        //database connection\n        function newDB(){\n            //returns a database object\n            return new PDO('mysql:host=127.0.0.1;dbname=wp_cars','root','');\n        }\n\n        function pdoInsert(){\n\n            // open new datbase connection\n            $pdo = newDB();\n\n            // instantiate variables\n            // remember the don't come into existance\n            // until a value has been assigned to them\n\n            $ownerFN \t= \"Bubba\";\n            $ownerLN\t= \"Smith\";\n            $make\t\t= \"Scion\";\n            $model\t\t= \"XB\";\n            $carYear\t= rand(2000,2012);\n            $color\t\t= \"Blue\";\n\n            try\n            {\n                // SQL Statement\n                $sql_stmt = \"INSERT INTO tbl_car(OwnerFN,OwnerLN,make,model,carYear,color) \n                        VALUES (?,?,?,?,?,?)\";\n\n                // prepare\n                $pdo = $pdo->prepare($sql_stmt);\n\n                // bind our parameters\n                $pdo->bindParam(1,$ownerFN);\n                $pdo->bindParam(2,$ownerLN);\n                $pdo->bindParam(3,$make);\n                $pdo->bindParam(4,$model);\n                $pdo->bindParam(5,$carYear);\n                $pdo->bindParam(6,$color);\n\n                // generate some database\n                // normally where you assign $_POST variable\n                // which has been sanitized to variable\n\n                // for this example auto generate some database\n\n                $numRecs = rand(5,10);\n\n                for($i = 0; $i < $numRecs; $i++)\n                {\n                    $arn \t\t= rand(0,1000);\n\n                    // normally the $_POST variable is \n                    // sanitized and assigned a local variable\n\n                    // $ownerFN = filter_var($_POST['ownerFN'],FILTER_SANITIZE_STRING);\n\n                    $ownerFN \t= \"Bubba\".$arn;\n                    $ownerLN \t= \"Smith\".$arn;\n                    $make \t\t= \"Ford\".$arn;\n                    $model \t\t= \"Mach E\".$arn;\n                    $carYear \t= rand(2020,2024);\n                    $color \t\t= \"red\";\n\n                    // since the variables are already bound\n                    // we can just call execute()\n\n                    $pdo->execute();\n                }\n\n            }\n            catch(PDOException $epdo)\n            {\n                // In production, errors be redirect to an error page\n                echo($pdo->getMessage());\n            }\n\n            // always closse our connection\n            $pdo = null;\n        }\n\n        function printCarTable(){\n            \n            echo('\n            <div id=\"div1\">\n            <h1>Car Table</h1>\n            <a href=\"default.php\">\n                <button type=\"Button\">Refresh</button>\n                </a><br><br>\n            <table border=\"1\" width=\"100%\" align=\"center\">\n                <tr>\n                    <td>Owner FN</td>\n                    <td>Owner LN</td>\n                    <td>Make</td>\n                    <td>Model</td>\n                    <td>Car Year</td>\n                    <td>Color</td>\n                    <td>Car ID</td>\t\t\t\t\n                </tr>\n            ');\n\n            // create a database connection\n            $pdo = newDB();\n\n            // setup our SQL\n            $sql = \"SELECT * FROM tbl_car\";\n\n            // executing the SQL - bring down the data\n            $dataSet = $pdo->query($sql);\n\n            // iterate through each dataSet row\n            foreach($dataSet as $row)\n            {\n                echo('<tr>');\n                echo('<td>'.$row['OwnerFN'].'</td>'.\n                        '<td>'.$row['OwnerLN'].'</td>'.\n                        '<td>'.$row['Make'].'</td>'.\n                        '<td>'.$row['Model'].'</td>'.\n                        '<td>'.$row['CarYear'].'</td>'.\n                        '<td>'.$row['Color'].'</td>'.\n                        '<td>'.$row['Car_Id'].'</td>'\t\t\t\t\n                    );\n                echo('</tr>');\n\n            }\n\n            echo('</table>\n            <br></div><br><br>');\n\n            // close the db connection\n            $pdo = null;\n\n        }\n\n\n        function clearDB()\n        {\n            try\n            {\n                // create new database connection\n                $pdo = newDB();\n\n                // execute the truncate SQL command\n                $pdo->exec(\"TRUNCATE TABLE tbl_car\");\n\n            }\n            catch(PDOException $epdo)\n            {\n                // In production, errors be redirect to an error page\n                echo(\"Error<br>\".$epdo->getMessage());\n            }\n\n            $pdo = null;\n        }\n\n        // function calls\n\n        clearDB();\n        pdoInsert();\n        printCarTable();\n\n    ?>\n</body>\n</html>","type":"content","url":"/wpref/pdonoplaceholdersexample","position":1},{"hierarchy":{"lvl1":"PHP Basics"},"type":"lvl1","url":"/wpref/phpbasics","position":0},{"hierarchy":{"lvl1":"PHP Basics"},"content":"","type":"content","url":"/wpref/phpbasics","position":1},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Starting out"},"type":"lvl2","url":"/wpref/phpbasics#starting-out","position":2},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Starting out"},"content":"PHP files are run on the server. In Apache the are usually placed in a folder within the HTDOCS folder.\n\nPHP code is placed between the <?php\n\n   ....\n\n  ?>\n\nThis can be placed anywhere - in the head or body and multiple times","type":"content","url":"/wpref/phpbasics#starting-out","position":3},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Syntax"},"type":"lvl2","url":"/wpref/phpbasics#syntax","position":4},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Syntax"},"content":"Statements end with ;\n\nPHP statements, key words, classes etc are NOT case sensitive\n\nVariables are case sensitive","type":"content","url":"/wpref/phpbasics#syntax","position":5},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Comments"},"type":"lvl2","url":"/wpref/phpbasics#comments","position":6},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Comments"},"content":"//  single line\n# single line\n    \n/* multiple line\nComments\n*/\n","type":"content","url":"/wpref/phpbasics#comments","position":7},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Variables"},"type":"lvl2","url":"/wpref/phpbasics#variables","position":8},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Variables"},"content":"Start with $\n\nFollowed by a letter or underscore\n\nCannot start with a number\n\nVariables are case sensitive\n\nNo special characters except for underscore _\n\nVariables are created  when a value is assigned to it\n\nVARIABLES ARE LOOSELY TYPE\n\nThey can hold anything$salary = 20000;\n$_salary = 1000000;","type":"content","url":"/wpref/phpbasics#variables","position":9},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Constant"},"type":"lvl2","url":"/wpref/phpbasics#constant","position":10},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Constant"},"content":"//Note constants do not use $ and the convention is to use all caps\n//use the define command\n\n        define('PI', 3.1415);\n        define('CODEGURU', \"Jim Goudy\");\n","type":"content","url":"/wpref/phpbasics#constant","position":11},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Variable Scope - Local"},"type":"lvl2","url":"/wpref/phpbasics#variable-scope-local","position":12},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Variable Scope - Local"},"content":"<?php\n // The variable can only be accessed within the function   \n    \nfunction myfunc()\n{\n\t$x=42; \t\t\t//local scope\n\techo (‚ÄúThis is value x is $x‚Äù);\t//note that the variable is within the string\n}\n\nmyfunc();\n?>\n","type":"content","url":"/wpref/phpbasics#variable-scope-local","position":13},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Variable Scope - Global"},"type":"lvl2","url":"/wpref/phpbasics#variable-scope-global","position":14},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Variable Scope - Global"},"content":"<?php\n// The variable can only be accessed from outside the function\n\n//global scope\n$x=42; \t\t\t\t\n\nfunction myfunc()\n{\n    //note that the variable is within the string\n\techo ‚ÄúThis is value x is $x‚Äù;\t\n}\n\nmyfunc();\n?>\n\nGlobal is also a keyword - supervariable\n","type":"content","url":"/wpref/phpbasics#variable-scope-global","position":15},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Variable Scope - Static"},"type":"lvl2","url":"/wpref/phpbasics#variable-scope-static","position":16},{"hierarchy":{"lvl1":"PHP Basics","lvl2":"Variable Scope - Static"},"content":"The variable will retain its value after it‚Äôs been called by a function.\n\nUsually when a function is called the variables are cleared and reinitialized<?php\n\nfunction myfunc2()\n\n{\n\n static $xx=42;  //local scope\n\n echo ‚ÄúThis is value x is $x‚Äù; //note that the variable is within the string\n\n$xx = $xx + 100;\n\necho(\"<br>This is value x is $xx<br><hr><br>\");\n\n}\n\nmyfunc2();\n\nmyfunc2();\n\n?>\n    ","type":"content","url":"/wpref/phpbasics#variable-scope-static","position":17},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out"},"type":"lvl1","url":"/wpref/phpclosingtags","position":0},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out"},"content":"","type":"content","url":"/wpref/phpclosingtags","position":1},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl3":"The Short Answer"},"type":"lvl3","url":"/wpref/phpclosingtags#the-short-answer","position":2},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl3":"The Short Answer"},"content":"üëâ If your file contains only PHP code, it‚Äôs best practice to omit the closing ?> tag.","type":"content","url":"/wpref/phpclosingtags#the-short-answer","position":3},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"Why Leave It Out?"},"type":"lvl2","url":"/wpref/phpclosingtags#why-leave-it-out","position":4},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"Why Leave It Out?"},"content":"The reason is surprisingly simple:\n\nAny whitespace, newlines, or hidden characters (like a BOM) after a closing ?> tag are sent directly to the browser as output.\n\nNote\n\n\n\nBOM stands for Byte Order Mark  - It‚Äôs a special, invisible sequence of bytes (EF BB BF) that can appear at the very beginning of a text file when it‚Äôs saved with UTF-8 encoding with BOM.\n\nIts original purpose was to tell programs: ‚ÄúHey, this file is encoded in UTF-8.‚Äù\n\nThis can trigger the infamous ‚Äúheaders already sent‚Äù error, break JSON APIs, or cause strange blank lines in your HTML.\n\nFrameworks like Laravel, WordPress, and even the official PHP manual recommend leaving it out for clean, bug-free code.","type":"content","url":"/wpref/phpclosingtags#why-leave-it-out","position":5},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"When to Keep It"},"type":"lvl2","url":"/wpref/phpclosingtags#when-to-keep-it","position":6},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"When to Keep It"},"content":"There are cases where you still need the closing tag:\n\nIf your file mixes PHP and HTML (e.g., a template file), the interpreter needs to know when to leave PHP mode and return to raw HTML.\n\nExample:<?php echo \"Hello, world!\"; ?>\n<p>This is plain HTML again.</p>\n\nBut in files that contain only PHP logic‚Äîlike database connection scripts, configuration files, or class libraries‚Äîclosing tags are unnecessary and risky.","type":"content","url":"/wpref/phpclosingtags#when-to-keep-it","position":7},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"Wisdom Bite: The Door Analogy"},"type":"lvl2","url":"/wpref/phpclosingtags#wisdom-bite-the-door-analogy","position":8},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"Wisdom Bite: The Door Analogy"},"content":"Think of ?> as leaving a door open at the end of your script.\n\nWith the door open, stray characters, invisible spaces, or editor quirks can slip in.\n\nLeaving the tag out keeps the door shut and your script safe from accidental leaks.","type":"content","url":"/wpref/phpclosingtags#wisdom-bite-the-door-analogy","position":9},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"The Role of ?> in PHP"},"type":"lvl2","url":"/wpref/phpclosingtags#the-role-of-in-php","position":10},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"The Role of ?> in PHP"},"content":"The closing tag is optional in PHP-only files.\n\nThe interpreter automatically stops parsing at the end of the file.\n\nThe official recommendation: leave the closing tag off in pure PHP files.","type":"content","url":"/wpref/phpclosingtags#the-role-of-in-php","position":11},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"Why It Matters with require and include"},"type":"lvl2","url":"/wpref/phpclosingtags#why-it-matters-with-require-and-include","position":12},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"Why It Matters with require and include"},"content":"When you include a file, whatever is in that file is dropped straight into your running script.\n\nWith ?> at the end:\nIf there‚Äôs an extra space, newline, or BOM after it, PHP treats it as literal output.\n\nHeaders may fail (‚Äúheaders already sent‚Äù).\n\nJSON or XML output can become invalid.\n\nHTML may display stray whitespace.\n\nWithout ?>:\nThe file ends cleanly, nothing slips through, and you avoid hidden output entirely.\n\nüëâ That‚Äôs why best practice is to omit ?> in PHP-only files, especially those that are required or included.","type":"content","url":"/wpref/phpclosingtags#why-it-matters-with-require-and-include","position":13},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"Before & After Example (Great for Class)"},"type":"lvl2","url":"/wpref/phpclosingtags#before-after-example-great-for-class","position":14},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"Before & After Example (Great for Class)"},"content":"Problematic file (dbconnect.php):<?php\n$pdo = new PDO(\"mysql:host=localhost;dbname=test\", \"user\", \"pw\");\n?>\n    \n\n(But the editor sneaks in a newline here ‚¨á)\n\nMain script:<?php\nrequire 'dbconnect.php';\nheader(\"Content-Type: application/json\");\necho json_encode([\"status\" => \"ok\"]);\n\n‚û°Ô∏è Result: ‚ùå ‚ÄúHeaders already sent‚Äù error.\n\nFixed file (dbconnect.php):<?php\n$pdo = new PDO(\"mysql:host=localhost;dbname=test\", \"user\", \"pw\");\n\nNo closing tag ‚Üí no trailing whitespace ‚Üí clean output. ‚úÖ","type":"content","url":"/wpref/phpclosingtags#before-after-example-great-for-class","position":15},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"Best Practice (Takeaway)"},"type":"lvl2","url":"/wpref/phpclosingtags#best-practice-takeaway","position":16},{"hierarchy":{"lvl1":"PHP Closing Tags: Leave Them Out Or Out","lvl2":"Best Practice (Takeaway)"},"content":"Always omit ?> in PHP-only files.\n\nUse it only when you must return to HTML mode.\n\nThis avoids accidental output and saves you from hard-to-track bugs.","type":"content","url":"/wpref/phpclosingtags#best-practice-takeaway","position":17},{"hierarchy":{"lvl1":"PHP Introduction"},"type":"lvl1","url":"/wpref/phpintroduction","position":0},{"hierarchy":{"lvl1":"PHP Introduction"},"content":"","type":"content","url":"/wpref/phpintroduction","position":1},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"Background Information"},"type":"lvl2","url":"/wpref/phpintroduction#background-information","position":2},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"Background Information"},"content":"Original Name: Personal Home Page\n\nNow: PHP: Hypertext Preprocessor\n\nCreated by Rasmus Lerdorf in 1994\n\nOfficial website: \n\nwww.php.net\n\nOpen Source Project","type":"content","url":"/wpref/phpintroduction#background-information","position":3},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"Why Use PHP"},"type":"lvl2","url":"/wpref/phpintroduction#why-use-php","position":4},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"Why Use PHP"},"content":"PHP is to learn and use.\n\nWritten specifically for dynamic web page creation\n\nIt‚Äôs free\n\nMulti-platformed\n\nIt‚Äôs the most popular language in use.","type":"content","url":"/wpref/phpintroduction#why-use-php","position":5},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"PHP Version"},"type":"lvl2","url":"/wpref/phpintroduction#php-version","position":6},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"PHP Version"},"content":"Version 8\n\nNote Version 4 is not compatible with versions 5+\n\nScripted language\n\nThere is no version 6\n\nIt often works in conjunction with Javascript (client side)\n\nServer Side Program ‚Äì\n\nPHP only performs actions on the server.\n\nCross-Platformed\n\nRuns on Unix, Windows, Apple, and other operating systems","type":"content","url":"/wpref/phpintroduction#php-version","position":7},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"PHP Alternatives"},"type":"lvl2","url":"/wpref/phpintroduction#php-alternatives","position":8},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"PHP Alternatives"},"content":"CGI Scripts (Common Gateway Interface ‚Äì usually written in Perl)\n\nASP.NET ‚Äì Microsoft and runs on an IIS server\n\nColdFusion - Adobe\n\nJSP ‚Äì Java Server Pages\n\nRuby on Rails","type":"content","url":"/wpref/phpintroduction#php-alternatives","position":9},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"PHP Web Servers"},"type":"lvl2","url":"/wpref/phpintroduction#php-web-servers","position":10},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"PHP Web Servers"},"content":"XAMMP - \n\nhttps://‚Äãwww‚Äã.apachefriends‚Äã.org‚Äã/index‚Äã.html\n\nWindows, Linux, OSX\n\nNote: There are differences between the difference of versions Windows, Linux, and OSX. (mainly on how they treat number lengths coming from MySQL)\n\nMAMP - \n\nhttp://‚Äãwww‚Äã.mamp‚Äã.info‚Äã/en/\n\nOSX\n\nWAMP - \n\nhttp://‚Äãwww‚Äã.wampserver‚Äã.com‚Äã/en/\n\nWindows","type":"content","url":"/wpref/phpintroduction#php-web-servers","position":11},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"Editors"},"type":"lvl2","url":"/wpref/phpintroduction#editors","position":12},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"Editors"},"content":"NetBeans\n\nAdobe Dream Weaver\n\nPSPad, Notepad++\n\nTextwrangler\n\nMac\n\nVS Code\n\nYour favorite highlighter","type":"content","url":"/wpref/phpintroduction#editors","position":13},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"MySQL"},"type":"lvl2","url":"/wpref/phpintroduction#mysql","position":14},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"MySQL"},"content":"MySQL is (as of March 2014) the world‚Äôs second most[a] widely used open-source relational database management system (RDBMS). It is named after co-founder Michael Widenius‚Äôs daughter, My. The SQL phrase stands for Structured Query Language.\n\nThe MySQL development project has made its source code available under the terms of the GNU General Public License, as well as under a variety of proprietary agreements. MySQL was owned and sponsored by a single for-profit firm, the Swedish company MySQL AB, now owned by Oracle Corporation.\n\nMySQL","type":"content","url":"/wpref/phpintroduction#mysql","position":15},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"MariaDB"},"type":"lvl2","url":"/wpref/phpintroduction#mariadb","position":16},{"hierarchy":{"lvl1":"PHP Introduction","lvl2":"MariaDB"},"content":"MariaDB is a community-developed, commercially supported \n\nfork of the \n\nMySQL \n\nrelational database management system (RDBMS), intended to remain \n\nfree and open-source software under the \n\nGNU General Public License. Development is led by some of the original developers of MySQL, who forked it due to concerns over its \n\nacquisition by \n\nOracle Corporation in 2009.[\n\n6]\n\nMariaDB is intended to maintain high compatibility with MySQL, with library binary parity and exact matching with MySQL \n\nAPIs and commands, allowing it in many cases to function as drop-in replacement for MySQL. However, new features are diverging.[\n\n7] It includes new \n\nstorage engines like \n\nAria, \n\nColumnStore, and \n\nMyRocks.\n\nMariaDB is named after Widenius‚Äô younger daughter, Maria.\n\nMariaDB","type":"content","url":"/wpref/phpintroduction#mariadb","position":17},{"hierarchy":{"lvl1":"Passwords"},"type":"lvl1","url":"/wpref/passwords","position":0},{"hierarchy":{"lvl1":"Passwords"},"content":"","type":"content","url":"/wpref/passwords","position":1},{"hierarchy":{"lvl1":"Passwords","lvl2":"Key Ideas"},"type":"lvl2","url":"/wpref/passwords#key-ideas","position":2},{"hierarchy":{"lvl1":"Passwords","lvl2":"Key Ideas"},"content":"password_hash()\n\npassword_verify()\n\nhashing\n\nsalts","type":"content","url":"/wpref/passwords#key-ideas","position":3},{"hierarchy":{"lvl1":"Passwords","lvl2":"How PHP Passwords Work"},"type":"lvl2","url":"/wpref/passwords#how-php-passwords-work","position":4},{"hierarchy":{"lvl1":"Passwords","lvl2":"How PHP Passwords Work"},"content":"password_hash() is a PHP function that creates a password hash using a strong one-way hashing algorithm  The following algorithms are currently supported:\n\nPASSWORD_DEFAULT: Uses the bcrypt algorithm (default as of PHP 5.5.0). Note that this constant is designed to change over time as new and stronger algorithms are added to PHP. For that reason, the length of the result from using this identifier can change over time. Therefore, it is recommended to store the result in a database column that can expand beyond 60 characters (255 characters would be a good choice).\n\nPASSWORD_BCRYPT: Uses the CRYPT_BLOWFISH algorithm to create the hash. This will produce a standard crypt() compatible hash using the ‚Äú2y2y‚Äù identifier. The result will always be a 60 character string, or false on failure.\n\nPASSWORD_ARGON2I: Uses the Argon2i hashing algorithm to create the hash. This algorithm is only available if PHP has been compiled with Argon2 support.\n\nPASSWORD_ARGON2ID: Uses the Argon2id hashing algorithm to create the hash. This algorithm is only available if PHP has been compiled with Argon2 support.\n\nHere‚Äôs an example of how to use password_hash():$password = \"password123\";\n$hash = password_hash($password, PASSWORD_DEFAULT);\n\nThis code will generate a hash for $password using the default algorithm (PASSWORD_DEFAULT). The resulting hash can then be stored in a database for later use.\n\nTo verify a password, you can use the password_verify() function:$password = \"password123\";\n$hash = password_hash($password, PASSWORD_DEFAULT);\n\nif (password_verify($password, $hash)) {\n    echo \"Password is valid!\";\n} else {\n    echo \"Invalid password.\";\n}\n\nThis code will verify that $password matches the hash generated by password_hash(). If they match, it will output ‚ÄúPassword is valid!‚Äù.\n\n**Reference **\n\nhttps://‚Äãwww‚Äã.php‚Äã.net‚Äã/manual‚Äã/en‚Äã/function‚Äã.password‚Äã-hash‚Äã.php\n\n(AICHJIM)","type":"content","url":"/wpref/passwords#how-php-passwords-work","position":5},{"hierarchy":{"lvl1":"Passwords","lvl3":"How Password Salts Work","lvl2":"How PHP Passwords Work"},"type":"lvl3","url":"/wpref/passwords#how-password-salts-work","position":6},{"hierarchy":{"lvl1":"Passwords","lvl3":"How Password Salts Work","lvl2":"How PHP Passwords Work"},"content":"Password salting is a technique used to protect passwords stored in databases. It involves adding a random string of characters, called a salt, to the password before it is hashed. This makes it much more difficult for attackers to crack the passwords, even if they have access to the database.\n\nHere‚Äôs how password salting works:\n\nSalt generation: A unique salt is generated for each password. This salt is typically a random string of characters that is at least 32 bytes long.\n\nSalt concatenation: The salt is concatenated (joined) to the password. This creates a unique input for the hashing function.\n\nHashing: The combined salt and password are passed through a cryptographic hash function. This produces a unique hash value for each password.\n\nStorage: The salt and hash value are stored together in the database. The original password is never stored.\n\nWhen a user attempts to log in, the salt is retrieved from the database and concatenated to the password entered by the user. This combination is then hashed, and the resulting hash value is compared to the stored hash value. If the two hash values match, the user is authenticated.\n\nSalting provides several benefits for password security:\n\nPrevents Rainbow Table Attacks: Rainbow tables are precomputed tables of hash values for common passwords. Attackers can use these tables to quickly crack passwords that have not been salted. However, salting makes rainbow table attacks ineffective because the salt changes the hash value for each password.\n\nProtects against Duplicate Passwords: If two users have the same password, their hash values will be the same without salting. This makes it easier for attackers to identify common passwords. However, salting ensures that even if two users have the same password, their hash values will be different.\n\nIncreases Password Complexity: Salting effectively increases the complexity of passwords, making them more difficult to crack. This is because the salt adds additional entropy to the password, making it more difficult to guess or brute-force.\n\nIn summary, password salting is an essential security measure that helps protect passwords from being cracked. It is a simple but effective technique that should be used by all applications that store passwords.\n\n(AIBJIM)","type":"content","url":"/wpref/passwords#how-password-salts-work","position":7},{"hierarchy":{"lvl1":"Passwords","lvl3":"One Way Hashing","lvl2":"How PHP Passwords Work"},"type":"lvl3","url":"/wpref/passwords#one-way-hashing","position":8},{"hierarchy":{"lvl1":"Passwords","lvl3":"One Way Hashing","lvl2":"How PHP Passwords Work"},"content":"A one-way hashing algorithm, also known as a cryptographic hash function, is a mathematical function that takes an input of any length (a message or data) and produces a fixed-size output of random characters called a hash value or digest. The hash value is a unique representation of the input data, and it is practically impossible to reverse the process and obtain the original input from the hash value. This property makes one-way hashing algorithms crucial for data security and integrity verification.\n\nKey characteristics of one-way hashing algorithms:\n\nDeterministic: The same input always produces the same hash value.\n\nIrreversibility: It is computationally infeasible to reverse the hash function and obtain the original input from the hash value.\n\nCollision Resistance: It is extremely difficult to find two different inputs that produce the same hash value.\n\nEfficiency: The hash function should be computationally efficient to calculate the hash value quickly.\n\nApplications of one-way hashing algorithms:\n\nPassword Protection: Hashing is used to store passwords securely in databases. Instead of storing plain-text passwords, their hash values are stored, making it difficult for hackers to retrieve the original passwords even if they gain access to the database.\n\nData Integrity: Hash values are used to verify the integrity of data. By comparing the hash value of the original data with the hash value of the received data, one can ensure that the data has not been tampered with during transmission or storage.\n\nDigital Signatures: Hash values are used in digital signatures to ensure the authenticity and non-repudiation of electronic documents.\n\nFile Verification: Hash values are used to verify the integrity of downloaded files, ensuring that the downloaded file is identical to the original file.\n\nBlockchain Technology: Hashing is a fundamental component of blockchain technology, ensuring the immutability and security of the blockchain ledger.\n\nExamples of widely used one-way hashing algorithms include MD5, SHA-1, SHA-256, and SHA-512.\n\n(AIBJIM)","type":"content","url":"/wpref/passwords#one-way-hashing","position":9},{"hierarchy":{"lvl1":"Passwords","lvl2":"SQL Script"},"type":"lvl2","url":"/wpref/passwords#sql-script","position":10},{"hierarchy":{"lvl1":"Passwords","lvl2":"SQL Script"},"content":"The key thing to look at there is the UNIQUE attribute for the username.  Setting this to UNIQUE will cause the database to automatically check for duplicates.  If it finds one, you can always trap the error and code an appropriate response.-- SETUP DATABASE FOR FRESH INSTALL\nDROP DATABASE IF EXISTS wp_newuser_demo;\n\nCREATE DATABASE IF NOT EXISTS wp_newuser_demo;\n\nUSE  wp_newuser_demo;\n\n-- ------------------------------------------\n\n-- NOT IF YOU RUN THE CODE ABOVE, \n-- THIS STEP IS NOT NECESSARY\n-- THE CODE BELOW IF FOR REFFERENCE IF\n-- YOU CHOOSE TO KEEP AN EXISTING VERSION\n-- OF THE DATABASE\n\nDROP TABLE IF EXISTS tbl_user;\n\n-- ALTERNATIVE IF YOU HAVE A TABLE\n-- BUT WISH TO REMOVE ALL THE DATA\n-- UNCOMMENT THE FOLLOWING\n\n-- TRUNCATE tbl_user;\n\n-- ------------------------------------------\n\nCREATE TABLE tbl_user \n    (firstname VARCHAR(50),\n    lastname VARCHAR(50),\n    username VARCHAR (50) UNIQUE,\n    password VARCHAR(255),\n    user_ID  int(6)  AUTO_INCREMENT PRIMARY KEY);\n","type":"content","url":"/wpref/passwords#sql-script","position":11},{"hierarchy":{"lvl1":"Passwords","lvl2":"Database Connection"},"type":"lvl2","url":"/wpref/passwords#database-connection","position":12},{"hierarchy":{"lvl1":"Passwords","lvl2":"Database Connection"},"content":"Die() will cause the script to completely stop.<?php\n\n// dbconnect.php\n//wp_newuser_demo\n//tbl_user\n\n// Turn off all error reporting\nerror_reporting(0);\n\ntry\n{\n    // connection information\n    $host = \"127.0.0.1\";\n    $dbname = \"wp_newuser_demo\";\n    $user = \"dev\";\n    $pw = \"\";\n\n    // connect to database\n\t$pdo = new PDO(\"mysql:host=$host;dbname=$dbname\",$user,$pw);\n\t$pdo->setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_EXCEPTION);\n\n\t//only for educational use to demonstration connection status\n\t$dbstatus = \"Good database connection\";\n\n}\ncatch(PDOException $e)\n{\n    // get any error messages\n\t$dbstatus = \"Database connection failed<br>\".\n\t\t\t  $e->getMessage();\n\n    // use in production        \n\t//die();\n}\n\n// start session variables\nSESSION_START();\n\n// for lecture only\necho($dbstatus);\necho(\"<br><hr><br>\");\n\n","type":"content","url":"/wpref/passwords#database-connection","position":13},{"hierarchy":{"lvl1":"Passwords","lvl2":"Start Page"},"type":"lvl2","url":"/wpref/passwords#start-page","position":14},{"hierarchy":{"lvl1":"Passwords","lvl2":"Start Page"},"content":"A simple page demonstrating  new user and login options.<!-- default.php -->\n<html>\n<head>\n<title>Home</title>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <link rel=\"stylesheet\" href=\"myStyle.css\">\n</head>\n<body>\n\n<h1>Password Demo</h1>\n<a href=\"NewUserRegistration.php\">New User Registration</a><br><br>\n<a href=\"login.php\">Login</a><br><br>\n<a href=\"memberpage.php\">Member's Only</a><br><br>\n<a href=\"logout.php\">Logout</a><br><br>\n</body>\n</html>","type":"content","url":"/wpref/passwords#start-page","position":15},{"hierarchy":{"lvl1":"Passwords","lvl2":"New User Registration"},"type":"lvl2","url":"/wpref/passwords#new-user-registration","position":16},{"hierarchy":{"lvl1":"Passwords","lvl2":"New User Registration"},"content":"<?php\n// turn of error warnings - DO THIS LAST\nerror_reporting(0);\n\n//NewUserRegistration.php\nrequire(\"dbconnect.php\");\n\n// print_r($_POST);\necho(\"<br><br>\");\n\n\nfunction sanitize($value){\n\n    // strip of any excess white spaces on the ends\n    $value = trim($value);\n\n    // get rid of any html or php tags\n    $value = strip_tags($value);\n\n    // convert special characters\n    $value = htmlspecialchars($value,ENT_QUOTES,'UTF-8');\n\n    // return the value\n    return $value;\n\n}\n\n\nif(isset($_POST['username']))\n{\n\ttry\n\t{\n\n\t$pwd = $_POST['password'];\n\n\t//sql statement\n\t$sql_stmt = \"INSERT INTO tbl_user (firstname,lastname,username,password) \n\t\t\t     VALUES(:firstname,:lastname,:username,:password)\";\n\n\t//prepare\n\t$sql_stmt = $pdo->prepare($sql_stmt);\n\n\t//sanitize\n\t$firstname = sanitize($_POST['firstname']);\n\t$lastname = sanitize($_POST['lastname']);\n\t$username = sanitize($_POST['username']);\n\t//option to clean the password\n\n    // ********   PASSWORD *******    \n\t//hash the password\n\t$password = password_hash($pwd, PASSWORD_DEFAULT);\n    \n    // ***************************\n\t\n\t//bind param way\n\t// $sql_stmt->bindparam(\":firstname\",$firstname);\n\t// $sql_stmt->bindparam(\":lastname\",$lastname);\n\t// $sql_stmt->bindparam(\":username\",$username);\n\t// $sql_stmt->bindparam(\":password\",$password);\n\n    // using array\n    $param_array = array(\n        \t            ':firstname' => $firstname,\n\t                    ':lastname'=>$lastname,\n\t                    ':username'=>$username,\n\t                    ':password'=>$password);\n\n\t//execute\n\t$sql_stmt->execute($param_array);\n\techo('<p>User was successfully entered</p>');\n\n\t}\n\tcatch(PDOException $ee)\n\t{\n\t\n\t\techo($ee->getMessage());\n\t\techo(\"<br><br>\");\n\t\techo($ee->getCode());\n\t\t\n\t\tif($ee->getCode() == 23000)\n\t\t{\n\t\t\t//echo(\"Please select different username\");\n\t\t\t$_SESSION['logerr_message'] = \"Please select different username\";\n\t\t\techo('<script>alert(\"Plese use different username\");</script>');\n\t\t\theader('location: NewUserRegistration.php');\t\t\t\n        }\n\t}\n}\nelse\n{\necho('\n<!DOCTYPE html>\n<html>\n<head>\n<title>New User</title>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\t<link rel=\"stylesheet\" href=\"myStyle.css\">\n\n</head>\n<body>\n\n    <div class=\"div1\">\n        <h1>New User Registration</h1>\n\n\n        <form method=\"POST\" action=\"NewUserRegistration.php\">\n            <table border=\"1\">\n                <tr>\n                    <td>First Name</td>\n                    <td><input type=\"text\" name=\"firstname\" size=\"25\"></td>\n                </tr>\n                <tr>\n                    <td>Last Name</td>\n                    <td><input type=\"text\" name=\"lastname\" size=\"25\"></td>\n                </tr>\n                <tr>\n                    <td>User Name</td>\n                    <td><input type=\"text\" name=\"username\" size=\"25\" required></td>\n                </tr>\n                <tr>\n                    <td>Password</td>\n                    <td><input type=\"password\" name=\"password\" size=\"25\" required></td>\n                </tr>\n                <tr>\n                    <td></td>\n                    <td><input type=\"submit\" name=\"submit\"></td>\n                </tr>\n            </table>\n        </form>\n\t\t<p><a href=\"default.php\">Home</a></p>\n    </div>\n</body>\n</html>\n');\n}\n\n","type":"content","url":"/wpref/passwords#new-user-registration","position":17},{"hierarchy":{"lvl1":"Passwords","lvl2":"Login Page"},"type":"lvl2","url":"/wpref/passwords#login-page","position":18},{"hierarchy":{"lvl1":"Passwords","lvl2":"Login Page"},"content":"On this page, note the **error_reporting **  function.  Passing zero to it, will turn off error reporting.<?php\n//--------------------\n//login.php\n//https://www.php.net/manual/en/function.error-reporting.php\n\n// Turn off all error reporting\nerror_reporting(0);\n\n\nrequire('dbconnect.php');\n\nif(isset($_POST['username']))\n{\n\n\t\t$sql_login = \t\"SELECT username, password \".\n\t\t\t\t\t\t\"FROM tbl_user \".\n\t\t\t\t\t\t\"WHERE username = :username\";\n\n\t\t//prepare\n\t\t$sql_login = $pdo->prepare(\"$sql_login\");\n\n\t\t//sanitize\n\t\t$username = filter_var($_POST['username'], FILTER_SANITIZE_STRING);\n\t\t\n\t\t//bind param\n\t\t$sql_login->bindParam(\":username\",$username);\n\n\t\t//execute\n\t\t$sql_login->execute();\n\n\t\t//get dataset / result\n\t\t$result = $sql_login->fetch();\n\n\t\tif($result['password']== null)\n\t\t{\n\t\t\techo(\"<br>Bad Username / or Password</br>\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//for your information - remove for production\n\t\t\tprint_r($result['password']);\n\t\t\techo('<br><br');\n\t\t\t\n\t\t\t//store the password\n\t\t\t$hash_db = $result['password'];\n\n\t\t\t//reverse the password process and compare\n\t\t\tif(password_verify($_POST['password'], $hash_db))\n\t\t\t{\n\t\t\t\techo('<br><br>Password is valid');\n\n\t\t\t\t//This session variable will set as a flag to\n\t\t\t\t// let users log onto \"Member / private\" pages\n\t\t\t\t$_SESSION['LoginStatus'] = true;\n\n\t\t\t\t//Goto the members page\n\t\t\t\theader(\"location: memberpage.php\");\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t//bad login\n\t\t\t\t$_SESSION['LoginStatus'] = false;\n\t\t\t\t\n\t\t\t\t// Note: you could set a session variable\n\t\t\t\t// and go to a customized error page\n\t\t\t\techo('<br>Invalid Password<br>');\n\t\t\t}\n\t\t}\n}\n?>\n\n<html>\n<head>\n<title>Login</title>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<link rel=\"stylesheet\" href=\"myStyle.css\">\n</head>\n<body>\n<div class=\"div1\">\n<form method=\"POST\" action=\"Login.php\">\n<table border= \"1\">\n\t<tr>\n\t\t<td colspan=\"2\">Login</td>\n\t</tr>\n\t\t<td>Username</td>\n\t\t<td><input type=\"text\" name=\"username\" size =\"25\" value=\"\" require</td>\n\t</tr>\t\n\t<tr>\n\t\t<td>Password</td>\n\t\t<td><input type=\"password\" name=\"password\" size =\"25\" value=\"\" require</td>\n\t</tr>\t\n\t<tr>\n\t\t<td></td>\n\t\t<td><input type=\"submit\" name=\"submit\" value=\"Enter\"</td>\n\t</tr>\t\n</table>\n</form>\n\n<a href=\"default.php\">Home</a>\n</div>\n</body>\n</html>\n","type":"content","url":"/wpref/passwords#login-page","position":19},{"hierarchy":{"lvl1":"Passwords","lvl2":"Logout"},"type":"lvl2","url":"/wpref/passwords#logout","position":20},{"hierarchy":{"lvl1":"Passwords","lvl2":"Logout"},"content":"<?php\n//logout.php\n\n//Start Session\nsession_start();\n\n// unset deletes the specified session variable\nunset($_SESSION['LoginStatus']);\n\n//redirect too the home page\nheader('location: default.php');\n","type":"content","url":"/wpref/passwords#logout","position":21},{"hierarchy":{"lvl1":"Passwords","lvl2":"Member Page"},"type":"lvl2","url":"/wpref/passwords#member-page","position":22},{"hierarchy":{"lvl1":"Passwords","lvl2":"Member Page"},"content":"<?php\n// memberpage.php\n//access the session variables\nsession_start();\nprint_r($_SESSION);\n\n//*** Make sure to do this step\n//*** It makes checks to see if the status flag is set to false to\n//*** prevent unauthorised access to the page.\nif(!isset($_SESSION['LoginStatus'])  || $_SESSION['LoginStatus']== false)\n{\n\theader('Location:default.php');\n}\n?>\n<html>\n<head>\n<title>Members</title>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <link rel=\"stylesheet\" href=\"myStyle.css\">\n</head>\n<body>\n<div class=\"div1\">\n<h1>Members Only</h1>\n<p>You are on the members only page.</p>\n<p><a href=\"default.php\">home</a>&nbsp;<a href=\"logout.php\">Log Out</a></p>\n</div>\n</body>\n</html>","type":"content","url":"/wpref/passwords#member-page","position":23},{"hierarchy":{"lvl1":"Reading json"},"type":"lvl1","url":"/wpref/readingjson","position":0},{"hierarchy":{"lvl1":"Reading json"},"content":"This code displays a table of Harry Potter spells on a webpage. Here‚Äôs a breakdown:\n\nHTML Structure:\n\nDefines a basic webpage with a title (‚ÄúSpells‚Äù) and a content area.\n\nStyles the content area and a table to improve presentation.\n\nPHP Script:\n\nRetrieves JSON data (currently from a specific URL) containing spell information.\n\nDecodes the JSON data into an array for easier access.\n\nBuilds an HTML table with headers for ‚ÄúSpell Name,‚Äù ‚ÄúIncantation,‚Äù ‚ÄúSpell Type,‚Äù and ‚ÄúEffect.‚Äù\n\nLoops through each spell in the array and displays its details in a table row.<!DOCTYPE html>\n<html>\n<head>\n  <title>Spells</title>\n  <style>\n    /* Style the table for better presentation */\n    table {\n      border-collapse: collapse; /* Remove borders between cells */\n    }\n    th {\n      background-color: ivory; /* Set header background color */\n      text-align: left; /* Align text left in headers */\n    }\n    tr:nth-child(even) {\n      background-color: lightgrey; /* Alternate row background color */\n    }\n    .content {\n      background-color: cornsilk; /* Set content area background color */\n      margin: auto; /* Center the content horizontally */\n      width: 65%; /* Set content area width to 50% */\n    }\n  </style>\n</head>\n<body>\n<div class=\"content\">\n  <h1>Harry Potter Spells</h1>\n\n  <?php\n\n  // // Retrieve JSON data from a URL (replace with your actual URL)\n  // $json = file_get_contents('url_here');\n  // // Decode the JSON data into an object\n  // $obj = json_decode($json);\n\n  // Fetch JSON data from a specific URL (replace if needed)\n  $url = 'https://flutter.locusnoesis.com/spellsinfo.php/';\n  $json = file_get_contents($url);\n\n  // Decode the JSON data into an array\n  // Set second argument to true for associative array\n  $spellsArr = json_decode($json, true); \n \n\n  // Start building the HTML table\n  echo('<table border=\"1\">\n          <tr>\n            <th>Spell Name</th>  <th>Incantation</th>\n            <th>Spell Type</th>\n            <th>Effect</th>\n          </tr>');\n\n  // Loop through each spell in the array\n  for ($r = 0; $r < count($spellsArr); $r++) {\n    echo('<tr>');\n\n    // Access the current spell object\n    $currentSpell = $spellsArr[$r];  \n\n    // Loop through each property (key-value pair) of the current spell\n    foreach ($currentSpell as $key => $value) {\n      echo('<td>');\n      echo($value);\n      echo('</td>');\n    }\n\n    echo('</tr>');\n  }\n\n  echo('</table>');\n\n  ?>\n</div>\n</body>\n</html>\n\nAnalysis:\n\nThe code displays a table of Harry Potter spells.\n\nIt retrieves data (currently from a specific URL) in JSON format and parses it into an array.\n\nThe code loops through the spells and displays each spell‚Äôs properties (name, incantation, type, effect) in a table row.\n\nThe styling section defines the table‚Äôs appearance and the content area‚Äôs layout.\n\nImprovements:\n\nThe commented-out section shows how to replace the placeholder URL with your actual data source.\n\nThe json_decode function‚Äôs second argument is set to true to ensure an associative array is returned, making it easier to access properties by their names.\n\nThe code assumes the JSON data structure is consistent. Error handling could be added to handle unexpected data formats.","type":"content","url":"/wpref/readingjson","position":1},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide"},"type":"lvl1","url":"/wpref/sqliteguide","position":0},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide"},"content":"A fast, practical reference for learning and teaching SQLite with PDO.","type":"content","url":"/wpref/sqliteguide","position":1},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"0. What Is SQLite? (Beginner-Friendly Introduction)"},"type":"lvl2","url":"/wpref/sqliteguide#id-0-what-is-sqlite-beginner-friendly-introduction","position":2},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"0. What Is SQLite? (Beginner-Friendly Introduction)"},"content":"SQLite is a self-contained, serverless SQL database engine that stores everything in one single file.\nThere is no database server to install.\nThere are no usernames, no passwords, no ports, no daemons, no configuration files.\n\nIf PHP can write to a folder, it can use SQLite.\n\nSQLite is embedded in:\n\nPHP\n\nPython\n\nAndroid & iOS\n\nFirefox\n\nWindows & macOS\n\nThousands of apps and devices\n\nThis makes SQLite:\n\nFaster to set up than MySQL\n\nSimpler to teach than PostgreSQL\n\nPerfect for classroom exercises\n\nRock-solid for local or embedded data storage","type":"content","url":"/wpref/sqliteguide#id-0-what-is-sqlite-beginner-friendly-introduction","position":3},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"Best Use Cases for SQLite"},"type":"lvl2","url":"/wpref/sqliteguide#best-use-cases-for-sqlite","position":4},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"Best Use Cases for SQLite"},"content":"SQLite is your ‚Äúpocket database‚Äù‚Äîsmall, steady, and always ready.","type":"content","url":"/wpref/sqliteguide#best-use-cases-for-sqlite","position":5},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"‚úî Ideal For:","lvl2":"Best Use Cases for SQLite"},"type":"lvl3","url":"/wpref/sqliteguide#id-ideal-for","position":6},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"‚úî Ideal For:","lvl2":"Best Use Cases for SQLite"},"content":"Teaching SQL and PDO\n\nSmall to medium websites with modest traffic\n\nDesktop apps\n\nMobile apps (Android/iOS)\n\nPrototyping and rapid development\n\nApps that need offline local storage\n\nResearch tools and student projects","type":"content","url":"/wpref/sqliteguide#id-ideal-for","position":7},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"‚ùå Not Ideal For:","lvl2":"Best Use Cases for SQLite"},"type":"lvl3","url":"/wpref/sqliteguide#id-not-ideal-for","position":8},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"‚ùå Not Ideal For:","lvl2":"Best Use Cases for SQLite"},"content":"High-traffic websites with heavy write operations\n\nLarge multi-user applications\n\nMassive datasets (hundreds of GB)\n\nSystems requiring advanced permissions or replication\n\nUse SQLite for simplicity + reliability.\nUse a server DB for scalability + concurrency.","type":"content","url":"/wpref/sqliteguide#id-not-ideal-for","position":9},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"0.5. How to Create a SQLite Database"},"type":"lvl2","url":"/wpref/sqliteguide#id-0-5-how-to-create-a-sqlite-database","position":10},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"0.5. How to Create a SQLite Database"},"content":"SQLite database files are created automatically‚Äîas soon as PHP connects to a file that doesn‚Äôt exist, SQLite creates it.\n\nYou can create databases in three main ways:","type":"content","url":"/wpref/sqliteguide#id-0-5-how-to-create-a-sqlite-database","position":11},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"**Method 1 ‚Äî Auto-Create Via PHP PDO **","lvl2":"0.5. How to Create a SQLite Database"},"type":"lvl3","url":"/wpref/sqliteguide#id-method-1-auto-create-via-php-pdo","position":12},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"**Method 1 ‚Äî Auto-Create Via PHP PDO **","lvl2":"0.5. How to Create a SQLite Database"},"content":"Just connect to a file. If it doesn‚Äôt exist, SQLite generates it instantly:$dbFile = __DIR__ . \"/database.sqlite\";\n\n$db = new PDO(\"sqlite:\" . $dbFile);\n$db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n‚úî Zero setup\n‚úî Creates the DB automatically\n‚úî Works on every OS\n‚úî Perfect for teaching","type":"content","url":"/wpref/sqliteguide#id-method-1-auto-create-via-php-pdo","position":13},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"Method 2 ‚Äî Create with sqlite3 Command Line","lvl2":"0.5. How to Create a SQLite Database"},"type":"lvl3","url":"/wpref/sqliteguide#method-2-create-with-sqlite3-command-line","position":14},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"Method 2 ‚Äî Create with sqlite3 Command Line","lvl2":"0.5. How to Create a SQLite Database"},"content":"sqlite3 mydb.sqlite\n\nIn the SQLite shell:CREATE TABLE test (id INTEGER);\n.quit\n\nUseful for:\n\nInspecting the DB\n\nRunning test queries\n\nManually creating schemas","type":"content","url":"/wpref/sqliteguide#method-2-create-with-sqlite3-command-line","position":15},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"Method 3 ‚Äî Create with a Graphical Tool (Beginner-Friendly)","lvl2":"0.5. How to Create a SQLite Database"},"type":"lvl3","url":"/wpref/sqliteguide#method-3-create-with-a-graphical-tool-beginner-friendly","position":16},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"Method 3 ‚Äî Create with a Graphical Tool (Beginner-Friendly)","lvl2":"0.5. How to Create a SQLite Database"},"content":"Recommended GUIs:\n\nDB Browser for SQLite\n\nSQLiteStudio\n\nTablePlus\n\nSteps:\n\nCreate a new database file\n\nAdd tables\n\nImport/export data visually\n\nGreat for visual learners.","type":"content","url":"/wpref/sqliteguide#method-3-create-with-a-graphical-tool-beginner-friendly","position":17},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"Best Location for Your Database File"},"type":"lvl2","url":"/wpref/sqliteguide#best-location-for-your-database-file","position":18},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"Best Location for Your Database File"},"content":"project/\n    db/\n        database.sqlite\n    public/\n        index.php\n\nStore the DB outside the public folder for security.","type":"content","url":"/wpref/sqliteguide#best-location-for-your-database-file","position":19},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"1. Connect to SQLite"},"type":"lvl2","url":"/wpref/sqliteguide#id-1-connect-to-sqlite","position":20},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"1. Connect to SQLite"},"content":"$db = new PDO(\"sqlite:\" . __DIR__ . \"/database.sqlite\");\n$db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);","type":"content","url":"/wpref/sqliteguide#id-1-connect-to-sqlite","position":21},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"2. Create a Table"},"type":"lvl2","url":"/wpref/sqliteguide#id-2-create-a-table","position":22},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"2. Create a Table"},"content":"$db->exec(\"\n    CREATE TABLE IF NOT EXISTS students (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        name TEXT NOT NULL,\n        major TEXT NOT NULL,\n        created_at TEXT NOT NULL\n    )\n\");","type":"content","url":"/wpref/sqliteguide#id-2-create-a-table","position":23},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"3. Insert Data (CREATE)"},"type":"lvl2","url":"/wpref/sqliteguide#id-3-insert-data-create","position":24},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"3. Insert Data (CREATE)"},"content":"$stmt = $db->prepare(\"\n    INSERT INTO students (name, major, created_at)\n    VALUES (:name, :major, :created)\n\");\n$stmt->execute([\n    ':name'    => $name,\n    ':major'   => $major,\n    ':created' => date('Y-m-d H:i:s')\n]);","type":"content","url":"/wpref/sqliteguide#id-3-insert-data-create","position":25},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"4. Read Data (SELECT)"},"type":"lvl2","url":"/wpref/sqliteguide#id-4-read-data-select","position":26},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"4. Read Data (SELECT)"},"content":"$rows = $db->query(\"\n    SELECT * FROM students ORDER BY id DESC\n\")->fetchAll(PDO::FETCH_ASSOC);","type":"content","url":"/wpref/sqliteguide#id-4-read-data-select","position":27},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"5. Search / Filtering"},"type":"lvl2","url":"/wpref/sqliteguide#id-5-search-filtering","position":28},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"5. Search / Filtering"},"content":"$stmt = $db->prepare(\"\n    SELECT * FROM students\n    WHERE name LIKE :q OR major LIKE :q\n\");\n$stmt->execute([':q' => '%' . $search . '%']);\n$rows = $stmt->fetchAll(PDO::FETCH_ASSOC);","type":"content","url":"/wpref/sqliteguide#id-5-search-filtering","position":29},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"6. Update Data"},"type":"lvl2","url":"/wpref/sqliteguide#id-6-update-data","position":30},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"6. Update Data"},"content":"$stmt = $db->prepare(\"\n    UPDATE students\n    SET name = :name, major = :major\n    WHERE id = :id\n\");\n$stmt->execute([\n    ':name' => $newName,\n    ':major' => $newMajor,\n    ':id' => $id\n]);","type":"content","url":"/wpref/sqliteguide#id-6-update-data","position":31},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"7. Delete Data"},"type":"lvl2","url":"/wpref/sqliteguide#id-7-delete-data","position":32},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"7. Delete Data"},"content":"$stmt = $db->prepare(\"DELETE FROM students WHERE id = :id\");\n$stmt->execute([':id' => $id]);","type":"content","url":"/wpref/sqliteguide#id-7-delete-data","position":33},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"8. Common SQLite Functions"},"type":"lvl2","url":"/wpref/sqliteguide#id-8-common-sqlite-functions","position":34},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"8. Common SQLite Functions"},"content":"Purpose\n\nFunction\n\nCurrent timestamp\n\ndatetime('now')\n\nCount rows\n\nCOUNT(*)\n\nMax value\n\nMAX(column)\n\nSort\n\nORDER BY column DESC\n\nLimit\n\nLIMIT 10","type":"content","url":"/wpref/sqliteguide#id-8-common-sqlite-functions","position":35},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"9. SQLite File Location Tips"},"type":"lvl2","url":"/wpref/sqliteguide#id-9-sqlite-file-location-tips","position":36},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"9. SQLite File Location Tips"},"content":"$db = new PDO(\"sqlite:\" . __DIR__ . \"/db/mydb.sqlite\");","type":"content","url":"/wpref/sqliteguide#id-9-sqlite-file-location-tips","position":37},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"10. Error Checking"},"type":"lvl2","url":"/wpref/sqliteguide#id-10-error-checking","position":38},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"10. Error Checking"},"content":"try {\n    // your PDO code\n} catch (PDOException $e) {\n    echo \"Error: \" . htmlspecialchars($e->getMessage());\n}\n\n#3 11. Security Must-Knows\n\nAlways use prepared statements\n\nNever embed variables directly in SQL strings\n\nValidate all user inputs\n\nEscape HTML output with htmlspecialchars()\n\nKeep SQLite files outside public web directories","type":"content","url":"/wpref/sqliteguide#id-10-error-checking","position":39},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"12. Useful PDO Fetch Modes"},"type":"lvl2","url":"/wpref/sqliteguide#id-12-useful-pdo-fetch-modes","position":40},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"12. Useful PDO Fetch Modes"},"content":"PDO::FETCH_ASSOC\nPDO::FETCH_NUM\nPDO::FETCH_OBJ\nPDO::FETCH_COLUMN","type":"content","url":"/wpref/sqliteguide#id-12-useful-pdo-fetch-modes","position":41},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"13. Check if a Table Exists"},"type":"lvl2","url":"/wpref/sqliteguide#id-13-check-if-a-table-exists","position":42},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"13. Check if a Table Exists"},"content":"$result = $db->query(\"\n    SELECT name FROM sqlite_master\n    WHERE type='table' AND name='students'\n\");","type":"content","url":"/wpref/sqliteguide#id-13-check-if-a-table-exists","position":43},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"14. Drop a Table"},"type":"lvl2","url":"/wpref/sqliteguide#id-14-drop-a-table","position":44},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"14. Drop a Table"},"content":"$db->exec(\"DROP TABLE IF EXISTS students\");\n\n#3 15. List All Tables$tables = $db->query(\"\n    SELECT name FROM sqlite_master WHERE type='table'\n\")->fetchAll(PDO::FETCH_COLUMN);","type":"content","url":"/wpref/sqliteguide#id-14-drop-a-table","position":45},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"16. CRUD Workflow (Commit This to Memory)"},"type":"lvl2","url":"/wpref/sqliteguide#id-16-crud-workflow-commit-this-to-memory","position":46},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"16. CRUD Workflow (Commit This to Memory)"},"content":"1. Connect\n2. Prepare\n3. Bind\n4. Execute\n5. Fetch (optional)","type":"content","url":"/wpref/sqliteguide#id-16-crud-workflow-commit-this-to-memory","position":47},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"17. Working with BLOBs (Images, PDFs, Binary Data)"},"type":"lvl2","url":"/wpref/sqliteguide#id-17-working-with-blobs-images-pdfs-binary-data","position":48},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"17. Working with BLOBs (Images, PDFs, Binary Data)"},"content":"SQLite supports BLOBs for storing binary data or Base64 strings.","type":"content","url":"/wpref/sqliteguide#id-17-working-with-blobs-images-pdfs-binary-data","position":49},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"Store a Raw BLOB","lvl2":"17. Working with BLOBs (Images, PDFs, Binary Data)"},"type":"lvl3","url":"/wpref/sqliteguide#store-a-raw-blob","position":50},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"Store a Raw BLOB","lvl2":"17. Working with BLOBs (Images, PDFs, Binary Data)"},"content":"$data = file_get_contents(\"photo.jpg\");\n\n$stmt = $db->prepare(\"\n    INSERT INTO photos (title, image)\n    VALUES (:t, :img)\n\");\n$stmt->bindValue(':t', \"Sunset\");\n$stmt->bindValue(':img', $data, PDO::PARAM_Lob);\n$stmt->execute();","type":"content","url":"/wpref/sqliteguide#store-a-raw-blob","position":51},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"Retrieve a BLOB","lvl2":"17. Working with BLOBs (Images, PDFs, Binary Data)"},"type":"lvl3","url":"/wpref/sqliteguide#retrieve-a-blob","position":52},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"Retrieve a BLOB","lvl2":"17. Working with BLOBs (Images, PDFs, Binary Data)"},"content":"$stmt = $db->prepare(\"SELECT image FROM photos WHERE id = :id\");\n$stmt->execute([':id' => $id]);\n$row = $stmt->fetch(PDO::FETCH_ASSOC);\n\nheader(\"Content-Type: image/jpeg\");\necho $row['image'];","type":"content","url":"/wpref/sqliteguide#retrieve-a-blob","position":53},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"Base64 Method (Great for Beginners)","lvl2":"17. Working with BLOBs (Images, PDFs, Binary Data)"},"type":"lvl3","url":"/wpref/sqliteguide#base64-method-great-for-beginners","position":54},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl3":"Base64 Method (Great for Beginners)","lvl2":"17. Working with BLOBs (Images, PDFs, Binary Data)"},"content":"$b64 = base64_encode(file_get_contents(\"photo.jpg\"));\n\nDisplay:<img src=\"data:image/jpeg;base64,<?= $b64 ?>\">","type":"content","url":"/wpref/sqliteguide#base64-method-great-for-beginners","position":55},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"BLOB Use Cases"},"type":"lvl2","url":"/wpref/sqliteguide#blob-use-cases","position":56},{"hierarchy":{"lvl1":"PHP + SQLite Shortcut Guide","lvl2":"BLOB Use Cases"},"content":"‚úî Teaching\n‚úî Thumbnails\n‚úî Small apps\n‚úî Offline tools\n\n‚ùå Large images\n‚ùå Video files\n‚ùå High-traffic apps\n\nProduction rule:\nStore files on disk, store filenames in the DB.","type":"content","url":"/wpref/sqliteguide#blob-use-cases","position":57},{"hierarchy":{"lvl1":"Saving Pictures In Database"},"type":"lvl1","url":"/wpref/savingpicturesindatabase","position":0},{"hierarchy":{"lvl1":"Saving Pictures In Database"},"content":"","type":"content","url":"/wpref/savingpicturesindatabase","position":1},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"Picture File Sizes"},"type":"lvl2","url":"/wpref/savingpicturesindatabase#picture-file-sizes","position":2},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"Picture File Sizes"},"content":"Upload sizes are controlled  in the php.ini file\n\nPHP allows shortcuts for byte values, including K (kilo), M (mega), and G (giga). PHP will do the conversions automatically if you use any of these. Be careful not to exceed the 32-bit signed integer limit (if you‚Äôre using 32-bit versions)  as it will cause your script to fail.\n\nNOTE: The php.ini and the my.ini can be accessed through the XAMPP control panel.","type":"content","url":"/wpref/savingpicturesindatabase#picture-file-sizes","position":3},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl3":"Portions of the php.ini file","lvl2":"Picture File Sizes"},"type":"lvl3","url":"/wpref/savingpicturesindatabase#portions-of-the-php-ini-file","position":4},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl3":"Portions of the php.ini file","lvl2":"Picture File Sizes"},"content":"; Maximum size of POST data that PHP will accept.\n; Its value may be 0 to disable the limit. It is ignored if POST data reading\n; is disabled through enable_post_data_reading.\n; https://php.net/post-max-size\npost_max_size=40M\n\n;;;;;;;;;;;;;;;;\n; File Uploads ;\n;;;;;;;;;;;;;;;;\n\n; Whether to allow HTTP file uploads.\n; https://php.net/file-uploads\nfile_uploads=On\n\n; Temporary directory for HTTP uploaded files (will use system default if not\n; specified).\n; https://php.net/upload-tmp-dir\nupload_tmp_dir=\"C:\\xampp\\tmp\"\n\n; Maximum allowed size for uploaded files.\n; https://php.net/upload-max-filesize\nupload_max_filesize=40M\n\n; Maximum number of files that can be uploaded via a single request\nmax_file_uploads=20\n\nAnd/Or","type":"content","url":"/wpref/savingpicturesindatabase#portions-of-the-php-ini-file","position":5},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl3":"my.ini file for mysql","lvl2":"Picture File Sizes"},"type":"lvl3","url":"/wpref/savingpicturesindatabase#my-ini-file-for-mysql","position":6},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl3":"my.ini file for mysql","lvl2":"Picture File Sizes"},"content":"The error message ‚ÄúSQLSTATE[HY000]: General error: 2006 MySQL server has gone away‚Äù usually occurs when the MySQL server is not responding to the client‚Äôs requests. This error can be caused by a variety of reasons, such as a low value of the max_allowed_packet variable, a low value of the wait_timeout variable, or insufficient memory on the server\n\nTo fix this error, you can try the following steps:\n\nIncrease the value of the max_allowed_packet variable in the my.cnf configuration file. \n\nYou can set it to 16M or higher \n\n1.\n\nIncrease the value of the wait_timeout variable in the my.cnf configuration file. \n\nYou can set it to 28800 or higher \n\n3.\n\nCheck the memory usage of the server. \n\nIf the server is running out of memory, you can add a swap file to increase the available memory \n\n1.\n\nIf none of these steps work, you can try to reconnect to the MySQL server and execute the query again \n\n1. If the problem persists, you may need to contact your system administrator or MySQL support for further assistance.# The MySQL server\ndefault-character-set=utf8mb4\n[mysqld]\nport=3306\nsocket=\"C:/xampp/mysql/mysql.sock\"\nbasedir=\"C:/xampp/mysql\"\ntmpdir=\"C:/xampp/tmp\"\ndatadir=\"C:/xampp/mysql/data\"\npid_file=\"mysql.pid\"\n# enable-named-pipe\nkey_buffer=16M\n# **********Change to 16 or Greater ****************\nmax_allowed_packet=16M\n# **************************************************\nsort_buffer_size=512K\nnet_buffer_length=8K\nread_buffer_size=256K\nread_rnd_buffer_size=512K\nmyisam_sort_buffer_size=8M\nlog_error=\"mysql_error.log\"","type":"content","url":"/wpref/savingpicturesindatabase#my-ini-file-for-mysql","position":7},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"SQL Doggy Database"},"type":"lvl2","url":"/wpref/savingpicturesindatabase#sql-doggy-database","position":8},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"SQL Doggy Database"},"content":"-- phpMyAdmin SQL Dump\n-- version 5.2.1\n-- https://www.phpmyadmin.net/\n--\n-- Host: 127.0.0.1\n-- Generation Time: Nov 09, 2023 at 03:39 AM\n-- Server version: 10.4.28-MariaDB\n-- PHP Version: 8.2.4\n\nSET SQL_MODE = \"NO_AUTO_VALUE_ON_ZERO\";\nSTART TRANSACTION;\n\n\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\n/*!40101 SET NAMES utf8mb4 */;\n\n--\n-- Database: `wp_doggyembed`\n--\nDROP DATABASE IF EXISTS `wp_doggyembed`;\nCREATE DATABASE IF NOT EXISTS `wp_doggyembed` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;\nUSE `wp_doggyembed`;\n\n-- --------------------------------------------------------\n\n--\n-- Table structure for table `table1`\n--\n\nCREATE TABLE IF NOT EXISTS `table1` (\n  `dogname` varchar(255) NOT NULL,\n  `dogbreed` varchar(255) NOT NULL,\n  `dogimage` longblob NOT NULL,\n  `imagetype` varchar(255) NOT NULL,\n  `imagesize` int(45) NOT NULL,\n  `table1_pk` int(9) NOT NULL AUTO_INCREMENT,\n  PRIMARY KEY (`table1_pk`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;\n\n--\n-- Truncate table before insert `table1`\n--\n\nTRUNCATE TABLE `table1`;COMMIT;\n\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\n","type":"content","url":"/wpref/savingpicturesindatabase#sql-doggy-database","position":9},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"dbconnect.php"},"type":"lvl2","url":"/wpref/savingpicturesindatabase#dbconnect-php","position":10},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"dbconnect.php"},"content":"<?php\n\ntry{\n\n    //table1 \n    \n    $host = \"127.0.0.1:3308\";\n    $user = \"root\";\n    $pw = \"\";\n\n    // created a pdo object  \n    // in production change the user with appropriate privs\n    $pdo = new PDO('mysql:host=127.0.0.1:3308;dbname=wp_doggyembed',$user,$pw);\n\n    // lets setup some attributes for the object\n    $pdo->setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_EXCEPTION);\n\n    // only for educational purposes\n    $dbstatus = \"Good database connection\";\n\n    echo($dbstatus.'<br><hr><br>');\n\n}\ncatch(PDOException $ep)\n{\n    $dbstatus = \"Database connection failed<br>\".\n                    $ep->getMessage();\n\n    // for development purposes\n    echo($dbstatus.'<br><hr><br>');\n\n    die();\n    // can also use exit\n    // we don't page to load any further\\\n}\ncatch(Exception $e)\n{\n    $dbstatus = \"Database connection failed<br>\".\n                    $e->getMessage();\n    \n    echo($dbstatus.'<br><hr><br>');\n\n    die();\n}\n\nsession_start();\n\n?>","type":"content","url":"/wpref/savingpicturesindatabase#dbconnect-php","position":11},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"index.php"},"type":"lvl2","url":"/wpref/savingpicturesindatabase#index-php","position":12},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"index.php"},"content":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Home</title>\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <div class = \"content\">\n        <h1>Picture Embedding</h1>\n\n        <p> <a href=\"doggyinput.php\">Dog Picture Input</a> &nbsp;&nbsp;\n            <a href=\"getpix.php\">Display Doggy Pictgures</a> &nbsp; &nbsp;\n            <a href=\"default.php\">home</a>\n        </p>\n\n    </div>\n</body>\n</html>","type":"content","url":"/wpref/savingpicturesindatabase#index-php","position":13},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"doggyinput.php"},"type":"lvl2","url":"/wpref/savingpicturesindatabase#doggyinput-php","position":14},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"doggyinput.php"},"content":"The enctype=\"multipart/form-data\" attribute in an HTML <form> specifies how form data should be encoded when it‚Äôs submitted to the server. Here‚Äôs a breakdown:","type":"content","url":"/wpref/savingpicturesindatabase#doggyinput-php","position":15},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl3":"Context","lvl2":"doggyinput.php"},"type":"lvl3","url":"/wpref/savingpicturesindatabase#context","position":16},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl3":"Context","lvl2":"doggyinput.php"},"content":"Used in: <form> element\n\nPurpose: Defines how form data is sent to the server.","type":"content","url":"/wpref/savingpicturesindatabase#context","position":17},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl3":"Why use multipart/form-data?","lvl2":"doggyinput.php"},"type":"lvl3","url":"/wpref/savingpicturesindatabase#why-use-multipart-form-data","position":18},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl3":"Why use multipart/form-data?","lvl2":"doggyinput.php"},"content":"It is necessary when a form includes file uploads, like images, documents, etc. It allows the form to send data in a way that supports sending both text and binary data.","type":"content","url":"/wpref/savingpicturesindatabase#why-use-multipart-form-data","position":19},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl3":"How it works","lvl2":"doggyinput.php"},"type":"lvl3","url":"/wpref/savingpicturesindatabase#how-it-works","position":20},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl3":"How it works","lvl2":"doggyinput.php"},"content":"When enctype=\"multipart/form-data\" is set:\n\nEach form field‚Äôs data is sent as a separate part of the request body.\n\nFile data is encoded in binary, while other fields (e.g., text inputs) are encoded as plain text.\n\nEach part is separated by a boundary string that the browser generates, making it easy for the server to parse the data correctly.\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Input</title>\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <header>\n        <h1>Doggy Picture Upload</h1>\n    </header>\n    <main>\n\n<?php\n\nrequire('dbconnect.php');\n\n// for testing and demonstonly\n// print_r($_POST);\n// echo('<br>');\n// print_r($_FILES);\n// echo('<br><hr><br>');\n\nif(isset($_POST['dogname']) && !empty($_POST['dogname']))\n{\n\n\n    // get file specifications\n    $thedogfile = $_FILES['dogimage']['tmp_name'];\n    $imagetype = mime_content_type($thedogfile);\n    $imagesize = filesize($thedogfile);\n\n    // Retrieve the file and encode it as base64\n    // Base64 is a common form of handling data and it is used to ensure\n    // that the handling of bits accros the network are correct.\n\n    $dogimage = base64_encode(file_get_contents($_FILES['dogimage']['tmp_name']));\n\n    // sql statement\n    $sql = \"INSERT INTO table1(dogname,dogbreed,dogimage,imagetype,imagesize) \".\n            \"VALUES(:dogname,:dogbreed,:dogimage,:imagetype,:imagesize)\";\n    \n    // prepare sql statement\n    $sqlobj = $pdo->prepare($sql);\n\n    // sanitize input\n    $dogname = filter_var($_POST['dogname'],FILTER_SANITIZE_STRING);\n    $dogbreed = filter_var($_POST['dogbreed'],FILTER_SANITIZE_STRING);\n\n    // bind\n    $sqlobj->bindparam(':dogname',$dogname);\n    $sqlobj->bindparam(':dogbreed',$dogbreed);\n    $sqlobj->bindparam(':dogimage',$dogimage,PDO::PARAM_LOB);\n    $sqlobj->bindparam(':imagetype',$imagetype);\n    $sqlobj->bindparam(':imagesize',$imagesize);\n\n\n    try{\n        // execute the upload\n        $uploadcheck = $sqlobj->execute();\n    }\n    catch(PDOException $e)\n    {\n        $uploadcheck = false;\n        echo(\"<br>Upload Failed: \".$e->getMessage());\n    }\n\n    if($uploadcheck)\n    {\n        echo('\n            <br><br>File Uploaded Successfully<br><br>\n        ');\n    }\n\n\n}\nelse\n{\n    \n    // *** NOTE enctype=\"multipart/form-data\" ***\n    // The enctype=\"multipart/form-data\" attribute in an HTML <form> \n    // is used when submitting forms that include file uploads. \n    // It ensures that the form data is sent in separate parts, \n    // allowing both text and binary data (like files) to be transmitted. \n    // This encoding is necessary for handling file uploads, \n    // as it allows the server to process each part correctly, \n    // separating text fields from file data.\n    // *******************************************************************\n\n    \necho('\n    <form action=\"doggyinput.php\" method=\"POST\" enctype=\"multipart/form-data\">\n        <table border=\"1\">\n            <tr>\n                <th colspan=2>Doggy Input</th>\n            </tr>\n            <tr>\n                <td>Dog Name</td>\n                <td><input type=\"text\" size=\"25\" name=\"dogname\" \n                    value=\"barky\" required> </td>\n            </tr>\n            <tr>\n                <td>Dog Name</td>\n                <td><input type=\"text\" size=\"25\" name=\"dogbreed\" \n                    value=\"mutt\"> </td>\n            </tr>\n            <tr>\n                <td>Dog Name</td>\n                <td><input type=\"file\" \n                    name=\"dogimage\" \n                    accept=\".jpg,.jpeg,.png\" \n                    required> </td>\n            </tr>\n            <tr>\n                <td></td>\n                <td><input type=\"submit\" value=\"Enter\"></td>\n            </tr>\n        </table>\n        </form>\n    ');\n}  //end of else\n?>\n    <p><a href=\"doggyinput.php\">Dog Picture Input</a> &nbsp;&nbsp;\n    <a href=\"getpix.php\">Display Doggy Pictures</a> &nbsp;&nbsp;\n    <a href=\"index.php\">Home</a>\n</p></main>\n<footer>&copy;Doggy Embed Demo</footer>\n</body>\n</html>');\n\n\n<?php\n/*\nUpload sizes are controlled in the php.ini file\n\nItems to check\n; Maximum size of POST data that PHP will accept.\n; Its value may be 0 to disable the limit. It is ignored if POST data reading\n; is disabled through enable_post_data_reading.\n; https://php.net/post-max-size\npost_max_size=40M\n\nNote:\nPHP allows shortcuts for byte values, including K (kilo), M (mega) and G (giga). \nPHP will do the conversions automatically if you use any of these. Be careful \nnot to exceed the 32 bit signed integer limit (if you're using 32bit versions) \nas it will cause your script to fail. \n\n\n;;;;;;;;;;;;;;;;\n; File Uploads ;\n;;;;;;;;;;;;;;;;\n\n; Whether to allow HTTP file uploads.\n; https://php.net/file-uploads\nfile_uploads=On\n\n; Temporary directory for HTTP uploaded files (will use system default if not\n; specified).\n; https://php.net/upload-tmp-dir\nupload_tmp_dir=\"C:\\xampp\\tmp\"\n\n; Maximum allowed size for uploaded files.\n; https://php.net/upload-max-filesize\nupload_max_filesize=40M\n\n; Maximum number of files that can be uploaded via a single request\nmax_file_uploads=20\n\n\nmy.ini file\n# The MySQL server\ndefault-character-set=utf8mb4\n[mysqld]\nport=3306\nsocket=\"C:/xampp/mysql/mysql.sock\"\nbasedir=\"C:/xampp/mysql\"\ntmpdir=\"C:/xampp/tmp\"\ndatadir=\"C:/xampp/mysql/data\"\npid_file=\"mysql.pid\"\n# enable-named-pipe\nkey_buffer=16M\n# **********Change to 16 or Greater ****************\nmax_allowed_packet=16M\n# **************************************************\nsort_buffer_size=512K\nnet_buffer_length=8K\nread_buffer_size=256K\nread_rnd_buffer_size=512K\nmyisam_sort_buffer_size=8M\nlog_error=\"mysql_error.log\"\n\n*/\n\n?>","type":"content","url":"/wpref/savingpicturesindatabase#how-it-works","position":21},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"getpix.php"},"type":"lvl2","url":"/wpref/savingpicturesindatabase#getpix-php","position":22},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"getpix.php"},"content":"<?php\n    // database connection\n    require('dbconnect.php');\n\n    // SQL statement\n    $sql = \"SELECT * FROM table1\";\n\n    // Excecute query and store recordset\n    $rs = $pdo->query($sql);\n\n?>\n\n<!DOCTYPE html>\n<html>\n<head> \n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \n<title>GetPix</title>   \n<link rel=\"stylesheet\" href=\"style.css\">\n</head>\n\n<body>\n    <header>\n        <h1>Doggy Pictures</h1>\n        <p><a href=\"doggyinput.php\">Dog Picture Input</a> &nbsp;&nbsp;\n        <a href=\"getpix.php\">Display Doggy Pictures</a> &nbsp;&nbsp;\n        <a href=\"index.php\">Home</a></p>\n    </header>\n\n    <main>\n        <p>Here are the doggies</p>\n\n        <?php\n        while($row=$rs->fetch())\n        {\n            echo('<div class=\"dogpix\">');\n            \n            // retreive the image\n            // build data url - example 'data:image/jeg;base64,mypix.jpg'\n\n            echo('<img src=\"data:'.$row['imagetype'].\n                    ';base64,'.$row['dogimage'].'\" width=\"300\"><br>');\n            echo($row['dogname'].'<br>'.$row['dogbreed']);\n\n            echo('</div><br>');\n            \n        }\n        ?>\n        <p><a href=\"doggyinput.php\">Dog Picture Input</a> &nbsp;&nbsp;\n        <a href=\"getpix.php\">Display Doggy Pictures</a> &nbsp;&nbsp;\n        <a href=\"index.php\">Home</a></p>\n    </main>\n\n    <footer>\n        <p>&copy; 2023 Get Doggy Pix </p>\n    </footer>\n</body>\n</html>","type":"content","url":"/wpref/savingpicturesindatabase#getpix-php","position":23},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"style.css"},"type":"lvl2","url":"/wpref/savingpicturesindatabase#style-css","position":24},{"hierarchy":{"lvl1":"Saving Pictures In Database","lvl2":"style.css"},"content":"header, main, footer {\n    width: 60%;\n    margin-left: auto;\n    margin-right:auto;  \n}\n\n.dogpix {\n    width: 300px;\n    border: 3px solid darkblue;\n    background-color: darkgrey;\n    margin-left: auto;\n    margin-right:auto;\n    text-align: center;\n    font-weight: bold;\n}","type":"content","url":"/wpref/savingpicturesindatabase#style-css","position":25},{"hierarchy":{"lvl1":"Search Filter - SQLITE"},"type":"lvl1","url":"/wpref/searchfiltersqlite","position":0},{"hierarchy":{"lvl1":"Search Filter - SQLITE"},"content":"<?php\ndeclare(strict_types=1);\n\n$dbPath = __DIR__ . \"/database.sqlite\";\n$pdo = new PDO(\"sqlite:\" . $dbPath);\n$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n// Create table if it doesn't exist\n$pdo->exec(\"\n    CREATE TABLE IF NOT EXISTS students (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        name TEXT NOT NULL,\n        major TEXT NOT NULL,\n        created_at TEXT NOT NULL\n    )\n\");\n\n\n// HANDLE FORM ACTIONS\n// -----------------------------\n\n// ADD new student\nif (isset($_POST['add'])) {\n    $name  = trim($_POST['name'] ?? '');\n    $major = trim($_POST['major'] ?? '');\n\n    if ($name !== '' && $major !== '') {\n        $stmt = $pdo->prepare(\"\n            INSERT INTO students (name, major, created_at)\n            VALUES (:n, :m, :c)\n        \");\n        $stmt->execute([\n            ':n' => $name,\n            ':m' => $major,\n            ':c' => date('Y-m-d H:i:s'),\n        ]);\n    }\n}\n\n// UPDATE existing student\nif (isset($_POST['update'])) {\n    $id    = (int)($_POST['id'] ?? 0);\n    $name  = trim($_POST['edit_name'] ?? '');\n    $major = trim($_POST['edit_major'] ?? '');\n\n    if ($id > 0 && $name !== '' && $major !== '') {\n        $stmt = $pdo->prepare(\"\n            UPDATE students\n            SET name = :n, major = :m\n            WHERE id = :id\n        \");\n        $stmt->execute([\n            ':n'  => $name,\n            ':m'  => $major,\n            ':id' => $id,\n        ]);\n    }\n}\n\n// DELETE student\nif (isset($_POST['delete'])) {\n    $id = (int)($_POST['id'] ?? 0);\n    if ($id > 0) {\n        $stmt = $pdo->prepare(\"DELETE FROM students WHERE id = :id\");\n        $stmt->execute([':id' => $id]);\n    }\n}\n\n\n// SEARCH FILTER\n// -----------------------------\n\n$searchTerm = trim($_GET['q'] ?? '');\n\n// If there is a search term, filter by name OR major\nif ($searchTerm !== '') {\n    $stmt = $pdo->prepare(\"\n        SELECT * FROM students\n        WHERE name  LIKE :q\n           OR major LIKE :q\n        ORDER BY id DESC\n    \");\n    $stmt->execute([':q' => '%' . $searchTerm . '%']);\n    $rows = $stmt->fetchAll(PDO::FETCH_ASSOC);\n} else {\n    // No search term: show all\n    // $rows = $pdo->query(\"\n    //     SELECT * FROM students\n    //     ORDER BY id DESC\n    // \")->fetchAll(PDO::FETCH_ASSOC);\n\n    $sqlstmt = \"SELECT * FROM students ORDER BY name\";\n    $stmt = $pdo->query($sqlstmt);\n    $rows = $stmt->fetchAll(PDO::FETCH_ASSOC);\n}\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>SQLite + PHP CRUD Demo</title>\n    <style>\n        body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; }\n        form { margin-bottom: 15px; }\n        .student-card { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; }\n        .inline-form { display: inline-block; margin-right: 10px; }\n        input[type=\"text\"] { padding: 4px; margin-right: 4px; }\n        button { padding: 4px 8px; }\n    </style>\n</head>\n<body>\n    <h2>SQLite + PHP CRUD Demo</h2>\n\n    <!-- SEARCH FORM (GET) -->\n    <h3>Search Students</h3>\n    <form method=\"GET\">\n        <input\n            type=\"text\"\n            name=\"q\"\n            placeholder=\"Search by name or major\"\n            value=\"<?= htmlspecialchars($searchTerm) ?>\"\n        >\n        <button type=\"submit\">Search</button>\n        <a href=\"search_filter.php\"><button type=\"button\">Clear</button></a>\n    </form>\n\n    <!-- ADD FORM -->\n    <h3>Add New Student</h3>\n    <form method=\"POST\">\n        <input type=\"text\" name=\"name\" placeholder=\"Student Name\" required>\n        <input type=\"text\" name=\"major\" placeholder=\"Major\" required>\n        <button type=\"submit\" name=\"add\">Add Student</button>\n    </form>\n\n    <!-- STUDENT LIST -->\n    <h3>Students</h3>\n\n    <?php if (empty($rows)): ?>\n        <p><em>No students found.</em></p>\n    <?php else: ?>\n        <?php foreach ($rows as $r): ?>\n            <div class=\"student-card\">\n                <p>\n                    <strong>ID:</strong> <?= $r['id'] ?><br>\n                    <strong>Name:</strong> <?= htmlspecialchars($r['name']) ?><br>\n                    <strong>Major:</strong> <?= htmlspecialchars($r['major']) ?><br>\n                    <small>Created at: <?= htmlspecialchars($r['created_at']) ?></small>\n                </p>\n\n                <!-- UPDATE FORM (inline) -->\n                <form method=\"POST\" class=\"inline-form\">\n                    <input type=\"hidden\" name=\"id\" value=\"<?= $r['id'] ?>\">\n                    <input\n                        type=\"text\"\n                        name=\"edit_name\"\n                        value=\"<?= htmlspecialchars($r['name']) ?>\"\n                        placeholder=\"Name\"\n                        required\n                    >\n                    <input\n                        type=\"text\"\n                        name=\"edit_major\"\n                        value=\"<?= htmlspecialchars($r['major']) ?>\"\n                        placeholder=\"Major\"\n                        required\n                    >\n                    <button type=\"submit\" name=\"update\">Update</button>\n                </form>\n\n                <!-- DELETE FORM -->\n                <form method=\"POST\" class=\"inline-form\">\n                    <input type=\"hidden\" name=\"id\" value=\"<?= $r['id'] ?>\">\n                    <button type=\"submit\" name=\"delete\" onclick=\"return confirm('Delete this student?');\">\n                        Delete\n                    </button>\n                </form>\n            </div>\n        <?php endforeach; ?>\n    <?php endif; ?>\n</body>\n</html>\n","type":"content","url":"/wpref/searchfiltersqlite","position":1},{"hierarchy":{"lvl1":"Session Variable Homework Assignment Hint"},"type":"lvl1","url":"/wpref/sessionhomeworkhint","position":0},{"hierarchy":{"lvl1":"Session Variable Homework Assignment Hint"},"content":"","type":"content","url":"/wpref/sessionhomeworkhint","position":1},{"hierarchy":{"lvl1":"Session Variable Homework Assignment Hint","lvl2":"index.php"},"type":"lvl2","url":"/wpref/sessionhomeworkhint#index-php","position":2},{"hierarchy":{"lvl1":"Session Variable Homework Assignment Hint","lvl2":"index.php"},"content":"<html>\n<head>\n<?php\nsession_start();\n?>\n</head>\n<body>\n<?php\n\tprint_r($_SESSION);\n\techo('<br><hr><br>');\n?>\n\n<form action=\"page2.php\" method=\"POST\">\n<table>\n\t\t\n\t\t<tr>\n\t\t<td>First Name</td>\n\t\t<td><input type=\"text\" name=\"fName\"></td>\n\t\t</tr>\n\t\t\n\t\t<tr>\n\t\t<td>Last Name</td>\n\t\t<td><input type=\"text\" name=\"lName\"></td>\n\t\t<tr>\n\t\t\n\t\t<td></td>\n\t\t<td><input type=\"submit\" name=\"submit\" value=\"Submit\">\n\t\t</td>\n\t\t</tr>\n\t\t\n\t\t</table>\n\t\t</form>\n\t\t\n\t\t<br>\n\t\t<a href=\"page2.php\">Page2</a>\n\n</body>\n</html>","type":"content","url":"/wpref/sessionhomeworkhint#index-php","position":3},{"hierarchy":{"lvl1":"Session Variable Homework Assignment Hint","lvl2":"page2.php"},"type":"lvl2","url":"/wpref/sessionhomeworkhint#page2-php","position":4},{"hierarchy":{"lvl1":"Session Variable Homework Assignment Hint","lvl2":"page2.php"},"content":"<html>\n<head>\n<title>page2</title>\n<?php\n\tsession_start();\n?>\n</head>\n<body>\n\n<?php\n\tprint_r($_SESSION);\n\techo('<br><hr><br>');\n\tprint_r($_POST);\n\techo('<br><hr><br>');\n\t\n\t//1 need to see if there is an array in the session variable\n\t//  if not, then we create one.\n\t\n\tif(isset($_SESSION['arrPlayer']))\n\t{\n\t\t// we have an session variable array \n\t\t// that is keep track of names\n\t\tarray_push($_SESSION['arrPlayer'],$_POST['fName']);\n\t\tarray_push($_SESSION['arrPlayer'],$_POST['lName']);\n\t}\n\telse\n\t{\n\t\t//There is no array in the session variable\n\t\t// so we create one\n\t\t\n\t\t// create an array\n\t\t$arrPlayer = array($_POST['fName'],$_POST['lName']);\n\t\t\n\t\t// add it to the session variable\n\t\t$_SESSION['arrPlayer']=$arrPlayer;\n\t}\n\n\techo('<br><h1>Session contents</h1><br>');\n\t// NOTE in this example we only have 2 items fname, lname\n\t$xcntr = 0;\n\t\n\tfor($c = 0; $c < count($_SESSION['arrPlayer']); $c++)\n\t{\n\t\techo($_SESSION['arrPlayer'][$c].\" \");\n\t\t\n\t\t$xcntr = $xcntr+1;\n\t\t// in this example we have two items\n\t\t// when the xcntr gets to 2\n\t\t// when enter a new line and reset the xcntr\n\t\t// back to 0\n\t\tif($xcntr == 2)\n\t\t{\n\t\t\techo(\"<br>\");\n\t\t\t$xcntr=0;\n\t\t}\n\t}\n\n?>\n<br><hr><br>\n<a href=\"index.php\">Home</a>\n</body>\n</html>","type":"content","url":"/wpref/sessionhomeworkhint#page2-php","position":5},{"hierarchy":{"lvl1":"Session Variables"},"type":"lvl1","url":"/wpref/sessionvariables","position":0},{"hierarchy":{"lvl1":"Session Variables"},"content":"","type":"content","url":"/wpref/sessionvariables","position":1},{"hierarchy":{"lvl1":"Session Variables","lvl2":"Key Ideas"},"type":"lvl2","url":"/wpref/sessionvariables#key-ideas","position":2},{"hierarchy":{"lvl1":"Session Variables","lvl2":"Key Ideas"},"content":"session_start()\n\n$_SESSION\n\nsession_destroy()\n\ndie() / exit()\n\nunset()\n\nSession Variable is a variable that will store values across different pages\n\nDefinition\n\nSession Variable is a variable that will store values across different pages\n\nsession_start() is a function that tells the webpage to use and access session variables.\n\nsession_destroy() is a function that destroys the session variable  and all of its contents\n\nunset() is a function that deletes specific data within a session variable associated with a key\n\ndie() or exit() it can output a message and it terminates the running of the script\n\nNote\n\ndie() is an alias for exit.","type":"content","url":"/wpref/sessionvariables#key-ideas","position":3},{"hierarchy":{"lvl1":"Session Variables","lvl2":"Example Code"},"type":"lvl2","url":"/wpref/sessionvariables#example-code","position":4},{"hierarchy":{"lvl1":"Session Variables","lvl2":"Example Code"},"content":"flowchart TD\n    A[Home\\nindex.php] --> B[Page 2\\npage2.php]\n    A --> C[Page 3\\npage3.php]\n    A --> D[Destroy\\npage4.php]\n    A ---> E[Delete Managers and \\nFirst Name\\npage5.php]","type":"content","url":"/wpref/sessionvariables#example-code","position":5},{"hierarchy":{"lvl1":"Session Variables","lvl3":"Home Page / index.php","lvl2":"Example Code"},"type":"lvl3","url":"/wpref/sessionvariables#home-page-index-php","position":6},{"hierarchy":{"lvl1":"Session Variables","lvl3":"Home Page / index.php","lvl2":"Example Code"},"content":"<!-- index.php -->\n<!DOCTYPE html>\n<html>\n<head>\n<title>Home Page</title>\n\t<?php\n        // To session variable - session start\n        // has to be on every page you want to use a session variable\n        session_start();\n    ?>\n</head>\n<body>\n\n    <?php\n        // assign a values a session variable\n        $_SESSION[\"firstName\"] = \"Bubba\";\n        $_SESSION[\"lastName\"]  = \"Smith\";\n\n        // array review\n        $myArray1 = array(\"Larry\",\"Curly\",\"Moe\");\n        $myArray2 = array(\t\"CEO\" => \"Sally\",\n        \t\t\t\t\t\"CIO\" => \"Jim\",\n        \t\t\t\t\t\"CFO\" => \"Suzy\",\n        \t\t\t\t\t\"CSO\" => \"Billy\");\n\n        // different ways to add an item to an array\n        array_push($myArray1,\"Shemp\");\n        $myArray1[4] = \"Curly Joe\";\n        $myArray1[count($myArray1)] = \"Jimbo\";\n        $_SESSION[\"stooges\"] = $myArray1;\n        $_SESSION[\"managers\"] = $myArray2;\t\n    ?>\n\n<h1>Session Variables</h1>\n\n<h2>Session</h2>\n    <?php\n        echo('$_SESSION<br>');\n        print_r($_SESSION);\n        echo(\"<br><hr><br>\");\n        print_r($myArray1);\n        echo(\"<br><hr><br>\");\n        print_r($myArray2);\n        echo(\"<br><hr><br>\");\n        print_r($myArray1);\n        echo(\"<br><hr><br>\");\n        var_dump($_SESSION);\n        echo(\"<br><hr><br>\");\n    ?>\n\n<h2>People</h2>\n\n    <?php\n        // pull and individual \n        echo($_SESSION[\"stooges\"][1].\"<br>\");\n        echo($_SESSION[\"managers\"][\"CFO\"].\"<br>\");\n\n        echo(\"<br><hr><br>\");\n\n        $outStooges =$_SESSION[\"stooges\"];\n        print_r($outStooges);\n\n        echo(\"<h3>Stooges</h3>\");\n        for($i = 0; $i < count($outStooges); $i++)\n        {\n            echo($outStooges[$i].\"<br>\");\n        }\n        echo(\"<br><hr><br>\");\n        for($i = 0; $i < count($_SESSION['stooges']); $i++)\n        {\n            echo($_SESSION[\"stooges\"][$i].\"<br>\");\n        }\n    ?>\n\n<br>\n<h2>Pages</h2>\n<a href=\"index.php\">Home</a><br>\n<a href=\"page2.php\">Page 2</a><br>\n<a href=\"page3.php\">Page 3</a><br>\n<a href=\"page4.php\">Destroy</a><br>\n<a href=\"page5.php\">Delete managers and first Name</a><br>\n\n<br><br><br><br>\n</body>\n</html>\n\n","type":"content","url":"/wpref/sessionvariables#home-page-index-php","position":7},{"hierarchy":{"lvl1":"Session Variables","lvl3":"Page 2 / page2.php","lvl2":"Example Code"},"type":"lvl3","url":"/wpref/sessionvariables#page-2-page2-php","position":8},{"hierarchy":{"lvl1":"Session Variables","lvl3":"Page 2 / page2.php","lvl2":"Example Code"},"content":"<!-- \"page2.php -->\n<!DOCTYPE html>\n<html>\n<head>\n<title>Page 2</title>\n\n    <?php\n    \t// start session variables\n    \t// needed on every page that accesses the session variable\n\t\tsession_start();\n\t?>\n\n</head>\n<body>\n<h1>Page 2</h1>\n    <?php\n    \t// purpose here is to show that\n    \t// information stored in the session variable can be \n    \t// accessed on different web pages\n        echo($_SESSION[\"stooges\"][1].\"<br>\");\n        echo($_SESSION[\"managers\"][\"CFO\"].\"<br>\");\n\n        echo(\"<br><hr<br>\");\n    \t// print the key and the value\n        echo(\"<h2>Managers</h2>\");\n        foreach($_SESSION[\"managers\"] as $key => $value){\n            echo(\"Title: \".$key.\"&nbsp;&nbsp;&nbsp;\".$value.\"<br>\");\n        }\n\n    ?>\n\n<br>\n<h2>Pages</h2>\n<a href=\"index.php\">Home</a><br>\n<a href=\"page2.php\">Page 2</a><br>\n<a href=\"page3.php\">Page 3</a><br>\n<a href=\"page4.php\">Destroy</a><br>\n<a href=\"page5.php\">Delete managers and first Name</a><br>\n\n<br><hr><br>\n    <?php\n    \t// show the whole session variable\n    \tprint_r($_SESSION);\n    ?>\n<br><br>\n\n</body>\n</html>\n\n","type":"content","url":"/wpref/sessionvariables#page-2-page2-php","position":9},{"hierarchy":{"lvl1":"Session Variables","lvl3":"Page 3 / page3.php","lvl2":"Example Code"},"type":"lvl3","url":"/wpref/sessionvariables#page-3-page3-php","position":10},{"hierarchy":{"lvl1":"Session Variables","lvl3":"Page 3 / page3.php","lvl2":"Example Code"},"content":"<?php\n    // start session variables\n    // needed on every page that accesses the session variable\n    session_start();\n\n\t// delete the entire session variable and all of its data\n    session_destroy();\n\n\t// link to page 2 to show that the data was deleted\n    echo('<br><a href=\"page2.php\">Page 2</a>');\n\n?>","type":"content","url":"/wpref/sessionvariables#page-3-page3-php","position":11},{"hierarchy":{"lvl1":"Session Variables","lvl3":"Page 4 / page4.php","lvl2":"Example Code"},"type":"lvl3","url":"/wpref/sessionvariables#page-4-page4-php","position":12},{"hierarchy":{"lvl1":"Session Variables","lvl3":"Page 4 / page4.php","lvl2":"Example Code"},"content":"<?php\n    // start session variables\n    // needed on every page that accesses the session variable\n    session_start();\n\n\t// delete the entire session variable and all of its data\n    session_destroy();\n\n\t// the header command will automatically take the user\n\t// back to page 2\n\theader(\"Location: page2.php\");\n    \n\t//exit the script\n\t// NOTE: exit() can also be used instead of die()\n    die();\n\n?>","type":"content","url":"/wpref/sessionvariables#page-4-page4-php","position":13},{"hierarchy":{"lvl1":"Session Variables","lvl3":"Delete Managers and First Name / page5.php","lvl2":"Example Code"},"type":"lvl3","url":"/wpref/sessionvariables#delete-managers-and-first-name-page5-php","position":14},{"hierarchy":{"lvl1":"Session Variables","lvl3":"Delete Managers and First Name / page5.php","lvl2":"Example Code"},"content":"<?php\n    // start session variables\n    // needed on every page that accesses the session variable\n    session_start();\n\n\n    // delete specific data by keys in the session variable\n    unset($_SESSION['managers']);\n    unset($_SESSION['firstName']);\n\n\t// the header command will automatically take the user\n\t// back to page 2\n\theader(\"Location: page2.php\");\n\n\t//exit the script\n\t// NOTE: exit() can also be used instead of die()\n    die();\n\n?>\n","type":"content","url":"/wpref/sessionvariables#delete-managers-and-first-name-page5-php","position":15},{"hierarchy":{"lvl1":"String Sanitation - filter_var()"},"type":"lvl1","url":"/wpref/stringsanitation","position":0},{"hierarchy":{"lvl1":"String Sanitation - filter_var()"},"content":"This code demonstrates the different sanitation conditions.\n\nIn order to see the htmlspecialcharacters,  you must look at the source code.  There one will see that the special characters have been encoded.","type":"content","url":"/wpref/stringsanitation","position":1},{"hierarchy":{"lvl1":"String Sanitation - filter_var()","lvl2":"Lecture Code"},"type":"lvl2","url":"/wpref/stringsanitation#lecture-code","position":2},{"hierarchy":{"lvl1":"String Sanitation - filter_var()","lvl2":"Lecture Code"},"content":"<!DOCTYPE html>\n<html>\n<head>\n<title>PHP Sanitization</title>\n\n    <style>\n        main,header,footer{\n            margin-left: auto;\n            margin-right: auto;\n            width: 80%;\n        }\n    </style>\n</head>\n<body>\n\n  <header>\n    <h1>Sanitization Examples</h1>\n  </header>\n\n  <main>\n\n  <!-- --------------------------------------------- -->\n\n  <?php\n\n\n$testString = \"ASDasd1234.99!@#$%^&*()_+-,./\\\";\\'<>?:[]{}\\|`~ \";\n$testString2 = \"<h1><p>This is a test</p></h1>\";\n$testString_Int = \"+- 123,456,789\";\n$testString_Float = \"+- 123,456,789.8899\";\n\necho('<font face=\"Courier New\">');\n\necho('<h2>');\necho(\"Test Strings<br>\");\necho($testString.\"<br>\");\necho($testString_Int.\"<br>\");\necho($testString_Float.\"<br>\");\n$test1 = $testString;\n$space = \"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\";\n\necho('<br><hr><br>');\necho(\" FILTER_SANITIZE_EMAIL<br>\");\n$test1 = filter_var($test1,FILTER_SANITIZE_EMAIL);\necho($testString.'<br>');\necho($test1.$space.\"  \");\necho('<br><hr><br>');\n\n\n$test1 = $testString_Float;\necho('FILTER_SANITIZE_NUMBER_FLOAT<br>');\n$test1 = filter_var($test1,FILTER_SANITIZE_NUMBER_FLOAT);\necho($testString_Float.'<br>');\necho($test1.$space.\" \");\necho('<br><hr><br>');\n\n$test1 = $testString_Float;\necho('FILTER_SANITIZE_NUMBER_FLOAT, FILTER_FLAG_ALLOW_THOUSAND<br>');\n$test1 = filter_var($test1,FILTER_SANITIZE_NUMBER_FLOAT,FILTER_FLAG_ALLOW_THOUSAND);\necho($testString_Float.'<br>');\necho($test1.$space.\" \");\necho('<br><hr><br>');\n\n$test1 = $testString_Float;\necho('FILTER_SANITIZE_NUMBER_FLOAT, FILTER_FLAG_ALLOW_FRACTION<br>');\n$test1 = filter_var($test1,FILTER_SANITIZE_NUMBER_FLOAT,FILTER_FLAG_ALLOW_FRACTION);\necho($testString_Float.'<br>');\necho($test1.$space.\" \");\necho('<br><hr><br>');\n\n$test1 = $testString_Float;\necho('FILTER_SANITIZE_NUMBER_FLOAT, \n        FILTER_FLAG_ALLOW_THOUSAND | FILTER_FLAG_ALLOW_FRACTION<br>');\n$test1 = filter_var($test1,FILTER_SANITIZE_NUMBER_FLOAT,\n                    FILTER_FLAG_ALLOW_THOUSAND | FILTER_FLAG_ALLOW_FRACTION);\necho($testString_Float.'<br>');\necho($test1.$space.\" \");\necho('<br><hr><br>');\n\n$test1 = $testString_Int;\necho('FILTER_SANITIZE_NUMBER_INT<br>');\n$test1 = filter_var($test1,FILTER_SANITIZE_NUMBER_INT);\necho($testString_Int.'<br>');\necho($test1.$space.\"  \");\necho('<br><hr><br>');\n\n\n\n$test1 = $testString;\necho('FILTER_SANITIZE_SPECIAL_CHARS<br>');\n$test1 = filter_var($test1,FILTER_SANITIZE_SPECIAL_CHARS,\n                array('flags'=>  FILTER_FLAG_STRIP_HIGH  ));\necho($testString.'<br>');\necho($test1.$space.\"  \");\necho('<br><hr><br>');\n\n$test1 = $testString;\necho('FILTER_SANITIZE_STRING<br>');\n$test1 = filter_var($test1,FILTER_SANITIZE_STRING);\necho($testString.'<br>');\necho($test1.$space.\"  \");\necho('<br><hr><br>');\n//echo('<br><br><hr><br>');\n\n$test1 = $testString;\necho('<br>');\n$test1 = htmlspecialchars($test1,ENT_COMPAT);\n//$test1 = filter_var($test1,FILTER_SANITIZE_STRING);\necho($test1.$space.\" htmlspecialchars\");\n\n\necho('</h2>');\necho('</font');\n\n?>\n\n <!-- --------------------------------------------- -->\n  </main>\n\n  <footer>\n    <p>&copy; 2023 Jim Goudy</p>\n  </footer>\n\n</body>\n</html>","type":"content","url":"/wpref/stringsanitation#lecture-code","position":3},{"hierarchy":{"lvl1":"String Sanitation - filter_var()","lvl3":"Output","lvl2":"Lecture Code"},"type":"lvl3","url":"/wpref/stringsanitation#output","position":4},{"hierarchy":{"lvl1":"String Sanitation - filter_var()","lvl3":"Output","lvl2":"Lecture Code"},"content":"","type":"content","url":"/wpref/stringsanitation#output","position":5},{"hierarchy":{"lvl1":"String Sanitation - filter_var()","lvl4":"Sanitization Examples","lvl3":"Output","lvl2":"Lecture Code"},"type":"lvl4","url":"/wpref/stringsanitation#sanitization-examples","position":6},{"hierarchy":{"lvl1":"String Sanitation - filter_var()","lvl4":"Sanitization Examples","lvl3":"Output","lvl2":"Lecture Code"},"content":"Test Strings\nASDasd1234.99!@#$%^&*()_+-,./\";'<>?:[]{}|`~\n+- 123,456,789\n+- 123,456,789.8899\n\nFILTER_SANITIZE_EMAIL\nASDasd1234.99!@%^&*()_+-,./\";\\'<>?:[]{}\\|`~\nASDasd1234.99!@%^&*_+-.'?[]{}|`~\n\nFILTER_SANITIZE_NUMBER_FLOAT\n+- 123,456,789.8899\n+-1234567898899\n\nFILTER_SANITIZE_NUMBER_FLOAT, FILTER_FLAG_ALLOW_THOUSAND\n+- 123,456,789.8899\n+-123,456,7898899\n\nFILTER_SANITIZE_NUMBER_FLOAT, FILTER_FLAG_ALLOW_FRACTION\n+- 123,456,789.8899\n+-123456789.8899\n\nFILTER_SANITIZE_NUMBER_FLOAT, FILTER_FLAG_ALLOW_THOUSAND | FILTER_FLAG_ALLOW_FRACTION\n+- 123,456,789.8899\n+-123,456,789.8899\n\nFILTER_SANITIZE_NUMBER_INT\n+- 123,456,789\n+-123456789\n\nFILTER_SANITIZE_SPECIAL_CHARS\nASDasd1234.99!@%^&*()_+-,./\";\\'<>?:[]{}\\|`~\nASDasd1234.99!@%^&*()_+-,./\";'<>?:[]{}|`~\n\nFILTER_SANITIZE_STRING\nASDasd1234.99!@%^&*()_+-,./\";\\'<>?:[]{}\\|`~\nASDasd1234.99!@%^&*()_+-,./\";'?:[]{}|`~\n\nASDasd1234.99!@#$%^&*()_+-,./\";'<>?:[]{}|`~    htmlspecialchars\n\n¬©  Jim Goudy","type":"content","url":"/wpref/stringsanitation#sanitization-examples","position":7},{"hierarchy":{"lvl1":""},"type":"lvl1","url":"/wpref/youtubedemo","position":0},{"hierarchy":{"lvl1":""},"content":"YouTube Demo<?php\n// Simple YouTube video manager using PDO (PHP Data Objects) and SQLite.\n// This script is a single-page app that can:\n// - Add YouTube videos with a title, genre, and description\n// - Store them in an SQLite database file\n// - Show one selected video in an embedded player\n// - List all saved videos and let you delete them\n\n// Enforce strict typing for function parameters and return types.\n// This helps catch some type-related mistakes early.\ndeclare(strict_types=1);\n\n// Build the path to the SQLite database file.\n// __DIR__ is the directory where this PHP file lives.\n$dbPath = __DIR__ . '/videos.sqlite';\n\n// The DSN (Data Source Name) tells PDO which database driver to use and where it is.\n// For SQLite, the format is \"sqlite:/path/to/file\".\n$dsn = 'sqlite:' . $dbPath;\n\ntry {\n    // Create a new PDO connection to the SQLite database.\n    $pdo = new PDO($dsn);\n\n    // Tell PDO to throw exceptions when errors happen.\n    // This makes error handling easier.\n    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n} catch (PDOException $e) {\n    // If anything goes wrong with the connection, stop the script\n    // and show a safe error message.\n    die('Database connection failed: ' . htmlspecialchars($e->getMessage()));\n}\n\n// Create the \"videos\" table if it does not already exist.\n// This is a simple schema for our video manager.\n$pdo->exec(\n    'CREATE TABLE IF NOT EXISTS videos (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,  -- Unique ID for each video\n        title TEXT NOT NULL,                   -- Video title\n        url TEXT NOT NULL,                     -- Original YouTube URL\n        video_id TEXT NOT NULL,                -- Extracted YouTube video ID\n        genre TEXT NOT NULL,                   -- Category/genre\n        description TEXT NOT NULL,             -- Description written by the user\n        created_at TEXT NOT NULL               -- When the entry was created (ISO timestamp)\n    )'\n);\n\n// This will hold feedback messages for the user (success or error).\n$message = '';\n\n/**\n * Extract the 11-character YouTube video ID from a URL.\n *\n * This function supports several common YouTube URL formats:\n *  - https://youtu.be/VIDEO_ID\n *  - https://www.youtube.com/watch?v=VIDEO_ID\n *  - https://www.youtube.com/embed/VIDEO_ID\n *  - https://www.youtube.com/shorts/VIDEO_ID\n *\n * If it can't find a valid ID, it returns null.\n */\nfunction extractYouTubeId(string $url): ?string\n{\n    // Regular expressions to match different YouTube URL patterns.\n    $patterns = [\n        '#youtu\\\\.be/([\\\\w-]{11})#i',\n        '#youtube\\\\.com/watch\\\\?v=([\\\\w-]{11})#i',\n        '#youtube\\\\.com/embed/([\\\\w-]{11})#i',\n        '#youtube\\\\.com/shorts/([\\\\w-]{11})#i',\n    ];\n\n    // Try each pattern until one matches.\n    foreach ($patterns as $pattern) {\n        if (preg_match($pattern, $url, $matches)) {\n            // $matches[1] contains the captured video ID.\n            return $matches[1];\n        }\n    }\n\n    // If we get here, none of the simple patterns matched.\n    // As a fallback, look at the query string (e.g., ?v=VIDEO_ID&t=123).\n    $parts = parse_url($url);\n    if (!empty($parts['query'])) {\n        // Turn \"key=value&key2=value2\" into an associative array.\n        parse_str($parts['query'], $query);\n        // Check for a \"v\" parameter that looks like a valid video ID.\n        if (!empty($query['v']) && preg_match('#^[\\\\w-]{11}$#', $query['v'])) {\n            return $query['v'];\n        }\n    }\n\n    // If no valid ID was found, return null.\n    return null;\n}\n\n// Handle form submissions (POST requests).\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    // \"action\" tells us what the user wants to do (add or delete).\n    $action = $_POST['action'] ?? '';\n\n    // Handle adding a new video.\n    if ($action === 'add') {\n        // Read and trim form inputs (remove extra spaces).\n        $title = trim($_POST['title'] ?? '');\n        $url = trim($_POST['url'] ?? '');\n        $genre = trim($_POST['genre'] ?? '');\n        $description = trim($_POST['description'] ?? '');\n\n        // Basic validation: all fields are required.\n        if ($title === '' || $url === '' || $genre === '' || $description === '') {\n            $message = 'All fields are required.';\n        } else {\n            // Try to extract the YouTube video ID from the given URL.\n            $videoId = extractYouTubeId($url);\n\n            if ($videoId === null) {\n                // If the URL doesn't look like a valid YouTube link.\n                $message = 'Unable to determine YouTube video ID from the provided link.';\n            } else {\n                // Prepare an INSERT statement using named placeholders.\n                // This helps prevent SQL injection and keeps code clean.\n                $stmt = $pdo->prepare(\n                    'INSERT INTO videos (title, url, video_id, genre, description, created_at)\n                     VALUES (:title, :url, :video_id, :genre, :description, :created_at)'\n                );\n\n                // Execute the prepared statement with actual values.\n                $stmt->execute([\n                    ':title' => $title,\n                    ':url' => $url,\n                    ':video_id' => $videoId,\n                    ':genre' => $genre,\n                    ':description' => $description,\n                    // Store the current time in a standard format (ISO 8601).\n                    ':created_at' => (new DateTimeImmutable())->format(DateTimeInterface::ATOM),\n                ]);\n\n                $message = 'Video added successfully!';\n            }\n        }\n    }\n    // Handle deleting a video.\n    elseif ($action === 'delete') {\n        // Read the video ID from the form and cast it to an integer.\n        $id = isset($_POST['id']) ? (int) $_POST['id'] : 0;\n\n        if ($id > 0) {\n            // Use a prepared statement to safely delete the row.\n            $stmt = $pdo->prepare('DELETE FROM videos WHERE id = :id');\n            $stmt->execute([':id' => $id]);\n            $message = 'Video deleted.';\n        }\n    }\n}\n\n// Fetch all videos from the database, newest first.\n$videosStmt = $pdo->query('SELECT * FROM videos ORDER BY created_at DESC');\n\n// fetchAll(PDO::FETCH_ASSOC) returns an array of associative arrays.\n$videos = $videosStmt->fetchAll(PDO::FETCH_ASSOC);\n\n// Determine which video should be shown in the player.\n// If the URL has ?watch=ID, use that. Otherwise, use the first video.\n$selectedId = isset($_GET['watch']) ? (int) $_GET['watch'] : null;\n$selectedVideo = null;\n\n// Look through the list to find the selected video by ID.\nif ($selectedId !== null) {\n    foreach ($videos as $video) {\n        if ((int) $video['id'] === $selectedId) {\n            $selectedVideo = $video;\n            break;\n        }\n    }\n}\n\n// If nothing is selected but there are videos, use the first one.\nif ($selectedVideo === null && !empty($videos)) {\n    $selectedVideo = $videos[0];\n}\n\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <!-- Make the page responsive on phones and tablets -->\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>YouTube Video Manager</title>\n    <style>\n        /* Basic page styling using CSS */\n        body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 0;\n            background: #f3f4f6;\n            color: #1f2933;\n        }\n        header {\n            background: #1a73e8;\n            color: white;\n            padding: 1rem 2rem;\n        }\n        main {\n            padding: 2rem;\n            max-width: 1200px;\n            margin: 0 auto;\n        }\n        .section {\n            background: white;\n            border-radius: 8px;\n            padding: 1.5rem;\n            margin-bottom: 1.5rem;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        form .field {\n            display: flex;\n            flex-direction: column;\n            margin-bottom: 1rem;\n        }\n        form label {\n            font-weight: bold;\n            margin-bottom: 0.5rem;\n        }\n        form input[type=\"text\"],\n        form textarea {\n            padding: 0.75rem;\n            border: 1px solid #cbd5e1;\n            border-radius: 4px;\n            font-size: 1rem;\n        }\n        form textarea {\n            resize: vertical;\n            min-height: 100px;\n        }\n        form button {\n            background: #1a73e8;\n            color: white;\n            border: none;\n            padding: 0.75rem 1.5rem;\n            font-size: 1rem;\n            border-radius: 4px;\n            cursor: pointer;\n            transition: background 0.2s ease-in-out;\n        }\n        form button:hover {\n            background: #1558b0;\n        }\n        .message {\n            margin-bottom: 1rem;\n            color: #0f5132;\n        }\n        .video-player iframe {\n            width: 100%;\n            height: 420px;\n            border: none;\n            border-radius: 8px;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n        }\n        th, td {\n            padding: 0.75rem;\n            border-bottom: 1px solid #e2e8f0;\n            text-align: left;\n            vertical-align: top;\n        }\n        th {\n            background: #f8fafc;\n        }\n        .actions {\n            display: flex;\n            gap: 0.5rem;\n        }\n        .actions a,\n        .actions button {\n            padding: 0.5rem 1rem;\n            border-radius: 4px;\n            text-decoration: none;\n            font-size: 0.9rem;\n        }\n        .play-button {\n            background: #22c55e;\n            color: white;\n        }\n        .play-button:hover {\n            background: #16a34a;\n        }\n        .delete-button {\n            background: #ef4444;\n            color: white;\n            border: none;\n            cursor: pointer;\n        }\n        .delete-button:hover {\n            background: #dc2626;\n        }\n        .description {\n            white-space: pre-wrap; /* Preserve line breaks in descriptions */\n        }\n        @media (max-width: 768px) {\n            .actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n<header>\n    <h1>YouTube Video Manager</h1>\n</header>\n<main>\n    <!-- Section: Form to add a new video -->\n    <section class=\"section\">\n        <h2>Add a New Video</h2>\n\n        <!-- Show any success or error message to the user -->\n        <?php if ($message !== ''): ?>\n            <p class=\"message\">\n                <?php echo htmlspecialchars($message, ENT_QUOTES, 'UTF-8'); ?>\n            </p>\n        <?php endif; ?>\n\n        <!-- \"Add video\" form -->\n        <form method=\"post\">\n            <!-- Hidden field tells PHP that this form is for \"add\" action -->\n            <input type=\"hidden\" name=\"action\" value=\"add\">\n\n            <div class=\"field\">\n                <label for=\"title\">Title</label>\n                <input type=\"text\" id=\"title\" name=\"title\" required>\n            </div>\n\n            <div class=\"field\">\n                <label for=\"url\">YouTube Link</label>\n                <input type=\"text\" id=\"url\" name=\"url\" required>\n            </div>\n\n            <div class=\"field\">\n                <label for=\"genre\">Genre</label>\n                <input type=\"text\" id=\"genre\" name=\"genre\" required>\n            </div>\n\n            <div class=\"field\">\n                <label for=\"description\">Description</label>\n                <textarea id=\"description\" name=\"description\" required></textarea>\n            </div>\n\n            <button type=\"submit\">Add Video</button>\n        </form>\n    </section>\n\n    <!-- Section: Selected video player -->\n    <section class=\"section video-player\">\n        <h2>Selected Video</h2>\n\n        <?php if ($selectedVideo): ?>\n            <!-- Show the selected video's title -->\n            <h3>\n                <?php echo htmlspecialchars($selectedVideo['title'], ENT_QUOTES, 'UTF-8'); ?>\n            </h3>\n\n            <!-- Embed the YouTube video using the extracted video_id -->\n            <iframe\n                src=\"https://www.youtube.com/embed/<?php echo htmlspecialchars($selectedVideo['video_id'], ENT_QUOTES, 'UTF-8'); ?>\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowfullscreen>\n            </iframe>\n\n            <!-- Show the genre and description -->\n            <p>\n                <strong>Genre:</strong>\n                <?php echo htmlspecialchars($selectedVideo['genre'], ENT_QUOTES, 'UTF-8'); ?>\n            </p>\n            <p class=\"description\">\n                <?php\n                // nl2br() converts line breaks to <br> tags for better formatting.\n                echo nl2br(htmlspecialchars($selectedVideo['description'], ENT_QUOTES, 'UTF-8'));\n                ?>\n            </p>\n        <?php else: ?>\n            <!-- When no videos exist yet -->\n            <p>No videos available yet. Add one above to get started!</p>\n        <?php endif; ?>\n    </section>\n\n    <!-- Section: Table listing all videos -->\n    <section class=\"section\">\n        <h2>All Videos</h2>\n\n        <?php if (empty($videos)): ?>\n            <p>No videos saved.</p>\n        <?php else: ?>\n            <table>\n                <thead>\n                <tr>\n                    <th>Title</th>\n                    <th>Genre</th>\n                    <th>Description</th>\n                    <th>Link</th>\n                    <th>Actions</th>\n                </tr>\n                </thead>\n                <tbody>\n                <!-- Loop through all videos and show each in a table row -->\n                <?php foreach ($videos as $video): ?>\n                    <tr>\n                        <td>\n                            <?php echo htmlspecialchars($video['title'], ENT_QUOTES, 'UTF-8'); ?>\n                        </td>\n                        <td>\n                            <?php echo htmlspecialchars($video['genre'], ENT_QUOTES, 'UTF-8'); ?>\n                        </td>\n                        <td class=\"description\">\n                            <?php echo nl2br(htmlspecialchars($video['description'], ENT_QUOTES, 'UTF-8')); ?>\n                        </td>\n                        <td>\n                            <!-- Link to the original YouTube URL in a new tab -->\n                            <a href=\"<?php echo htmlspecialchars($video['url'], ENT_QUOTES, 'UTF-8'); ?>\"\n                               target=\"_blank\" rel=\"noopener noreferrer\">\n                                Open\n                            </a>\n                        </td>\n                        <td>\n                            <div class=\"actions\">\n                                <!-- \"Play\" button just reloads the page with ?watch=ID -->\n                                <a class=\"play-button\"\n                                   href=\"?watch=<?php echo (int) $video['id']; ?>\">\n                                    Play\n                                </a>\n\n                                <!-- \"Delete\" form for this specific video -->\n                                <form method=\"post\"\n                                      onsubmit=\"return confirm('Are you sure you want to delete this video?');\">\n                                    <input type=\"hidden\" name=\"action\" value=\"delete\">\n                                    <input type=\"hidden\" name=\"id\"\n                                           value=\"<?php echo (int) $video['id']; ?>\">\n                                    <button type=\"submit\" class=\"delete-button\">\n                                        Delete\n                                    </button>\n                                </form>\n                            </div>\n                        </td>\n                    </tr>\n                <?php endforeach; ?>\n                </tbody>\n            </table>\n        <?php endif; ?>\n    </section>\n</main>\n</body>\n</html>\n","type":"content","url":"/wpref/youtubedemo","position":1},{"hierarchy":{"lvl1":"PHP Arrays"},"type":"lvl1","url":"/wpref/phparrays","position":0},{"hierarchy":{"lvl1":"PHP Arrays"},"content":"","type":"content","url":"/wpref/phparrays","position":1},{"hierarchy":{"lvl1":"PHP Arrays","lvl2":"Key ideas"},"type":"lvl2","url":"/wpref/phparrays#key-ideas","position":2},{"hierarchy":{"lvl1":"PHP Arrays","lvl2":"Key ideas"},"content":"array()\n\ncount()\n\nArray Positions\n\nPrinting arrays via for statement\n\nAssociative arrays\n\nvar_dump()\n\nprint_r()\n\nsorting\n\nsort()\n\nrsort()\n\nasort()\n\narsort()\n\nksort()\n\nkrsort()","type":"content","url":"/wpref/phparrays#key-ideas","position":3},{"hierarchy":{"lvl1":"PHP Arrays","lvl2":"Lecture Code"},"type":"lvl2","url":"/wpref/phparrays#lecture-code","position":4},{"hierarchy":{"lvl1":"PHP Arrays","lvl2":"Lecture Code"},"content":"<?php\n// Arrays\n\n//Some data\n$myVar = 42;\n\n//--------------- Create An Array ------------------------------\necho \"<br><br><hr><br><br>\";\n\n// Note that we declare array using the array keyword\n// Also, since PHP is loosely typed, we can store any type of \n// data in the array.  Notice how we have strings, numbers and \n// a variable in the same array. \n\n$arrayName = array(\"Hitch Hikers Guide\", 3, $myVar);\n\n//Get the actual number of elements using the count function\necho \"Count of array elements<br>\".count($arrayName); \t\t\t//display the count on screen\n$arrayCount = count($arrayName);\t//Store the count in a variable\n\n\n//---------------Access Array Data By Element Number ----------\necho \"<br><br><hr><br><br>\";\n\n//print the elements of the array by specific element\necho $arrayName[0].\"<br>\";\necho $arrayName[1].\"<br>\";\necho $arrayName[2].\"<br>\";\n\n\n//---------- Check To See If Variable Is An Array--------------\necho \"<br><br><hr><br><br>\";\necho \"Check if variable is array<br><br>\";\n///check if the variable is an array\nif(is_array($arrayName))\n{\n\techo(\" is an array<br><br>\");\n}\nelse\n{\n\techo(\" is not an array<br><br>\");\n}\necho \"<br><br><hr><br><br>\";\n\n//Print the array in a for loop\nfor ($cnt = 0; $cnt < $arrayCount; $cnt++ )\n{\n\techo (\"*\".$arrayName[$cnt].\"<br>\");\n}\n\n\n//---------- Create an associative array  ---------------------\necho \"<br><br><hr><br><br>\";\n$asscArray = array(\"key1\" => \"the first element\",\n\t\t\t\t\t  \"key2\" => \"the second element\",\n\t\t\t\t\t  \"key3\" => \"the third element\");\n//add a new key and value to $asscArray\n$asscArray[\"bubba\"] = 1000;\t\t\t\t\t  \n\n\n//access data via key value\t\t\t\t\t  \necho ($asscArray[\"key1\"].\"<br>\");\necho ($asscArray['key3'].\"<br>\");\necho ($asscArray[\"key2\"].\"<br>\");\necho ($asscArray[\"bubba\"].\"<br>\");\n\n\n//print associative array via a foreach loop\nforeach($asscArray as $xkey => $xvalue)\n{\n\techo ($xkey.\" --- \".$xvalue.\"<br>\");\n}\n\n//print associative array via a foreach loop as a table\necho(\"<table border = 2>\");\nforeach($asscArray as $xkey => $xvalue)\n{\n\techo (\"<tr><td>\".$xkey.\"</td><td>\".$xvalue.\"</td></tr>\");\n}\necho(\"</table>\");\n\n// **********************************************************\necho(\"Create and associate array Example 2\");\n\n$capitals = array(  \"myKey\" =>  \"myvalue\",\n                    \"MT\"    =>  \"Helena\",\n                    \"ID\"    =>  \"Boise\",\n                    \"WY\"    =>  \"Cheynne\",\n                    \"IL\"    =>  \"Springfield\");\necho(\"<br><br>\");\n\nvar_dump($capitals,$aan);\necho(\"<br><br>\");\n\n// Add to the array\n$capitals[\"WA\"] = \"Seattle\";\n\nprint_r($capitals);\n\n// put in a table\necho('<table border=\"2\">');\nforeach($capitals as $key => $value)\n{\n    echo(\"<tr><td>\".$key.\"</td><td>\".$value.\"</td></tr>\");\n}\necho('</table>');\n\necho(\"<br><br><hr><br><br>\");\n\n\n// **********************************************************\n\n//--------- Create A Two Dimensional Array ------------------------------------------\n$product  = array(array(\"S6E\",1250,6),\n\t\t\t\t  array(\"S6A\", 900,6),\n\t\t\t\t  array(\"S5\",  500, 5.7),\n\t\t\t\t  array(\"S4\",   80, 5)\n\t\t\t\t  );\n\t\t\t\t  \necho (\"<br><hr><br>Access Array Data Via Element Number<br><br>\");\necho ($product[0][0].\" costs $\".$product[0][1].\" screen = \". $product[0][2].\"<br>\" );\necho ($product[1][0].\" costs $\".$product[1][1].\" screen = \". $product[1][2].\"<br>\" );\necho ($product[2][0].\" costs $\".$product[2][1].\" screen = \". $product[2][2].\"<br>\" );\necho ($product[3][0].\" costs $\".$product[3][1].\" screen = \". $product[3][2].\"<br>\" );\n\n\n//Print the two dimensional array using two FOR loops\necho(\"<br><br>Loop<br><br>\");\necho(\"<table border=1>\");\nfor($row = 0; $row < 4; $row++)\n{\n\techo(\"<tr>\");\n\tfor($col = 0;$col < 3; $col++)\n\t{\n\t\techo (\"<td>\".$product[$row][$col].\"</td>\" );\n\t}\n\techo(\"</tr>\");\n\n}\necho(\"</table>\");\n\n//-----------  Create A 2 Dimensional Associative Array  --------------------------------\necho(\"<br><br>Multi Associative<br><br>\");\n$product2  = array(array(\"Model\"=>\"S6E\",\"Price\"=>1250,\"Screen\"=>6),\n\t\t\t\t  array(\"Model\"=>\"S6A\",\"Price\"=> 900,\"Screen\"=>6),\n\t\t\t\t  array(\"Model\"=>\"S5\", \"Price\"=> 500, \"Screen\"=>5.7),\n\t\t\t\t  array(\"Model\"=>\"S4\", \"Price\"=>  80, \"Screen\"=>5)\n\t\t\t\t  );\n\n\t\t\t\t  \n//Print 2 Dimensional Array Using For Loop\nfor($row = 0;$row < 4; $row++)\n{\n\techo($product2[$row][\"Model\"].\" -- \".$product2[$row][\"Price\"].\" -- \".\n\t\t$product2[$row][\"Screen\"].\" <br>\");\n}\n\n//Print 2 Dimensional Array Using For Loop As A Table\necho(\"<br><br>\");\necho(\"<table border=1>\");\nfor($row = 0;$row < 4; $row++)\n{\n\techo(\"<tr>\");\n\techo(\"<td>\".$product2[$row][\"Model\"].\"</td><td>\".$product2[$row][\"Price\"].\"</td><td>\".\n\t\t$product2[$row][\"Screen\"].\" </td>\");\n\techo(\"</tr>\");\n}\necho(\"</table>\");\n\necho (\"<br><br><br><br><br>\");\n\n\n//---------------------   Sorting  --------------------------------------------\n//Create Sample Array for sorting\n$array3 = array(42, 3, 54, 9, 88, 6, 33, 2, 11, 1);\n\n//print the array with var_dump - shows array, data and data types\nvar_dump($array3);\necho(\"<br><br>\");\n\n//print the array using print_r - shows the array and the values in the array\nprint_r($array3);\necho(\"<br><br>\");\n\n//print the array using a for statement\nfor($i = 0; $i < count($array3); $i++)\n{\n\techo ($array3[$i].\"&nbsp;&nbsp;\");\n}\n\n//Sort the array\nsort($array3);\n\necho(\"<br><br>\");\n//print out the array\nfor($i = 0; $i < count($array3); $i++)\n{\n\techo ($array3[$i].\"&nbsp;&nbsp;\");\n}\n\n//Reverse the array sort\nrsort($array3);\n\necho(\"<br><br>\");\n\n//Print the reverse display\nfor($i = 0; $i < count($array3); $i++)\n{\n\techo ($array3[$i].\"&nbsp;&nbsp;\");\n}\n\necho(\"<br><br><br><br>\");\n$product3  = array(array(\"Model\"=>\"X6E\",\"Price\"=>1250,\"Screen\"=>6),\n\t\t\t\t  array(\"Model\"=>\"S6A\",\"Price\"=> 900,\"Screen\"=>6),\n\t\t\t\t  array(\"Model\"=>\"J5B\", \"Price\"=> 500, \"Screen\"=>5.7),\n\t\t\t\t  array(\"Model\"=>\"A4C\", \"Price\"=>  80, \"Screen\"=>5)\n\t\t\t\t  );\n\n\n$product3  = array(\t\"X6E\"=>1250,\n\t\t\t\t\t\"S6A\"=> 300,\n\t\t\t\t\t\"J5B\"=> 500,\n\t\t\t\t\t\"A4C\"=>  80\n\t\t\t\t  );\n\n\t\t\t\t  \nasort($product3);\n\t\t\t\t\necho(\"<br><br>Associative Array - value sort<br><br>\");\necho(\"<table border = 2>\");\nforeach($product3 as $xkey => $xvalue)\n{\n\techo (\"<tr><td>\".$xkey.\"</td><td>\".$xvalue.\"</td></tr>\");\n}\necho(\"</table>\");\n\narsort($product3);\n\t\t\t\t\necho(\"<br><br>Associative Array - value Reverse sort<br><br>\");\necho(\"<table border = 2>\");\nforeach($product3 as $xkey => $xvalue)\n{\n\techo (\"<tr><td>\".$xkey.\"</td><td>\".$xvalue.\"</td></tr>\");\n}\necho(\"</table>\");\n\n//zzzzzzzzzzzzzzzzz\nksort($product3);\n\t\t\t\t\necho(\"<br><br>Associative Array - key sort<br><br>\");\necho(\"<table border = 2>\");\nforeach($product3 as $xkey => $xvalue)\n{\n\techo (\"<tr><td>\".$xkey.\"</td><td>\".$xvalue.\"</td></tr>\");\n}\necho(\"</table>\");\n\nkrsort($product3);\n\t\t\t\t\necho(\"<br><br>Associative Array - key reverse sort<br><br>\");\necho(\"<table border = 2>\");\nforeach($product3 as $xkey => $xvalue)\n{\n\techo (\"<tr><td>\".$xkey.\"</td><td>\".$xvalue.\"</td></tr>\");\n}\necho(\"</table>\");\necho (\"<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>\");\n?>\n","type":"content","url":"/wpref/phparrays#lecture-code","position":5},{"hierarchy":{"lvl1":"PHP Arrays","lvl2":"Summary of Code"},"type":"lvl2","url":"/wpref/phparrays#summary-of-code","position":6},{"hierarchy":{"lvl1":"PHP Arrays","lvl2":"Summary of Code"},"content":"The if statement in the provided code is used to check if the variable $arrayName is an array. Here‚Äôs a breakdown of its purpose:\n\nPurpose:\n\nTo verify the data type of the variable $arrayName.\n\nTo ensure that subsequent operations on the variable are performed correctly based on its type.\n\nLogic:\n\nThe is_array($arrayName) function is used to determine if $arrayName is an array.\n\nIf the function returns true, it means $arrayName is indeed an array. In this case, the code within the if block is executed, which prints the message \" is an array\" to the output.\n\nIf the function returns false, it means $arrayName is not an array. In this case, the code within the else block is executed, which prints the message \" is not an array\" to the output.\n\nArray Creation and Access:\n\nIndexed arrays: Created using the array() keyword and accessed by their numeric index.\n\nAssociative arrays: Created using key-value pairs and accessed by their keys.\n\nMultidimensional arrays: Created by nesting arrays within each other and accessed using multiple indexes.\n\nArray Functions:\n\ncount(): Returns the number of elements in an array.\n\nis_array(): Checks if a variable is an array.\n\nsort(): Sorts an array in ascending order.\n\nrsort(): Sorts an array in descending order.\n\nasort() : Sorts an associative  array by value in ascending order.\n\narsort(): Sorts an associative array by value in descending order.\n\nksort()  : Sorts an associative  array by key in ascending order.\n\nkrsort(): Sorts an associative array by key in descending order.\n\nArray Traversal:\n\nfor loops: Used to iterate over indexed arrays.\n\nforeach loops: Used to iterate over associative arrays.\n\nArray Output:\n\necho and print: Used to print array elements.\n\nvar_dump(): Prints detailed information about an array, including its data type and values.\n\nprint_r(): Prints a human-readable representation of an array.","type":"content","url":"/wpref/phparrays#summary-of-code","position":7},{"hierarchy":{"lvl1":"Content Security Policy"},"type":"lvl1","url":"/wpref/xsscontentsecuritypolicy","position":0},{"hierarchy":{"lvl1":"Content Security Policy"},"content":"","type":"content","url":"/wpref/xsscontentsecuritypolicy","position":1},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"The Browser‚Äôs Bodyguard"},"type":"lvl2","url":"/wpref/xsscontentsecuritypolicy#the-browsers-bodyguard","position":2},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"The Browser‚Äôs Bodyguard"},"content":"In the constant duel between security and convenience, Cross-Site Scripting (XSS) remains a classic ambush. Developers defend their web pages with careful escaping and validation, but even the best code occasionally slips. That‚Äôs where Content Security Policy (CSP) steps in ‚Äî not as a replacement, but as a complementary layer of armor.","type":"content","url":"/wpref/xsscontentsecuritypolicy#the-browsers-bodyguard","position":3},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"1. What is Content Security Policy (CSP)?"},"type":"lvl2","url":"/wpref/xsscontentsecuritypolicy#id-1-what-is-content-security-policy-csp","position":4},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"1. What is Content Security Policy (CSP)?"},"content":"CSP is an HTTP response header that acts as a browser-enforced whitelist. It tells the browser exactly which sources of scripts, styles, images, fonts, and frames are trusted ‚Äî and blocks everything else.\n\nIn essence, CSP transforms the browser from a passive renderer into an active security guard.\n\nExample:Content-Security-Policy: default-src 'self'; script-src 'self' https://cdn.jsdelivr.net; object-src 'none';\n\nThis directive means:\n\nAll content must come from the same origin ('self').\n\nJavaScript may also load from jsDelivr.\n\nPlugins and embedded objects (like Flash or Java applets) are entirely forbidden.\n\nThe result: even if an attacker injects a malicious <script> tag, the browser refuses to execute it because it‚Äôs not on the approved list.","type":"content","url":"/wpref/xsscontentsecuritypolicy#id-1-what-is-content-security-policy-csp","position":5},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"2. Why CSP is Complementary, Not a Substitute"},"type":"lvl2","url":"/wpref/xsscontentsecuritypolicy#id-2-why-csp-is-complementary-not-a-substitute","position":6},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"2. Why CSP is Complementary, Not a Substitute"},"content":"It‚Äôs tempting to treat CSP as a magic fix for XSS ‚Äî but that would be a mistake.\nEscaping and validation remain your primary defense; CSP simply limits the damage if something slips through.\n\nHere‚Äôs why they must work hand-in-hand:\n\nCSP restricts behavior, not content.\nIt tells the browser what to load, but it can‚Äôt sanitize data. Escaping neutralizes harmful input before it ever reaches the browser.\n\nMisconfigurations happen.\nA single misplaced 'unsafe-inline' or forgotten domain can open the gates again. Proper escaping ensures that even missteps in policy remain survivable.\n\nBrowser support varies.\nOlder or embedded browsers may ignore parts of CSP. Escaping works everywhere.\n\nDefense in depth.\nSecurity thrives on redundancy. Escaping stops bad data; CSP catches anything that somehow sneaks through.\n\nThink of escaping as locking the door, and CSP as posting a guard outside.","type":"content","url":"/wpref/xsscontentsecuritypolicy#id-2-why-csp-is-complementary-not-a-substitute","position":7},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"3. Where and How to Apply a CSP Header"},"type":"lvl2","url":"/wpref/xsscontentsecuritypolicy#id-3-where-and-how-to-apply-a-csp-header","position":8},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"3. Where and How to Apply a CSP Header"},"content":"CSP is enforced by the browser but delivered by your server. You set it as an HTTP response header, usually through your web server configuration or application code.","type":"content","url":"/wpref/xsscontentsecuritypolicy#id-3-where-and-how-to-apply-a-csp-header","position":9},{"hierarchy":{"lvl1":"Content Security Policy","lvl3":"Apache Example","lvl2":"3. Where and How to Apply a CSP Header"},"type":"lvl3","url":"/wpref/xsscontentsecuritypolicy#apache-example","position":10},{"hierarchy":{"lvl1":"Content Security Policy","lvl3":"Apache Example","lvl2":"3. Where and How to Apply a CSP Header"},"content":"Header set Content-Security-Policy \"default-src 'self'; script-src 'self' https://cdn.jsdelivr.net; object-src 'none';\"","type":"content","url":"/wpref/xsscontentsecuritypolicy#apache-example","position":11},{"hierarchy":{"lvl1":"Content Security Policy","lvl3":"Nginx Example","lvl2":"3. Where and How to Apply a CSP Header"},"type":"lvl3","url":"/wpref/xsscontentsecuritypolicy#nginx-example","position":12},{"hierarchy":{"lvl1":"Content Security Policy","lvl3":"Nginx Example","lvl2":"3. Where and How to Apply a CSP Header"},"content":"add_header Content-Security-Policy \"default-src 'self'; script-src 'self' https://cdn.jsdelivr.net; object-src 'none';\";","type":"content","url":"/wpref/xsscontentsecuritypolicy#nginx-example","position":13},{"hierarchy":{"lvl1":"Content Security Policy","lvl3":"PHP Example","lvl2":"3. Where and How to Apply a CSP Header"},"type":"lvl3","url":"/wpref/xsscontentsecuritypolicy#php-example","position":14},{"hierarchy":{"lvl1":"Content Security Policy","lvl3":"PHP Example","lvl2":"3. Where and How to Apply a CSP Header"},"content":"<?php\nheader(\"Content-Security-Policy: default-src 'self'; script-src 'self' https://cdn.jsdelivr.net; object-src 'none';\");\n?>\n\n(Place this before any HTML output so the header is sent correctly.)","type":"content","url":"/wpref/xsscontentsecuritypolicy#php-example","position":15},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"4. The Meta Tag ‚Äî A Limited Alternative"},"type":"lvl2","url":"/wpref/xsscontentsecuritypolicy#id-4-the-meta-tag-a-limited-alternative","position":16},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"4. The Meta Tag ‚Äî A Limited Alternative"},"content":"When you can‚Äôt modify server headers (for instance, on a static host or learning environment), CSP can also be added via a <meta> tag:<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self'; script-src 'self'\">\n\nThis works only for the current document and has limited enforcement power. It‚Äôs fine for classroom demos or single pages, but in production, always use the HTTP header form.","type":"content","url":"/wpref/xsscontentsecuritypolicy#id-4-the-meta-tag-a-limited-alternative","position":17},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"5. Building a Policy in Practice"},"type":"lvl2","url":"/wpref/xsscontentsecuritypolicy#id-5-building-a-policy-in-practice","position":18},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"5. Building a Policy in Practice"},"content":"Start simple, test carefully, then tighten. CSP has a report-only mode that allows you to test your policy without breaking your site:Content-Security-Policy-Report-Only: default-src 'self';\n\nYou can even log violations to a monitoring endpoint:Content-Security-Policy: default-src 'self'; report-uri /csp-violation-report-endpoint/;\n\nThis iterative approach lets you fine-tune your policy safely before enforcement.","type":"content","url":"/wpref/xsscontentsecuritypolicy#id-5-building-a-policy-in-practice","position":19},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"6. The Belt and Suspenders Philosophy"},"type":"lvl2","url":"/wpref/xsscontentsecuritypolicy#id-6-the-belt-and-suspenders-philosophy","position":20},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"6. The Belt and Suspenders Philosophy"},"content":"Security is strongest when multiple defenses overlap.\n\nEscaping: Removes or neutralizes malicious input.\n\nValidation: Ensures only expected data enters the system.\n\nCSP: Stops execution or loading of untrusted resources.\n\nTogether, they form a resilient shield that protects your users, your data, and your reputation.\n\nProper escaping is the brakes;\nCSP is the seatbelt.\nYou need both to stay safe on the open web.","type":"content","url":"/wpref/xsscontentsecuritypolicy#id-6-the-belt-and-suspenders-philosophy","position":21},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"Summary Checklist"},"type":"lvl2","url":"/wpref/xsscontentsecuritypolicy#summary-checklist","position":22},{"hierarchy":{"lvl1":"Content Security Policy","lvl2":"Summary Checklist"},"content":"Layer\n\nPurpose\n\nImplementation\n\nEscape Output\n\nPrevent injection from rendering\n\nhtmlspecialchars() or equivalent\n\nValidate Input\n\nReject invalid data early\n\nWhitelist and sanitize\n\nUse CSP Header\n\nRestrict script and content sources\n\nSet via HTTP header\n\nTest with Report-Only\n\nMonitor before enforcing\n\nLog violations safely\n\nIterate Gradually\n\nRefine over time\n\nAdd domains only when needed","type":"content","url":"/wpref/xsscontentsecuritypolicy#summary-checklist","position":23},{"hierarchy":{"lvl1":"Content Security Policy","lvl3":"Final Thought","lvl2":"Summary Checklist"},"type":"lvl3","url":"/wpref/xsscontentsecuritypolicy#final-thought","position":24},{"hierarchy":{"lvl1":"Content Security Policy","lvl3":"Final Thought","lvl2":"Summary Checklist"},"content":"CSP isn‚Äôt a silver bullet ‚Äî but it‚Äôs a brilliant ally.\nIt turns the browser from a passive rendering engine into a vigilant partner in security.\nUse it thoughtfully, pair it with strong coding practices, and your web applications will stand firm against the most persistent adversaries of the modern web.\n\n10/2025","type":"content","url":"/wpref/xsscontentsecuritypolicy#final-thought","position":25},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting"},"type":"lvl1","url":"/wpref/xssdefendingagainstxss","position":0},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting"},"content":"Cross-Site Scripting (XSS) is one of the most common ‚Äî and dangerous ‚Äî web security flaws. At its core, XSS happens when untrusted content makes its way into a webpage without being properly handled, letting an attacker run malicious JavaScript in another user‚Äôs browser.\n\nThe good news? A handful of defensive habits stop most XSS dead in its tracks. Below is a practical XSS Defense Checklist that explains not only what to do, but why it matters.","type":"content","url":"/wpref/xssdefendingagainstxss","position":1},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"1. Escape Output (Context-Aware)"},"type":"lvl2","url":"/wpref/xssdefendingagainstxss#id-1-escape-output-context-aware","position":2},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"1. Escape Output (Context-Aware)"},"content":"Escaping means converting potentially dangerous characters (<, >, \", ', &) into harmless equivalents before showing them in a web page. For example:$name = \"<script>alert(1)</script>\";\necho htmlspecialchars($name, ENT_QUOTES, 'UTF-8');\n\nThis would display literally <script>alert(1)</script> in the browser instead of executing it.\n\nBut here‚Äôs the subtlety: context matters.\n\nHTML body content: Use htmlspecialchars() in PHP or .textContent in JS.\n\nHTML attributes: Make sure quotes are escaped.\n\nJavaScript inline: Encode data as JSON, not raw text.\n\nCSS/URLs: Encode values or, better, disallow dynamic injection entirely.\n\nüëâ The key lesson: Escape when outputting, not when inputting. Input sanitization alone can‚Äôt predict every possible context where data will appear.","type":"content","url":"/wpref/xssdefendingagainstxss#id-1-escape-output-context-aware","position":3},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"2. Validate & Sanitize Input"},"type":"lvl2","url":"/wpref/xssdefendingagainstxss#id-2-validate-sanitize-input","position":4},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"2. Validate & Sanitize Input"},"content":"Validation asks: Is this data what I expect?\n\nLast name ‚Üí letters, spaces, hyphens only.\n\nEmail ‚Üí valid email format.\n\nSanitization cleans unwanted bits, but it should never replace escaping. Think of it as a helpful filter, not the main defense.","type":"content","url":"/wpref/xssdefendingagainstxss#id-2-validate-sanitize-input","position":5},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"3. Use Content Security Policy (CSP)"},"type":"lvl2","url":"/wpref/xssdefendingagainstxss#id-3-use-content-security-policy-csp","position":6},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"3. Use Content Security Policy (CSP)"},"content":"A strong CSP header acts as a seatbelt:Content-Security-Policy: default-src 'self'; script-src 'self'\n\nEven if an attacker sneaks code in, CSP limits what can run. It‚Äôs not a substitute for escaping, but it reduces the blast radius of mistakes.","type":"content","url":"/wpref/xssdefendingagainstxss#id-3-use-content-security-policy-csp","position":7},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"4. Don‚Äôt Trust JavaScript with HTML Injection"},"type":"lvl2","url":"/wpref/xssdefendingagainstxss#id-4-dont-trust-javascript-with-html-injection","position":8},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"4. Don‚Äôt Trust JavaScript with HTML Injection"},"content":"Tempting but dangerous:\n\n‚ùå innerHTML\n\n‚ùå document.write()\n\n‚ùå $('.element').html()\n\nSafer alternatives:\n\n‚úÖ textContent\n\n‚úÖ createElement\n\n‚úÖ Framework auto-escaping (React, Vue, Angular).","type":"content","url":"/wpref/xssdefendingagainstxss#id-4-dont-trust-javascript-with-html-injection","position":9},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"5. Use Frameworks Safely"},"type":"lvl2","url":"/wpref/xssdefendingagainstxss#id-5-use-frameworks-safely","position":10},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"5. Use Frameworks Safely"},"content":"Modern frameworks protect you ‚Äî until you override them.\n\nReact‚Äôs dangerouslySetInnerHTML\n\nVue‚Äôs v-html\n\nBoth are escape hatches. Use them rarely, and only with fully trusted content.","type":"content","url":"/wpref/xssdefendingagainstxss#id-5-use-frameworks-safely","position":11},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"6. Protect Your Forms"},"type":"lvl2","url":"/wpref/xssdefendingagainstxss#id-6-protect-your-forms","position":12},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"6. Protect Your Forms"},"content":"While not directly XSS, CSRF tokens stop attackers from tricking users into submitting malicious forms. Since XSS and CSRF often appear together, defense in depth is key.","type":"content","url":"/wpref/xssdefendingagainstxss#id-6-protect-your-forms","position":13},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"7. Encode on the Way Out"},"type":"lvl2","url":"/wpref/xssdefendingagainstxss#id-7-encode-on-the-way-out","position":14},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"7. Encode on the Way Out"},"content":"Escaping at input time sounds convenient ‚Äî but it‚Äôs fragile. What if the data is later used in a different context (HTML vs. JS)?\n\nEncoding at output ensures the escape matches the context every time. It‚Äôs the difference between a one-size-fits-none approach and a tailored, future-proof defense.","type":"content","url":"/wpref/xssdefendingagainstxss#id-7-encode-on-the-way-out","position":15},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"8. Audit & Test"},"type":"lvl2","url":"/wpref/xssdefendingagainstxss#id-8-audit-test","position":16},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"8. Audit & Test"},"content":"No defense is perfect without testing. Use:\n\nAutomated tools: OWASP ZAP, Burp Suite.\n\nManual payloads:<script>alert(1)</script>\n<img src=x onerror=alert(2)>\n\"><svg onload=alert(3)>\n\nIf any of these run, you‚Äôve got work to do.","type":"content","url":"/wpref/xssdefendingagainstxss#id-8-audit-test","position":17},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"The Golden Rule"},"type":"lvl2","url":"/wpref/xssdefendingagainstxss#the-golden-rule","position":18},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl2":"The Golden Rule"},"content":"Treat all user input as hostile. Escape it when you output it.\nDo that, and you‚Äôll block 90% of XSS attempts before they ever start.\n\nEscaping is your first line of defense. Validation, CSP, and safer coding practices are the reinforcements. Together, they form a layered security strategy that keeps both your applications and your users safe.","type":"content","url":"/wpref/xssdefendingagainstxss#the-golden-rule","position":19},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl3":"10/2025","lvl2":"The Golden Rule"},"type":"lvl3","url":"/wpref/xssdefendingagainstxss#id-10-2025","position":20},{"hierarchy":{"lvl1":"Defending Against Cross Site Scripting","lvl3":"10/2025","lvl2":"The Golden Rule"},"content":"","type":"content","url":"/wpref/xssdefendingagainstxss#id-10-2025","position":21},{"hierarchy":{"lvl1":"XSS Examples"},"type":"lvl1","url":"/wpref/xssexamples","position":0},{"hierarchy":{"lvl1":"XSS Examples"},"content":"This short chapter demonstrates two common XSS scenarios and how to fix them:\n\nReflected XSS ‚Äî user input (from the query string) is immediately written back into the page. The vulnerable example prints the raw query value; the fixed example escapes it with htmlspecialchars so any injected <script> becomes harmless text.\n\nStored XSS (toy guestbook) ‚Äî a user-submitted message is stored in session and later rendered for all visitors. The vulnerable example renders the raw stored value, which will execute in the browser. The fixed example sanitizes stored values on output using a small sanitize() helper that performs trim(), strip_tags() and htmlspecialchars() (ENT_QUOTES, UTF-8).\n\nRead the inline comments ‚Äî I call out the vulnerable lines and explain the remediation. Use these pages in a classroom or lab to safely demonstrate how an attacker‚Äôs <script> turns into harmless text once properly escaped.","type":"content","url":"/wpref/xssexamples","position":1},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"index.php ‚Äî home page with demo links"},"type":"lvl2","url":"/wpref/xssexamples#index-php-home-page-with-demo-links","position":2},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"index.php ‚Äî home page with demo links"},"content":"<?php\n// index.php\n// Simple landing page linking to the vulnerable and fixed demo pages.\n//\n// This file is purely HTML. Links include an example exploit payload to\n// illustrate how a reflected XSS payload would look in the query string.\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\" />\n    <title>XSS Home Demo</title>\n    <style>\n        .div1 {\n            width: 50%;\n            background-color: cornsilk;\n            margin: 50px auto 0 auto;\n            padding: 1rem;\n            border-radius: 6px;\n            font-family: system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;\n        }\n        a { display:block; margin:8px 0; }\n    </style>\n</head>\n<body>\n    <div class=\"div1\">\n        <h1>XSS Demos</h1>\n\n        <!--\n          The query string contains a classic demo payload:\n          ?q=<script>alert('Hacked')</script>\n        -->\n        <a href=\"page1_reflect.php?q=<script>alert('Hacked')</script>\">\n            Page 1 ‚Äî Reflect (VULNERABLE)\n        </a>\n\n        <a href=\"page1_reflect_prevent.php?q=<script>alert('Hacked')</script>\">\n            Page 1 ‚Äî Reflect (Prevented)\n        </a>\n\n        <a href=\"stored_hacked.php\">Stored ‚Äî Guestbook (VULNERABLE)</a>\n        <a href=\"stored_hacked_prevent.php\">Stored ‚Äî Guestbook (Prevented)</a>\n\n        <a href=\"index.php\">Home</a>\n    </div>\n</body>\n</html>","type":"content","url":"/wpref/xssexamples#index-php-home-page-with-demo-links","position":3},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"page1_reflect.php ‚Äî vulnerable reflected XSS (don‚Äôt use in production)"},"type":"lvl2","url":"/wpref/xssexamples#page1-reflect-php-vulnerable-reflected-xss-dont-use-in-production","position":4},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"page1_reflect.php ‚Äî vulnerable reflected XSS (don‚Äôt use in production)"},"content":"<?php\n// page1_reflect.php\n// Demonstrates reflected XSS by echoing a query parameter directly.\n// *** VULNERABLE: the raw $q value is injected into the HTML output. ***\n\n// Use null coalescing so page still works without ?q= in the URL.\n$q = $_GET['q'] ?? '';\n?>\n<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"utf-8\" />\n    <title>Hacked (Reflect - Vulnerable)</title>\n    <style>\n        .div1 { width:50%; background:cornsilk; margin:50px auto; padding:1rem; }\n    </style>\n</head>\n<body>\n    <div class=\"div1\">\n        <h1>Search</h1>\n\n        <!-- VULNERABLE LINE: raw echo of user input -->\n        <!-- If q contains <script>... it will run in the visitor's browser. -->\n        <p>You searched for: <?= $q ?></p> <!-- VULNERABLE -->\n\n        <br>\n        <a href=\"index.php\">Home</a>\n    </div>\n</body>\n</html>\n\nTeaching note: open page1_reflect.php?q=<script>alert('Hacked')</script> to see how an attacker-supplied <script> executes. The vulnerability comes from outputting unescaped input into an HTML context.","type":"content","url":"/wpref/xssexamples#page1-reflect-php-vulnerable-reflected-xss-dont-use-in-production","position":5},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"page1_reflect_prevent.php ‚Äî reflected XSS fixed"},"type":"lvl2","url":"/wpref/xssexamples#page1-reflect-prevent-php-reflected-xss-fixed","position":6},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"page1_reflect_prevent.php ‚Äî reflected XSS fixed"},"content":"<?php\n// page1_reflect_prevent.php\n// Fixed version of reflected XSS demo. Escape output with htmlspecialchars\n// so any HTML tags supplied in the query string are rendered as text.\n\n$q = $_GET['q'] ?? '';\n\n// Use a small helper for clarity (context-aware escaping for HTML).\nfunction e($s) {\n    // ENT_QUOTES encodes both double and single quotes.\n    // 'UTF-8' ensures proper encoding for multibyte characters.\n    return htmlspecialchars((string)$s, ENT_QUOTES, 'UTF-8');\n}\n?>\n<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"utf-8\" />\n    <title>Hacked (Reflect - Prevented)</title>\n    <style>.div1 { width:50%; background:cornsilk; margin:50px auto; padding:1rem; }</style>\n</head>\n<body>\n    <div class=\"div1\">\n        <h1>Search</h1>\n\n        <!-- SAFE OUTPUT: any < or > in $q are converted to &lt; &gt; -->\n        <p>You searched for: <?= e($q) ?></p> <!-- NOT VULNERABLE -->\n\n        <br>\n        <a href=\"index.php\">Home</a>\n    </div>\n</body>\n</html>\n\nTeaching note: htmlspecialchars() is the appropriate escape for HTML body content. If you output into other contexts (e.g., attribute, JS, CSS, URL) you must use a different encoding or a trusted library for context-aware encoding.","type":"content","url":"/wpref/xssexamples#page1-reflect-prevent-php-reflected-xss-fixed","position":7},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"stored_hacked.php ‚Äî vulnerable stored XSS guestbook"},"type":"lvl2","url":"/wpref/xssexamples#stored-hacked-php-vulnerable-stored-xss-guestbook","position":8},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"stored_hacked.php ‚Äî vulnerable stored XSS guestbook"},"content":"<?php\n// stored_hacked.php\n// Toy guestbook that demonstrates stored XSS by rendering session-stored messages\n// without escaping them. DO NOT deploy this as-is.\n\nsession_start();\n\n// Place a malicious demo message in session to simulate previously stored content.\n$_SESSION['messages'] = [\"<script>alert('hacked stored!')</script>\"];\n\n// Load messages for display.\n$messages = $_SESSION['messages'] ?? [];\n\n// If the user posts something, the code below intentionally follows your original\n// request: keep the `if (!empty($_POST['msg']))` check exactly as provided.\nif (!empty($_POST['msg'])) {\n    // NOTE: this block is intentionally left minimal to match the original demo.\n    // In the vulnerable demo we would append raw values to the messages array.\n    // For clarity we simply reload messages here (no safe write).\n    $messages = $_SESSION['messages'];\n}\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"utf-8\" />\n    <title>Stored ‚Äî Guestbook (Vulnerable)</title>\n    <style>.div1 { width:50%; background:cornsilk; margin:50px auto; padding:1rem; }</style>\n</head>\n<body>\n    <div class=\"div1\">\n        <h1>Guestbook</h1>\n\n        <!-- Simple form to demonstrate posting -->\n        <form method=\"post\" action=\"\">\n            <input name=\"msg\" placeholder=\"Say hi\" value=\"Hello\">\n            <button>POST</button>\n        </form>\n\n        <ul>\n            <?php foreach ($messages as $m): ?>\n                <!-- VULNERABLE: stored messages are printed raw, so a stored <script> will execute -->\n                <li><?= (string) $m ?></li> <!-- VULNERABLE -->\n            <?php endforeach; ?>\n        </ul>\n\n        <br>\n        <a href=\"index.php\">Home</a>\n    </div>\n</body>\n</html>\n\nTeaching note: Stored XSS occurs when untrusted data is persisted (database, session, file) and later served to users without cleaning/escaping. The attack becomes more dangerous because many visitors might execute the injected script.","type":"content","url":"/wpref/xssexamples#stored-hacked-php-vulnerable-stored-xss-guestbook","position":9},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"stored_hacked_prevent.php ‚Äî stored XSS prevented (sanitizing on output)"},"type":"lvl2","url":"/wpref/xssexamples#stored-hacked-prevent-php-stored-xss-prevented-sanitizing-on-output","position":10},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"stored_hacked_prevent.php ‚Äî stored XSS prevented (sanitizing on output)"},"content":"<?php\n// stored_hacked_prevent.php\n// Prevents stored XSS by escaping/sanitizing messages before output.\n// Uses the same `if (!empty($_POST['msg']))` check as requested.\n\nsession_start();\n\n// Demo initial message that simulates previously stored malicious content.\n$_SESSION['messages'] = [\"<script>alert('hacked stored!')</script>\"];\n\n// Retrieve messages array from session\n$messages = $_SESSION['messages'] ?? [];\n\n// Keep original check as requested (no substitution)\nif (!empty($_POST['msg'])) {\n    // In a real app we would append the submitted message to the session or DB.\n    // For the classroom demo we show the flow but avoid writing raw content.\n    $messages = $_SESSION['messages'];\n}\n\n/**\n * sanitize()\n * - trim() removes leading/trailing whitespace\n * - strip_tags() removes HTML/PHP tags\n * - htmlspecialchars() escapes remaining special characters for HTML output\n *\n * This function is defensive and simple ‚Äî it's for demonstration and classroom use.\n * In production consider more context-aware measures (e.g., policies, CSP, output encoding libraries).\n */\nfunction sanitize($value)\n{\n    $value = trim((string)$value);                       // trim whitespace\n    $value = strip_tags($value);                        // remove HTML tags\n    $value = htmlspecialchars($value, ENT_QUOTES, 'UTF-8'); // escape for HTML context\n    return $value;\n}\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"utf-8\" />\n    <title>Stored ‚Äî Guestbook (Prevented)</title>\n    <style>.div1 { width:50%; background:cornsilk; margin:50px auto; padding:1rem; }</style>\n</head>\n<body>\n    <div class=\"div1\">\n        <h1>Guestbook ‚Äî Prevented</h1>\n\n        <form method=\"post\" action=\"\">\n            <input name=\"msg\" placeholder=\"Say hi\" value=\"Hello\">\n            <button>POST</button>\n        </form>\n\n        <ul>\n            <?php foreach ($messages as $m): ?>\n                <!-- SAFE: sanitize() neutralizes script tags and encodes special chars -->\n                <li><?= sanitize($m) ?></li> <!-- NOT VULNERABLE -->\n            <?php endforeach; ?>\n        </ul>\n\n        <br>\n        <a href=\"index.php\">Home</a>\n    </div>\n</body>\n</html>\n\nTeaching note: the safest approach is to escape on output for the context you are rendering into. Sanitizing on input can help (reduce stored attack surface), but escaping at output is the strongest, context-specific defense.","type":"content","url":"/wpref/xssexamples#stored-hacked-prevent-php-stored-xss-prevented-sanitizing-on-output","position":11},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"Observations"},"type":"lvl2","url":"/wpref/xssexamples#observations","position":12},{"hierarchy":{"lvl1":"XSS Examples","lvl2":"Observations"},"content":"Visit page1_reflect.php?q=<script>alert('XSS')</script> and then page1_reflect_prevent.php?q=<script>alert('XSS')</script> ‚Äî compare behavior.\n\nVisit stored_hacked.php and observe the alert from the session-stored message. Then load stored_hacked_prevent.php to see the sanitized result.\n\nDiscuss: what happens if you put onerror=\"...\" into an <img> tag inside a message? (Context matters ‚Äî attribute vs body.)\n\nDiscuss Content Security Policy (CSP) as a further mitigation, and why it‚Äôs complementary (not a substitute) to proper escaping.","type":"content","url":"/wpref/xssexamples#observations","position":13},{"hierarchy":{"lvl1":"XSS Examples","lvl3":"10/2025","lvl2":"Observations"},"type":"lvl3","url":"/wpref/xssexamples#id-10-2025","position":14},{"hierarchy":{"lvl1":"XSS Examples","lvl3":"10/2025","lvl2":"Observations"},"content":"","type":"content","url":"/wpref/xssexamples#id-10-2025","position":15}]}